(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{230:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){},255:function(e,t,a){},279:function(e,t){},281:function(e,t){},292:function(e,t){},294:function(e,t){},322:function(e,t){},324:function(e,t){},325:function(e,t){},330:function(e,t){},332:function(e,t){},338:function(e,t){},340:function(e,t){},359:function(e,t){},371:function(e,t){},374:function(e,t){},392:function(e,t,a){},401:function(e,t,a){},402:function(e,t,a){},404:function(e,t,a){},405:function(e,t,a){},408:function(e,t,a){},409:function(e,t,a){},410:function(e,t,a){},411:function(e,t,a){},412:function(e,t,a){},413:function(e,t,a){},414:function(e,t,a){},415:function(e,t,a){},416:function(e,t,a){},417:function(e,t,a){},418:function(e,t,a){},419:function(e,t,a){},420:function(e,t,a){},421:function(e,t,a){},422:function(e,t,a){},423:function(e,t,a){},425:function(e,t,a){},426:function(e,t,a){},427:function(e,t,a){},466:function(e,t,a){},467:function(e,t,a){},468:function(e,t,a){},469:function(e,t,a){},470:function(e,t,a){},471:function(e,t,a){},472:function(e,t,a){},473:function(e,t,a){},474:function(e,t,a){},475:function(e,t,a){},476:function(e,t,a){},480:function(e,t,a){},481:function(e,t,a){},482:function(e,t,a){},483:function(e,t,a){},484:function(e,t,a){},485:function(e,t,a){},486:function(e,t,a){},487:function(e,t,a){},488:function(e,t,a){},489:function(e,t,a){},490:function(e,t,a){},491:function(e,t,a){},492:function(e,t,a){},493:function(e,t,a){},494:function(e,t,a){},495:function(e,t,a){},496:function(e,t,a){},497:function(e,t,a){},498:function(e,t,a){},499:function(e,t,a){},500:function(e,t,a){},501:function(e,t,a){},502:function(e,t,a){},504:function(e,t,a){"use strict";a.r(t);var s=a(2),c=a.n(s),l=a(237),o=a.n(l),n=(a(255),a(7)),r=a(26),i=a(3),d=a.n(i),j=a(238),m=a.n(j),h=a(34),b=Object(h.createBrowserHistory)(),p=a(17),x=a.n(p),u=(a(392),a.p+"static/media/LOGINBACK.f8757d26.svg"),O=a(60),g=a(71),f=a(18),y=a(1);var v=e=>{const[t]=Object(s.useState)(""),[a,c]=Object(s.useState)(!1),[l]=Object(s.useState)("");return Object(y.jsx)("div",{style:{height:"100vh",width:"100%",overflow:"auto"},className:"  m-0 p-0 bg-light",children:Object(y.jsxs)("div",{style:{height:"100%",width:"100%"},className:"row mx-auto bg-white",children:[Object(y.jsx)("div",{style:{height:"100%"},className:"col-12 col-md-6 position-relative  px-0 p-md-5 d-flex bg-white flex-column justify-content-center aline-center",children:Object(y.jsxs)("form",{style:{height:"100%"},onSubmit:e.onSubmit,className:"form  my-auto  w-75  p-0 p-md-3 pb-4 rounded text-black fw-bold d-flex flex-column justify-content-center",children:[Object(y.jsxs)("h2",{style:{color:"var(--primaryDashColorDark)"},className:"fw-bolder mb-4 text-center text-md-start gap-2",children:[Object(y.jsx)(f.k,{})," Log in"]}),Object(y.jsxs)("div",{className:"d-flex flex-column my-3",children:[Object(y.jsxs)("label",{for:"email",className:"ps-2 fw-normal",children:["Enter uour email address"," "]}),Object(y.jsx)("input",{name:"email",placeholder:"abcd@xyz.com",className:"form-control rounded-5 bg-white border-3 border-muted",type:"email"})]}),Object(y.jsxs)("div",{className:"d-flex position-relative flex-column my-3 mb-4 mb-md-3",children:[Object(y.jsx)("label",{for:"password",className:"ps-2  fw-normal",children:"Enter your password"}),Object(y.jsxs)("div",{className:"position-relative",children:[Object(y.jsx)("input",{name:"password",style:{width:"100%"},placeholder:"**********",className:"form-control rounded-5 bg-white border-3 border-muted",type:a?"text":"password",onChange:e=>l(e.target.value)}),Object(y.jsx)("span",{style:{position:"absolute",top:"5%",right:"3%",outline:"none",border:"none"},className:"fs-5 text-muted my-0",onClick:e=>{e.preventDefault(),c(!a)},children:a?Object(y.jsx)(g.b,{}):Object(y.jsx)(O.c,{})})]}),e.pass?"":Object(y.jsx)("p",{style:{position:"absolute",fontWeight:"normal",bottom:"-80%",left:"50%",transform:"translate(-50%)",whiteSpace:"pre"},className:"alert   text-danger",children:"Invalid User Name or Password"})]}),Object(y.jsx)("p",{style:{display:t?"block":"none",fontWeight:"normal"},className:"text-danger text-center",children:t}),Object(y.jsxs)("div",{className:"row mx-auto w-100 justify-content-between my-3 row-gap-4",children:[Object(y.jsx)("input",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},type:"submit",className:"btn col-12 col-md-5  shadow rounded-5 fw-bolder shadow-sm",value:" Login"}),Object(y.jsx)(n.b,{to:"/forgetPassword",className:"fw-semibold btn  col-12 col-md-5 shadow rounded-5 mt-0",children:"Forgot password"})]}),Object(y.jsxs)("p",{style:{position:"absolute",bottom:"0",left:"50%",transform:"translate(-50%)",fontWeight:"normal",whiteSpace:"pre"},className:"d-blocktext-center text-muted",children:["Made with ",Object(y.jsx)("span",{className:"heart beat",children:"\u2764\ufe0f"})," by Medlay International Pvt. Ltd."]})]})}),Object(y.jsxs)("div",{style:{height:"100%",backgroundColor:"var(--primaryDashColorDark)"},className:"col-12 col-md-6 p-5 d-flex flex-column justify-content-center gap-4 ",children:[Object(y.jsxs)("div",{className:"pt-5",children:[Object(y.jsx)("h5",{style:{wordSpacing:"5px"},className:"text-white text-center",children:"\ud83d\udc4b Nice to se you again"}),Object(y.jsx)("h1",{style:{letterSpacing:"5px"},className:"fw-bolder text-white text-center",children:"Welcome Back"})]}),Object(y.jsx)("img",{style:{width:"80%",margin:"0 auto"},src:u,alt:""}),Object(y.jsx)("p",{className:"text-center pt-5 text-white",children:"www.medlayinternational.com"})]})]})})},N=a(19),w=a(20),D=a(10),S=a(39),k=a(116),C=a(38),E=a(44);a(401);const L={outline:"none",border:"none",height:"3rem"},I={width:"250px",zIndex:"5",borderLeft:"5px solid white"};var A=()=>{const[e,t]=Object(s.useState)(null),[a,c]=Object(s.useState)(!0),l=[{icon:Object(y.jsx)(D.c,{}),name:"Dashboard",navLinks:[{to:"/admin/dashboard",label:"Dashboard"}]},{icon:Object(y.jsx)(f.l,{}),name:"Employee",navLinks:[{to:"/admin/user",label:"Employee List"},{to:"/admin/salary",label:"Salary"}]},{icon:Object(y.jsx)(w.a,{}),name:"Attendance",navLinks:[{to:"/admin/adminAttendance",label:"Create Attendance"},{to:"/admin/adminviewAttenDance",label:"View Attendance"}]},{icon:Object(y.jsx)(C.a,{}),name:"Leave",navLinks:[{to:"/admin/applyLeave",label:"Apply Leave"},{to:"/admin/pendingLeave",label:"Pending "},{to:"/admin/leaveAccepted",label:"Accepted "},{to:"/admin/leaveRejected",label:"Rejected "}]},{icon:Object(y.jsx)(D.k,{}),name:"Task",navLinks:[{to:"/admin/task",label:"Create New Task"},{to:"/admin/taskassign",label:"Assigned"},{to:"/admin/taskstatus",label:"Active Taask"},{to:"/admin/taskcancle",label:"Cancelled Task"},{to:"/admin/taskcomplete",label:"Completed Task"},{to:"/admin/taskreject",label:"Rejected Task"}]},{icon:Object(y.jsx)(S.a,{}),name:"Access",navLinks:[{to:"/admin/role",label:"Role"},{to:"/admin/position",label:"Position"},{to:"/admin/department",label:"Department"}]},{icon:Object(y.jsx)(N.a,{}),name:"Company",navLinks:[{to:"/admin/company",label:"Company List"}]},{icon:Object(y.jsx)(f.a,{}),name:"Address",navLinks:[{to:"/admin/country",label:"Country"},{to:"/admin/state",label:"State"},{to:"/admin/city",label:"City"}]},{icon:Object(y.jsx)(E.a,{}),name:"Noice",navLinks:[{to:"/admin/notice",label:"Create Notic"}]},{icon:Object(y.jsx)(D.f,{}),name:"Holiday",navLinks:[{to:"/admin/leaveCal",label:"Leave Calendar"}]},{icon:Object(y.jsx)(k.a,{}),name:"Project",navLinks:[{to:"/admin/project-bid",label:"Project Bidding"},{to:"/admin/portal-master",label:"Portal Master"}]}];return Object(y.jsxs)("div",{style:{minHeight:"100%",maxHeight:"100%",overflowY:"auto",overflow:"inherit",width:"fit-content",background:"#1D267D"},className:"d-flex  flex-column gap-2 p-3",children:[Object(y.jsxs)("h3",{style:{borderBottom:"3px solid green"},className:"fw-bolder  text-success justify-content-between py-2 d-flex gap-2",children:[Object(y.jsx)("p",{style:{display:a?"block":"none"},className:"my-auto",children:"ADMIN"})," ",Object(y.jsx)("span",{onClick:()=>{c(!a)},style:{border:"none",outline:"none",cursor:"pointer",transform:"rotate(".concat(a?"0deg":"180deg",")")},className:"my-auto p-0 fs-2 text-white",children:Object(y.jsx)(D.g,{})})]}),l.map((s=>{let{icon:c,name:l,navLinks:o}=s;return Object(y.jsxs)("div",{onMouseEnter:()=>t(l),onMouseLeave:()=>t(null),className:"position-relative",children:[Object(y.jsxs)("button",{style:L,className:"btn p-0 text-white text-start fw-bold gap-2 justify-between w-100 d-flex justify-content-between",children:[Object(y.jsxs)("div",{style:{width:"fit-content"},className:"d-flex gap-2 my-auto",children:[Object(y.jsx)("p",{style:{height:"30px",width:"30px",alignItems:"center",color:e===l?"#FF9209":"white"},className:"m-auto d-flex rounded-5  justify-content-center fs-3",children:c}),Object(y.jsx)("p",{style:{display:a?"block":"none"},className:"my-auto",children:l})]}),Object(y.jsx)("span",{style:{transform:"rotate(".concat(e===l?"135deg":"0deg",")"),transition:"1s ease",display:a?"block":"none"},className:"my-auto fs-4",children:"+"})]}),Object(y.jsx)("div",{style:{...I,display:e===l?"flex":"none",background:"linear-gradient(165deg,#11009E, #700B97, 90%, #C84B31)",width:"fit-content"},className:"flex-column position-absolute top-0 start-100 py-2 px-2 gap-2 mt-2  ",children:o.map((e=>Object(y.jsx)(n.b,{className:"text-decoration-none",to:e.to,children:Object(y.jsxs)("div",{className:"text-decoration-none flex-nowrap text-start fw-bolder gap-3 text-white d-flex justify-content-between ",children:[Object(y.jsxs)("div",{style:{borderBottom:"1px solid white"},className:"d-flex gap-1 flex-nowrap",children:[Object(y.jsx)("p",{className:"m-0",children:e.icon}),Object(y.jsx)("p",{style:{whiteSpace:"pre"},className:"m-auto",children:e.label})]}),Object(y.jsx)("span",{style:{},className:"my-auto ",children:"\u203a"})]})},e.to)))})]},l)}))]})},T=(a(402),a(72)),F=a.p+"static/media/HappyBirthday.181e9653.svg";var R="https://medlaycrm.onrender.com";var P=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!0),[l,o]=Object(s.useState)([]),[n,r]=Object(s.useState)(""),[i,j]=Object(s.useState)(!1),[m,h]=Object(s.useState)(!0),[b,p]=Object(s.useState)([]);Object(s.useEffect)((()=>{d.a.get("".concat(R,"/api/employee"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{Array.isArray(e.data)?(t(e.data),c(!1),o([]),e.data.forEach((e=>{let t={data:e,Email:e.Email,Password:e.Password,Account:1===e.Account?"Admin":2===e.Account?"HR":3===e.Account?"Employee":"",RoleName:e.role[0]?e.role[0].RoleName:"",FirstName:e.FirstName,MiddleName:e.MiddleName,LastName:e.LastName,DOB:e.DOB.slice(0,10),ContactNo:e.ContactNo,EmployeeCode:e.EmployeeCode,empID:e.empID,DepartmentName:e.department[0]?e.department[0].DepartmentName:"",PositionName:e.position[0]?e.position[0].PositionName:"",DateOfJoining:e.DateOfJoining.slice(0,10)};o((e=>[...e,t]))}))):console.error("Data received is not an array:",e.data)})).catch((e=>{console.log(e)}))}),[]);return Object(s.useEffect)((()=>{(()=>{const e=new Date,t=l.filter((t=>{const a=new Date(t.DOB);a.setFullYear(e.getFullYear());const s=a-e,c=Math.ceil(s/864e5);return c>=0&&c<=7}));p(t)})()}),[l]),Object(y.jsx)("div",{className:"div",children:Object(y.jsxs)("div",{className:"birthday shadow position-relative",children:[Object(y.jsxs)("h5",{style:{position:"sticky",top:"0",backgroundColor:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"fw-bolder pb-3 px-3 pt-3 d-flex justify-content-between gap-0 text-center",children:[Object(y.jsx)(T.b,{})," Upcoming Birthdays"," ",Object(y.jsxs)("span",{className:"text-primary",children:["(",b.length,")"]})]}),Object(y.jsx)("div",{children:b.length>0?Object(y.jsx)("div",{className:"d-flex flex-column gap-3 py-3 px-3",children:b.map((e=>{var t,a,s,c;return Object(y.jsx)("div",{style:{borderBottom:"1px solid #E3F4F4"},className:"",children:Object(y.jsx)("div",{className:"row",style:{verticalAlign:"middle"},children:Object(y.jsxs)("div",{className:"d-flex justify-content-between ",children:[Object(y.jsxs)("div",{className:"d-flex gap-2",children:[Object(y.jsx)("div",{style:{height:"45px",width:"45px"},children:Object(y.jsx)("img",{style:{height:"100%",width:"100%",border:"3px solid gray",borderRadius:"50%",overflow:"hidden",objectFit:"cover"},src:null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&null!==(a=t.profile)&&void 0!==a&&a.image_url?null===e||void 0===e||null===(s=e.data)||void 0===s||null===(c=s.profile)||void 0===c?void 0:c.image_url:"https://a.storyblok.com/f/191576/1200x800/215e59568f/round_profil_picture_after_.webp",alt:""})}),Object(y.jsxs)("div",{className:"d-flex flex-column my-auto",children:[Object(y.jsx)("span",{style:{fontSize:"12px",fontWeight:"bold"},children:e.empID}),Object(y.jsx)("span",{style:{fontSize:"13px",fontWeight:"bold"},className:"text-uppercase fw-bold",children:"".concat(e.FirstName," ").concat(e.LastName)})]})]}),Object(y.jsxs)("div",{style:{fontSize:"13px"},className:"my-auto fw-bolder text-muted",children:["Date ",Object(y.jsx)("br",{}),e.DOB]})]})})},e.empID)}))}):Object(y.jsxs)("div",{className:"d-flex flex-column justify-content-center aline-items-center gap-3",style:{height:"100%",width:"100%"},children:[Object(y.jsx)("img",{style:{height:"60%",width:"60%"},className:"mx-auto",src:F,alt:"Happy Birthday"}),Object(y.jsx)("p",{style:{opacity:"60%",fontSize:"13px"},className:"text-center w-75 mx-auto  fw-bold text-muted ",children:"No upcoming birthdays in the next 7 days."})]})})]})})},M=a(40),z=a.n(M);a(404);var B=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)([]),[l,o]=Object(s.useState)(!0),[n,r]=Object(s.useState)(null);Object(s.useEffect)((()=>{d.a.get("".concat(R,"/api/employee"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{Array.isArray(e.data)?t(e.data.map((e=>{var t;return(null===(t=e.department[0])||void 0===t?void 0:t.DepartmentName)||""}))):console.error("Data received is not an array:",e.data)})).catch((e=>{console.log(e)})),(async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"));c(e.data)}catch(n){console.error("Error fetching tasks:",n.message),r("Error fetching tasks. Please try again later.")}finally{o(!1)}})()}),[]);const i=e=>{const t=new Date;let a=new Date(e)-t;if(a<0)return a=Math.abs(a),{delay:!0,days:0,hours:0,minutes:0};return{delay:!1,days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.floor(a%36e5/6e4)}},j={};e.forEach((e=>{j[e]=(j[e]||0)+1}));const m={Total:a.length,Assigned:a.filter((e=>"Assigned"===e.status)).length,ActiveTask:a.filter((e=>"Assigned"===e.status)).length,canceled:a.filter((e=>"Cancelled"===e.status)).length,Completed:a.filter((e=>"Completed"===e.status)).length,overdue:a.filter((e=>"Assigned"===e.status&&i(e.endDate).delay)).length,onTime:a.filter((e=>"Assigned"===e.status&&!i(e.endDate).delay)).length},h=(Object.values(j),Object.keys(j),{options:{chart:{id:"task-status-chart",type:"bar"},fill:{colors:["var(--primaryDashColorDark)"]},xaxis:{categories:Object.keys(m),title:{text:"Task Status"}},yaxis:{title:{text:"Number of Tasks"}}},series:[{name:"Task Status",data:Object.values(m)}]});return Object(y.jsxs)("div",{style:{height:"fit-content"},className:"ChartCard p-2 pb-0",children:[Object(y.jsx)("div",{className:"ChartHeader",children:Object(y.jsx)("h6",{style:{width:"fit-content",boxShadow:"0 0 10px 1px rgba(0,0,0,.2) inset",color:"var(--primaryDashColorDark)"},className:"fw-bolder d-flex px-3 rounded-5 py-1",children:"Task Progress Report"})}),Object(y.jsx)("div",{className:"chartBody",children:Object(y.jsx)(z.a,{options:h.options,series:h.series,type:"bar",height:"340px"})})]})};a(405);var _=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)({options:{labels:[],legend:{position:"bottom"},fill:{colors:["#008DDA","#4CCD99","#FFC700","#FF407D","#9F70FD","#FE7A36"]},plotOptions:{pie:{donut:{labels:{show:!0,total:{show:!0}}}}}},series:[]});Object(s.useEffect)((()=>{d.a.get("".concat(R,"/api/employee"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{Array.isArray(e.data)?t(e.data.map((e=>{var t;return(null===(t=e.department[0])||void 0===t?void 0:t.DepartmentName)||""}))):console.error("Data received is not an array:",e.data)})).catch((e=>{console.log(e)}))}),[]);return Object(s.useEffect)((()=>{(()=>{const t={};e.forEach((e=>{t[e]=(t[e]||0)+1}));const a=Object.keys(t),s=a.map((e=>t[e]));c({options:{labels:a,fill:{colors:["#008DDA","#4CCD99","#FFC700","#FF407D","#9F70FD","#FE7A36"]},legend:{position:"bottom",labels:{colors:["#008DDA","#4CCD99","#FFC700","#FF407D","#9F70FD","#FE7A36"]}},plotOptions:{pie:{donut:{labels:{colors:["#008DDA","#4CCD99","#FFC700","#FF407D","#9F70FD","#FE7A36"],show:!0,total:{show:!0,colors:["#008DDA","#4CCD99","#FFC700","#FF407D","#9F70FD","#FE7A36"]}},colors:["#008DDA","#4CCD99","#FFC700","#FF407D","#9F70FD","#FE7A36"]}}}},series:s})})()}),[e]),Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{style:{height:"fit-content"},className:"ChartCard p-2",children:[Object(y.jsx)("div",{className:"ChartHeader",children:Object(y.jsx)("h6",{style:{width:"fit-content",boxShadow:"0 0 10px 1px rgba(0,0,0,.2) inset",color:"var(--primaryDashColorDark)"},className:"fw-bolder d-flex px-3 rounded-5 py-1",children:"Employee By Department"})}),Object(y.jsx)(z.a,{options:a.options,series:a.series,type:"donut",width:"100%",height:"380"})]})})},G=a(98),H=a(117);var U,q=function(){const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)([]),[l,o]=Object(s.useState)(!0),[n,r]=Object(s.useState)("");Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get("".concat(R,"/api/holidays"));if(200===e.status){const a=e.data;t(a),c(a)}else console.error("Failed to fetch holiday data:",e.statusText)}catch(e){console.error("Error fetching holiday data:",e)}})()}),[]),Object(s.useEffect)((()=>{i()}),[n]);const i=()=>{let t=[...e];n&&(t=t.filter((e=>e.holidayName.toLowerCase().includes(n.toLowerCase())))),c(t)},j=e=>{switch(e){case"National Holiday":default:return Object(y.jsx)("span",{style:{height:"40px",width:"40px",display:"flex",margin:"auto",justifyContent:"center",alignItems:"center",fontSize:"30px"},className:"rounded-5 bg-danger text-white",children:Object(y.jsx)(T.a,{})});case"Restricted Holiday":return Object(y.jsx)("span",{style:{height:"40px",width:"40px",display:"flex",margin:"auto",justifyContent:"center",alignItems:"center",fontSize:"30px"},className:"rounded-5 bg-primary text-white",children:Object(y.jsx)(T.b,{})});case"Gazetted Holiday":return Object(y.jsx)("span",{style:{height:"40px",width:"40px",display:"flex",margin:"auto",justifyContent:"center",alignItems:"center",fontSize:"30px"},className:"rounded-5 bg-warning text-white",children:Object(y.jsx)(G.a,{})})}};return Object(y.jsx)("div",{children:Object(y.jsxs)("div",{style:{overflow:"hidden"},className:"shadow bg-white p-0 rounded-4 ",children:[Object(y.jsxs)("h5",{style:{backgroundColor:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"fw-bolder pb-3 px-3 pt-3 d-flex justify-content-between gap-0 text-center align-items-center",children:["Holiday List"," ",Object(y.jsx)(H.Link,{to:"/hr/holiday",children:Object(y.jsx)("span",{className:"fs-4 d-flex",children:Object(y.jsx)(D.b,{})})})]}),Object(y.jsx)("div",{className:"row mx-auto shadow-sm p-0 pb-1",children:Object(y.jsx)("div",{className:"col-12 p-0",children:Object(y.jsx)("input",{type:"text",className:"form-control rounded-0",placeholder:"Search holiday...",value:n,onChange:e=>r(e.target.value)})})}),Object(y.jsx)("div",{style:{height:"18.3rem",overflow:"auto"},children:a.map(((e,t)=>Object(y.jsxs)("div",{className:"row p-2 mx-auto",children:[Object(y.jsx)("span",{className:"col-3 border-0 text-center",children:j(e.holidayType)}),Object(y.jsx)("span",{className:"col-5 border-0 fw-bold text-muted",children:e.holidayName}),Object(y.jsx)("span",{style:{whiteSpace:"pre"},className:"col-3 border-0 fw-bold text-primary",children:"".concat(e.holidayDate,"-").concat(e.holidayMonth,"-").concat(e.holidayYear)})]},t)))})]})})},Y=a(12),W=a(5),J=a(6),V=a(13),X=(a(84),a(15)),K=a(27);a(58);Object(V.a)(U||(U=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var $,Z=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,r]=Object(s.useState)([]),[i,j]=Object(s.useState)(""),[m,h]=Object(s.useState)(!1),[b,p]=Object(s.useState)(!0),[x,u]=Object(s.useState)([]),[O,g]=Object(s.useState)(""),f=()=>{d.a.get("".concat(R,"/api/employee"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{Array.isArray(e.data)?(a(e.data),l(!1),r([]),e.data.forEach((e=>{let t={data:e,Email:e.Email,Password:e.Password,Account:1===e.Account?"Admin":2===e.Account?"HR":3===e.Account?"Employee":4===e.Account?"Manager":"",RoleName:e.role[0]?e.role[0].RoleName:"",FirstName:e.FirstName,MiddleName:e.MiddleName,LastName:e.LastName,DOB:e.DOB.slice(0,10),ContactNo:e.ContactNo,empID:e.empID,DepartmentName:e.department[0]?e.department[0].DepartmentName:"",PositionName:e.position[0]?e.position[0].PositionName:"",DateOfJoining:e.DateOfJoining.slice(0,10)};r((e=>[...e,t]))}))):console.error("Data received is not an array:",e.data)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{f()}),[]);Object(s.useEffect)((()=>{(()=>{const e=new Date,t=o.filter((t=>{const a=new Date(t.DOB);a.setFullYear(e.getFullYear());const s=a-e,c=Math.ceil(s/864e5);return c>=0&&c<=7}));u(t)})()}),[o]);let v=o.filter((e=>{const t=!m||e.empID.toLowerCase()===i.toLowerCase(),a=e.FirstName.toLowerCase().includes(i.toLowerCase());return t&&a}));v=v.sort(((e,t)=>{const a=e.empID.toLowerCase(),s=t.empID.toLowerCase();return b?a.localeCompare(s):s.localeCompare(a)}));const N=v.filter((e=>"Admin"===e.Account)).length,w=v.filter((e=>"HR"===e.Account)).length,D=v.filter((e=>"Manager"===e.Account)).length,S=v.filter((e=>"Employee"===e.Account)).length;return Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:"container-fluid",children:Object(y.jsxs)("div",{className:"row row-gap-4",children:[Object(y.jsx)("div",{className:"col-md-3",children:Object(y.jsx)("div",{style:{backgroundColor:"#FED2AA"},className:" DashboardCard position-relative",children:Object(y.jsxs)("div",{className:" d-flex flex-column gap-3",children:[Object(y.jsxs)("p",{className:"fw-bold pt-2 text-muted",children:["Total Admins",Object(y.jsx)("span",{className:"fw-bolder text-info position-absolute",style:{fontSize:"35px",right:"10%",top:"4%"},children:N})]}),Object(y.jsxs)(n.b,{className:"text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-2  aline-items-center fw-bold text-info  aline-center",to:"/admin/user",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})}),Object(y.jsx)("div",{className:"col-md-3",children:Object(y.jsx)("div",{style:{backgroundColor:"#DFFFD8"},className:"DashboardCard position-relative",children:Object(y.jsxs)("div",{className:"d-flex flex-column gap-3",children:[Object(y.jsxs)("p",{className:"fw-bold pt-2 text-muted",children:["Total HR"," ",Object(y.jsx)("span",{className:"fw-bolder text-info position-absolute",style:{fontSize:"35px",right:"10%",top:"4%"},children:w})]}),Object(y.jsxs)(n.b,{className:"text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-2  aline-items-center fw-bold text-info  aline-center",to:"/admin/user",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})}),Object(y.jsx)("div",{className:"col-md-3",children:Object(y.jsx)("div",{style:{backgroundColor:"#FEBBCC"},className:"DashboardCard position-relative",children:Object(y.jsxs)("div",{className:"d-flex flex-column gap-3",children:[Object(y.jsxs)("p",{className:"fw-bold pt-2 text-muted",children:["Total Manager",Object(y.jsx)("span",{className:"fw-bolder text-info position-absolute",style:{fontSize:"35px",right:"10%",top:"4%"},children:D})]}),Object(y.jsxs)(n.b,{className:"text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-2  aline-items-center fw-bold text-info  aline-center",to:"/admin/user",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})}),Object(y.jsx)("div",{className:"col-md-3",children:Object(y.jsx)("div",{style:{backgroundColor:"#BCCEF8"},className:"DashboardCard position-relative",children:Object(y.jsxs)("div",{className:"d-flex flex-column gap-3",children:[Object(y.jsxs)("p",{className:"fw-bold pt-2 text-muted",children:["Total Employee",Object(y.jsx)("span",{className:"fw-bolder text-info position-absolute",style:{fontSize:"35px",right:"10%",top:"4%"},children:S})]}),Object(y.jsxs)(n.b,{className:"text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-2  aline-items-center fw-bold text-info  aline-center",to:"/admin/user",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})}),Object(y.jsx)("div",{className:"col-md-9"})]})})})};Object(V.a)($||($=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var Q=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,r]=Object(s.useState)(""),[i,j]=Object(s.useState)(0),[m,h]=Object(s.useState)(null),[b,p]=Object(s.useState)("asc"),[x,u]=Object(s.useState)([]);let O=[],g=[];const f=()=>{d.a.get("".concat(R,"/api/leave-application-hr/"),{headers:{authorization:localStorage.getItem("token")||""}}).then((t=>{O=t.data,console.log("response",t.data),a(t.data),l(!1),g=[],O.map((e=>{let t={data:e,empID:e.employee&&e.employee[0]&&e.employee[0].empID,Name:e.employee&&e.employee[0]&&e.employee[0].FirstName+" "+e.employee[0].LastName,Leavetype:e.Leavetype,FromDate:e.FromDate.slice(0,10),ToDate:e.ToDate.slice(0,10),Reasonforleave:e.Reasonforleave,Status:v(e.Status)};g.push(t)})),u(g),j(t.data.length),e.updateTotalLeaves(t.data.length)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{f()}),[]);const v=e=>1==e?"Pending":2==e?"Approved":3==e?"Rejected":"Unknown",N=x.filter((e=>"Pending"===e.Status)).length,w=x.filter((e=>"Approved"===e.Status)).length,D=x.filter((e=>"Rejected"===e.Status)).length;return Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:"container-fluid  mt-4",children:Object(y.jsxs)("div",{className:"row row-gap-4",children:[Object(y.jsx)("div",{className:"col-md-4",children:Object(y.jsx)("div",{style:{backgroundColor:"#FED2AA"},className:" DashboardCard position-relative",children:Object(y.jsxs)("div",{className:" d-flex flex-column gap-3",children:[Object(y.jsxs)("p",{className:"fw-bold pt-2 text-muted",children:["On Pending Leaves",Object(y.jsx)("span",{className:"fw-bolder text-info position-absolute",style:{fontSize:"35px",right:"10%",top:"4%"},children:N})]}),Object(y.jsxs)(n.b,{className:"text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-2  aline-items-center fw-bold text-info  aline-center",to:"/admin/pendingLeave",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})}),Object(y.jsx)("div",{className:"col-md-4",children:Object(y.jsx)("div",{style:{backgroundColor:"#DFFFD8"},className:"DashboardCard position-relative",children:Object(y.jsxs)("div",{className:"d-flex flex-column gap-3",children:[Object(y.jsxs)("p",{className:"fw-bold pt-2 text-muted",children:["On Approved Leaves"," ",Object(y.jsx)("span",{className:"fw-bolder text-info position-absolute",style:{fontSize:"35px",right:"10%",top:"4%"},children:w})]}),Object(y.jsxs)(n.b,{className:"text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-2  aline-items-center fw-bold text-info  aline-center",to:"/admin/leaveAccepted",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})}),Object(y.jsx)("div",{className:"col-md-4",children:Object(y.jsx)("div",{style:{backgroundColor:"#FEBBCC"},className:"DashboardCard position-relative",children:Object(y.jsxs)("div",{className:"d-flex flex-column gap-3",children:[Object(y.jsxs)("p",{className:"fw-bold pt-2 text-muted",children:["On Rejected Leaves",Object(y.jsx)("span",{className:"fw-bolder text-info position-absolute",style:{fontSize:"35px",right:"10%",top:"4%"},children:D})]}),Object(y.jsxs)(n.b,{className:"text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-2  aline-items-center fw-bold text-info  aline-center",to:"/admin/leaveRejected",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})})]})})})},ee=a(118);const te=Object(s.createContext)();var ae=a.p+"static/media/NoticeBadge.fa1402bd.svg";var se=()=>{const[e,t]=Object(s.useState)([]),{socket:a}=Object(s.useContext)(te),c=localStorage.getItem("_id"),l=()=>{d.a.get("".concat(R,"/api/particularEmployee/").concat(c),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{t(e.data.Notice)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{l()}),[]),Object(s.useEffect)((()=>{console.log("Socket:",null===a||void 0===a?void 0:a.id),a&&(a.on("notice",(e=>{t((t=>[e,...t]))})),a.on("noticeDelete",(e=>{e&&l()})))}),[a]);return Object(y.jsx)("div",{className:"container box-shadow: 0 4px 10px 0 rgb(137 137 137 / 25%); p-0 h-100 ",children:Object(y.jsxs)("div",{className:"birthday",children:[Object(y.jsxs)("h5",{style:{position:"sticky",top:"0",backgroundColor:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"fw-bolder pb-3 px-3 pt-3 d-flex justify-content-between gap-0 text-center",children:["Notice Board"," ",e&&Object(y.jsxs)("span",{className:"text-primary",children:["(",e.length,")"]})]}),Object(y.jsx)("div",{className:"mainbirth",style:{maxWidth:"100%",overflowX:"auto"},children:e&&e.length>0?Object(y.jsxs)("table",{className:"table table-striped mt-3",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{className:"cursor-pointer",style:{width:"80%"},children:"Notice"}),Object(y.jsx)("th",{style:{width:"80%"},children:"Action"})]})}),Object(y.jsx)("tbody",{children:e.filter(((e,t,a)=>a.findIndex((t=>t.noticeId===e.noticeId))===t)).map((e=>Object(y.jsxs)("tr",{style:{cursor:"pointer"},children:[Object(y.jsx)("td",{onClick:()=>{return t=e.attachments,void window.open("".concat(R,"/").concat(t),"_blank","noreferrer");var t},children:"".concat(e.notice)}),Object(y.jsx)("td",{style:{fontSize:"22px",color:"red",textAlign:"center"},children:Object(y.jsx)(ee.a,{onClick:()=>(e=>{d.a.post("".concat(R,"/api/noticeDelete"),{noticeId:e}).then((e=>{alert("Notice delete")})).catch((e=>{console.log(e)}))})(e.noticeId)})})]},e.noticeId)))})]}):Object(y.jsxs)("div",{className:"d-flex flex-column justify-content-center aline-items-center gap-3",style:{height:"100%",width:"100%"},children:[Object(y.jsx)("img",{style:{height:"70%",width:"60%"},className:"mx-auto",src:ae,alt:"Happy Birthday"}),Object(y.jsx)("p",{style:{opacity:"60%",fontSize:"13px"},className:"text-center w-75 mx-auto  fw-bold text-muted ",children:"Notice Not Assigned"})]})})]})})};var ce=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)({Present:0,Late:0,"Half Day":0,Absent:0});Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get("".concat(R,"/api/todays-attendance"));t(e.data)}catch(e){console.error("Error fetching today's attendance data:",e)}})()}),[]),Object(s.useEffect)((()=>{const t=e.reduce(((e,t)=>(e[l(t)]++,e)),{Late:0,Present:0,"Half Day":0,Absent:0});c(t)}),[e]);const l=e=>{const t=e.attendance&&e.attendance.loginTime[0];if(t){const[e,a]=t.split(":").map(Number);if(e>9||9===e&&a>=45)return"Half Day";if(e>9||9===e&&a>30)return"Late"}return t?"Present":"Absent"},o=[a.Late,a.Present,a["Half Day"],a.Absent],n={chart:{type:"polarArea"},stroke:{colors:["#fff"]},fill:{opacity:.8},labels:["Late","Present","Half Day","Absent"],legend:{position:"bottom",labels:{useSeriesColors:!0},markers:{width:12,height:12,strokeWidth:0,strokeColor:"#fff",fillColors:void 0,radius:12,offsetX:0,offsetY:0,onClick:void 0,customHTML:void 0,onClick:void 0,toggleOnLegendClick:!0,itemMargin:{horizontal:5,vertical:5},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}}},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]};return Object(y.jsxs)("div",{style:{height:"fit-content"},className:"ChartCard p-2",children:[Object(y.jsx)("div",{className:"ChartHeader",children:Object(y.jsx)("h6",{style:{width:"fit-content",boxShadow:"0 0 10px 1px rgba(0,0,0,.2) inset",color:"var(--primaryDashColorDark)"},className:"fw-bolder d-flex px-3 rounded-5 py-1",children:"Today's Attendance"})}),Object(y.jsx)(z.a,{options:n,series:o,type:"polarArea"})]})};var le,oe=()=>Object(y.jsx)("div",{className:"main-container",children:Object(y.jsxs)("div",{className:"row gap-0 mx-0",children:[Object(y.jsxs)("div",{className:"col-lg-9",children:[Object(y.jsx)(Z,{}),Object(y.jsx)(Q,{}),Object(y.jsxs)("div",{className:"row row_flex mt-5",children:[Object(y.jsx)("div",{className:"col-lg-6",children:Object(y.jsx)(ce,{})}),Object(y.jsx)("div",{className:"col-lg-6",children:Object(y.jsx)(_,{})})]}),Object(y.jsx)("div",{className:"row row_flex mt-5",children:Object(y.jsx)("div",{className:"col-lg-9",children:Object(y.jsx)(B,{})})})]}),Object(y.jsxs)("div",{className:"col-lg-3",children:[Object(y.jsx)(P,{}),Object(y.jsx)(se,{}),Object(y.jsx)("div",{className:"holiday mt-3",children:Object(y.jsx)(q,{})}),Object(y.jsx)("div",{className:"col-md-9"})]})]})}),ne=(a(408),a(409),a(514)),re=a(125);const ie=Object(V.a)(le||(le=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));class de extends s.Component{constructor(){super(...arguments),this.state={roleData:[],loading:!0,updateTotalRole:"",rowData:[],getRowHeight:function(e){return 35}},this.roleObj=[],this.rowDataT=[],this.loadRoleData=()=>{d.a.get("".concat(R,"/api/role"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.roleObj=e.data,console.log("response",e.data),this.setState({roleData:e.data}),this.setState({loading:!1}),this.rowDataT=[],this.roleObj.map((e=>{let t={data:e,CompanyName:e.company[0].CompanyName,RoleName:e.RoleName};this.rowDataT.push(t)})),this.props.updateTotalRole(e.data.length)})).catch((e=>{console.log(e)}))},this.onRoleDelete=e=>{console.log(e),1==window.confirm("Are you sure to delete this record ? ")&&d.a.delete("".concat(R,"/api/role/")+e,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.componentDidMount()})).catch((e=>{console.log(e),console.log(e.response),403==e.response.status&&window.alert(e.response.data)}))}}componentDidMount(){this.loadRoleData()}renderButton(e){return console.log(e),Object(y.jsx)(W.a,{icon:J.g,onClick:()=>this.onRoleDelete(e.data.data._id)})}renderEditButton(e){return console.log(e),Object(y.jsx)(W.a,{icon:J.b,onClick:()=>this.props.onEditRole(e.data.data)})}render(){return Object(y.jsxs)("div",{style:{height:"100vh",width:"100%",scrollbarWidth:"thin"},className:"p-4",children:[Object(y.jsxs)("div",{className:"d-flex justify-between aline-items-start mb-3",children:[Object(y.jsx)("div",{className:" my-auto",children:Object(y.jsx)("h3",{className:"fw-bold text-muted",children:"Role Details"})}),Object(y.jsxs)(re.a,{variant:"primary",className:"my-auto shadow-sm",onClick:this.props.onAddRole,children:[Object(y.jsx)(W.a,{icon:J.e,id:"plus-icon"}),"Create Role"]})]}),Object(y.jsx)("div",{id:"clear-both"}),this.state.loading?Object(y.jsx)("div",{id:"loading-bar",children:Object(y.jsx)(ne.a,{css:ie,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"py-1",children:"Company"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"py-1",children:"Role"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",textAlign:"center"},className:"py-1",children:"Action"})]})}),this.state.loading?Object(y.jsx)("tbody",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{}),Object(y.jsx)("td",{children:Object(y.jsx)("div",{id:"loading-bar",children:Object(y.jsx)(ne.a,{css:ie,sizeUnit:"px",size:150,color:"#0000ff",loading:!0})})}),Object(y.jsx)("td",{}),Object(y.jsx)("td",{})]})}):Object(y.jsx)(c.a.Fragment,{children:this.roleObj.map(((e,t)=>Object(y.jsx)("tbody",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"fw-bold text-capitalize",children:e.company[0].CompanyName}),Object(y.jsx)("td",{className:"fw-bold text-capitalize",children:e.RoleName}),Object(y.jsx)("td",{children:Object(y.jsxs)("div",{className:"d-flex wrap-nowrap justify-content-end gap-3",children:[Object(y.jsxs)("span",{onClick:()=>this.props.onEditRole(e),style:{cursor:"pointer"},title:"Update",className:"text-primary d-flex align-items-center gap-2 px-4 shadow-sm rounded-5",children:[Object(y.jsx)(W.a,{icon:J.b}),Object(y.jsx)("span",{children:"Edit"})]}),Object(y.jsxs)("span",{onClick:()=>this.onRoleDelete(e._id),style:{cursor:"pointer"},title:"Delete",className:"text-danger d-flex align-items-center gap-2 px-4 shadow-sm rounded-5",children:[Object(y.jsx)(W.a,{icon:J.g}),Object(y.jsx)("span",{children:"Delete"})]})]})})]})},t)))})]})]})}}var je=de,me=(a(410),a(23)),he=a(510),be=a(240);class pe extends s.Component{constructor(){super(...arguments),this.state={companyInfo:[]},this.companyData=[],this.loadCompanyInfo=()=>{d.a.get("".concat(R,"/api/company"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.companyData=e.data,this.setState({companyInfo:e.data})})).catch((e=>{console.log(e)}))}}componentWillMount(){this.loadCompanyInfo()}render(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Add Role Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:this.props.onRoleSubmit,children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Company"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"country",required:!0,children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),this.companyData.map(((e,t)=>Object(y.jsx)("option",{value:e._id,children:e.CompanyName})))]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Role"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Role",name:"Role",required:!0})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Submit"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:this.props.onFormClose,children:"cancel"})})})]})})]})}}var xe=pe;class ue extends s.Component{constructor(){super(...arguments),this.state={RoleData:this.props.editData.RoleName,companyInfo:[]},this.companyData=[],this.loadCompanyInfo=()=>{d.a.get("".concat(R,"/api/company"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.companyData=e.data,this.setState({companyInfo:e.data})})).catch((e=>{console.log(e)}))}}onChange(e){this.setState({RoleData:e.target.value})}componentWillMount(){this.loadCompanyInfo()}render(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Edit Role Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:e=>this.props.onRoleEditUpdate(this.props.editData,e.target[0].value,e.target[1].value),children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Company"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"country",required:!0,children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),this.companyData.map(((e,t)=>Object(y.jsx)("option",{value:e._id,selected:this.props.editData.company[0]._id==e._id,children:e.CompanyName})))]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Role"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Role",name:"RoleName",required:!0,value:this.state.RoleData,onChange:e=>this.onChange(e)})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Update"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:this.props.onFormEditClose,children:"cancel"})})})]})})]})}}var Oe=ue;class ge extends s.Component{constructor(){super(...arguments),this.state={table:!0,editForm:!1,editData:{}},this.handleRoleSubmit=e=>{e.preventDefault(),console.log("id",e.target[0].value,e.target[1].value),this.setState({table:!0});let t={CompanyID:e.target[0].value,RoleName:e.target[1].value};d.a.post("".concat(R,"/api/role"),t,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({table:!1}),this.setState({table:!0})})).catch((e=>{console.log(e)}))},this.handleAddRole=()=>{console.log("clicked1"),this.setState({table:!1})},this.handleEditRole=e=>{console.log(e),console.log("clicked6"),this.setState({editForm:!0}),this.setState({editData:e})},this.handleFormClose=()=>{console.log("clicked1"),this.setState({table:!0})},this.handleEditFormClose=()=>{console.log("clicked5"),this.setState({editForm:!1})},this.handleFormClose=()=>{console.log("clicked1"),this.setState({table:!0})},this.handleRoleEditUpdate=(e,t,a)=>{let s={CompanyID:t,RoleName:a};console.log("update",s),d.a.put("".concat(R,"/api/role/")+e._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({table:!1}),this.setState({table:!0})})).catch((e=>{console.log(e)})),this.setState({editForm:!1})}}render(){return Object(y.jsx)(c.a.Fragment,{children:this.state.table?this.state.editForm?Object(y.jsx)(Oe,{onRoleEditUpdate:this.handleRoleEditUpdate,onFormEditClose:this.handleEditFormClose,editData:this.state.editData}):Object(y.jsx)(je,{onAddRole:this.handleAddRole,onEditRole:this.handleEditRole}):Object(y.jsx)(xe,{onRoleSubmit:this.handleRoleSubmit,onFormClose:this.handleFormClose})})}}var fe,ye=ge,ve=(a(411),a(412),a(67));Object(V.a)(fe||(fe=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));class Ne extends s.Component{constructor(){super(...arguments),this.state={positionData:[],loading:!0,totalPositions:0,rowData:[],getRowHeight:function(e){return 35}},this.positionObj=[],this.rowDataT=[],this.loadPositionData=()=>{d.a.get("".concat(R,"/api/position"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.positionObj=e.data,console.log("response",e.data),this.setState({positionData:e.data}),this.setState({loading:!1}),this.rowDataT=[],this.positionObj.map((e=>{let t={data:e,CompanyName:e.company[0].CompanyName,PositionName:e.PositionName};this.rowDataT.push(t)})),this.props.updateTotalPositions(e.data.length)})).catch((e=>{console.log(e)}))},this.onPositionDelete=e=>{console.log(e),1==window.confirm("Are you sure to delete this record ? ")&&d.a.delete("".concat(R,"/api/position/")+e,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.componentDidMount()})).catch((e=>{console.log(e),console.log(e.response),403==e.response.status&&window.alert(e.response.data)}))}}componentDidMount(){this.loadPositionData()}renderButton(e){return console.log(e),Object(y.jsx)(W.a,{icon:J.g,onClick:()=>this.onPositionDelete(e.data.data._id)})}renderEditButton(e){return console.log(e),Object(y.jsx)(W.a,{icon:J.b,onClick:()=>this.props.onEditPosition(e.data.data)})}render(){return Object(y.jsxs)("div",{style:{height:"100vh",width:"100%",scrollbarWidth:"thin"},className:"p-4",children:[Object(y.jsxs)("div",{className:"d-flex justify-between mb-3",children:[Object(y.jsx)("div",{children:Object(y.jsx)("h2",{className:"fw-bold text-muted my-auto",children:"Position Details"})}),Object(y.jsxs)(re.a,{className:"my-auto shadow-sm",variant:"primary",onClick:this.props.onAddPosition,children:[Object(y.jsx)(W.a,{icon:J.e,id:"plus-icon"}),"Create Position"]})]}),Object(y.jsx)("div",{id:"clear-both"}),Object(y.jsxs)(ve.a,{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"py-1",children:"Company"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"py-1",children:"Position"}),Object(y.jsxs)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",textAlign:"center"},className:"py-1",children:[" ","Action"]})]})}),Object(y.jsx)("tbody",{children:this.positionObj.map(((e,t)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"text-capitalize fw-bold",children:e.company[0].CompanyName}),Object(y.jsx)("td",{className:"text-capitalize fw-bold",children:e.PositionName}),Object(y.jsx)("td",{children:Object(y.jsxs)("div",{className:"d-flex wrap-nowrap justify-content-end gap-3",children:[Object(y.jsxs)("span",{onClick:()=>this.props.onEditPosition(e),style:{cursor:"pointer"},title:"Update",className:"text-primary d-flex align-items-center gap-2 px-4 shadow-sm rounded-5",children:[Object(y.jsx)(W.a,{icon:J.b}),Object(y.jsx)("span",{children:"Edit"})]}),Object(y.jsxs)("span",{onClick:()=>this.onPositionDelete(e._id),style:{cursor:"pointer"},title:"Delete",className:"text-danger d-flex align-items-center gap-2 px-4 shadow-sm rounded-5",children:[Object(y.jsx)(W.a,{icon:J.g}),Object(y.jsx)("span",{children:"Delete"})]})]})})]},t)))})]})]})}}var we=Ne;a(413);class De extends s.Component{constructor(){super(...arguments),this.state={companyInfo:[]},this.companyData=[],this.loadCompanyInfo=()=>{d.a.get("".concat(R,"/api/company"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.companyData=e.data,this.setState({companyInfo:e.data})})).catch((e=>{console.log(e)}))}}componentWillMount(){this.loadCompanyInfo()}render(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{className:"p-3 fw-bold text-muted text-center mt-3",children:"Add Position \ud83e\ude91"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:this.props.onPositionSubmit,children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:Object(y.jsx)("h5",{children:"Company :"})}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"country",required:!0,children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),this.companyData.map(((e,t)=>Object(y.jsx)("option",{value:e._id,children:e.CompanyName})))]})})]}),Object(y.jsx)("br",{}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:Object(y.jsx)("h5",{children:"Position :"})}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Position",name:"Position",required:!0})})]}),Object(y.jsxs)("div",{className:"row mt- ",children:[Object(y.jsx)("div",{className:"col-2"}),Object(y.jsxs)("div",{className:"col-10 d-flex justify-between ",children:[Object(y.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"}),Object(y.jsx)("button",{className:"btn btn-secondary",type:"reset",onClick:this.props.onFormClose,children:"cancel"})]})]})]})})]})}}var Se=De;class ke extends s.Component{constructor(){super(...arguments),this.state={PositionData:this.props.editData.PositionName,companyInfo:[]},this.companyData=[],this.loadCompanyInfo=()=>{d.a.get("".concat(R,"/api/company"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.companyData=e.data,this.setState({companyInfo:e.data})})).catch((e=>{console.log(e)}))}}onChange(e){this.setState({PositionData:e.target.value})}componentWillMount(){this.loadCompanyInfo()}render(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Edit Position Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:e=>this.props.onPositionEditUpdate(this.props.editData,e.target[0].value,e.target[1].value),children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Company"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"country",required:!0,children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),this.companyData.map(((e,t)=>Object(y.jsx)("option",{value:e._id,selected:this.props.editData.company[0]._id==e._id,children:e.CompanyName})))]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Position"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Position",name:"PositionName",required:!0,value:this.state.PositionData,onChange:e=>this.onChange(e)})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Update"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:this.props.onFormEditClose,children:"cancel"})})})]})})]})}}var Ce=ke;class Ee extends s.Component{constructor(){super(...arguments),this.state={table:!0,editForm:!1,editData:{}},this.handlePositionSubmit=e=>{e.preventDefault(),console.log("id",e.target[0].value,e.target[1].value),this.setState({table:!0});let t={CompanyID:e.target[0].value,PositionName:e.target[1].value};d.a.post("".concat(R,"/api/position"),t,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({table:!1}),this.setState({table:!0})})).catch((e=>{console.log(e)}))},this.handleAddPosition=()=>{console.log("clicked1"),this.setState({table:!1})},this.handleEditPosition=e=>{console.log(e),console.log("clicked6"),this.setState({editForm:!0}),this.setState({editData:e})},this.handleFormClose=()=>{console.log("clicked1"),this.setState({table:!0})},this.handleEditFormClose=()=>{console.log("clicked5"),this.setState({editForm:!1})},this.handleFormClose=()=>{console.log("clicked1"),this.setState({table:!0})},this.handlePositionEditUpdate=(e,t,a)=>{let s={CompanyID:t,PositionName:a};console.log("update",s),d.a.put("".concat(R,"/api/position/")+e._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({table:!1}),this.setState({table:!0})})).catch((e=>{console.log(e)})),this.setState({editForm:!1})}}render(){return Object(y.jsx)(c.a.Fragment,{children:this.state.table?this.state.editForm?Object(y.jsx)(Ce,{onPositionEditUpdate:this.handlePositionEditUpdate,onFormEditClose:this.handleEditFormClose,editData:this.state.editData}):Object(y.jsx)(we,{onAddPosition:this.handleAddPosition,onEditPosition:this.handleEditPosition}):Object(y.jsx)(Se,{onPositionSubmit:this.handlePositionSubmit,onFormClose:this.handleFormClose})})}}var Le=Ee;var Ie=e=>{let{onAddDepartment:t,onEditDepartment:a}=e;const[c,l]=Object(s.useState)([]),[o,n]=Object(s.useState)(!0);Object(s.useEffect)((()=>{r()}),[]);const r=()=>{d.a.get("".concat(R,"/api/department"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;console.log("response",e.data),l(t),n(!1)})).catch((e=>{console.log(e)}))};return Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsxs)("div",{className:"d-flex justify-between aline-items-start mb-3",children:[Object(y.jsx)("div",{className:"my-auto",children:Object(y.jsx)("h3",{className:"fw-bold text-muted",children:"Department Details"})}),Object(y.jsxs)(re.a,{className:"my-auto",variant:"primary shadow-sm",onClick:t,children:[Object(y.jsx)(W.a,{icon:J.e,id:"plus-icon"}),"Create Department"]})]}),Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Company"}),Object(y.jsx)("th",{children:"Department"}),Object(y.jsx)("th",{children:"Action"})]})}),Object(y.jsx)("tbody",{children:c.map(((e,t)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"text-capitalize fw-bold",children:e.company[0].CompanyName}),Object(y.jsx)("td",{className:"text-capitalize fw-bold",children:e.DepartmentName}),Object(y.jsx)("td",{children:Object(y.jsxs)("div",{className:"d-flex wrap-nowrap justify-content-end gap-3",children:[Object(y.jsxs)("span",{onClick:()=>a(e),style:{cursor:"pointer"},title:"Update",className:"text-primary d-flex align-items-center gap-2 px-4 shadow-sm rounded-5",children:[Object(y.jsx)(W.a,{icon:J.b}),Object(y.jsx)("span",{children:"Edit"})]}),Object(y.jsxs)("span",{onClick:()=>{return t=e._id,void(window.confirm("Are you sure to delete this record ?")&&d.a.delete("".concat(R,"/api/department/").concat(t),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{r()})).catch((e=>{console.log(e),console.log(e.response),403===e.response.status&&window.alert(e.response.data)})));var t},style:{cursor:"pointer"},title:"Delete",className:"text-danger d-flex align-items-center gap-2 px-4 shadow-sm rounded-5",children:[Object(y.jsx)(W.a,{icon:J.g}),Object(y.jsx)("span",{children:"Delete"})]})]})})]},t)))})]})]})};a(414);class Ae extends s.Component{constructor(){super(...arguments),this.state={companyInfo:[]},this.companyData=[],this.loadCompanyInfo=()=>{d.a.get("".concat(R,"/api/company"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.companyData=e.data,this.setState({companyInfo:e.data})})).catch((e=>{console.log(e)}))}}componentWillMount(){this.loadCompanyInfo()}render(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Add Department Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:this.props.onDepartmentSubmit,children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Company"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"country",required:!0,children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),this.companyData.map(((e,t)=>Object(y.jsx)("option",{value:e._id,children:e.CompanyName})))]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Department"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Department",name:"Department",required:!0})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Submit"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:this.props.onFormClose,children:"cancel"})})})]})})]})}}var Te=Ae;class Fe extends s.Component{constructor(){super(...arguments),this.state={DepartmentData:this.props.editData.DepartmentName,companyInfo:[]},this.companyData=[],this.loadCompanyInfo=()=>{d.a.get("".concat(R,"/api/company"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.companyData=e.data,this.setState({companyInfo:e.data})})).catch((e=>{console.log(e)}))}}onChange(e){this.setState({DepartmentData:e.target.value})}componentWillMount(){this.loadCompanyInfo()}render(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Edit Department Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:e=>this.props.onDepartmentEditUpdate(this.props.editData,e),children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Company"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"country",required:!0,children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),this.companyData.map(((e,t)=>Object(y.jsx)("option",{value:e._id,selected:this.props.editData.company[0]._id==e._id,children:e.CompanyName})))]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Department"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Department",name:"DepartmentName",required:!0,value:this.state.DepartmentData,onChange:e=>this.onChange(e)})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Update"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:this.props.onFormEditClose,children:"cancel"})})})]})})]})}}var Re=Fe;var Pe,Me=()=>{const[e,t]=Object(s.useState)(!0),[a,l]=Object(s.useState)(!1),[o,n]=Object(s.useState)({});return Object(y.jsx)(c.a.Fragment,{children:e?a?Object(y.jsx)(Re,{onDepartmentEditUpdate:(e,a)=>{a.preventDefault();let s={CompanyID:a.target[0].value,DepartmentName:a.target[1].value};console.log("update",s),d.a.put("".concat(R,"/api/department/")+e._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{t(!1),t(!0)})).catch((e=>{console.log(e)})),l(!1)},onFormEditClose:()=>{console.log("clicked5"),l(!1)},editData:o}):Object(y.jsx)(Ie,{onAddDepartment:()=>{console.log("clicked1"),t(!1)},onEditDepartment:e=>{console.log(e),console.log("clicked6"),l(!0),n(e)}}):Object(y.jsx)(Te,{onDepartmentSubmit:e=>{e.preventDefault(),console.log("id",e.target[0].value,e.target[1].value),t(!0);let a={CompanyID:e.target[0].value,DepartmentName:e.target[1].value};d.a.post("".concat(R,"/api/department"),a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{t(!1),t(!0)})).catch((e=>{console.log(e)}))},onFormClose:()=>{console.log("clicked1"),t(!0)}})})};a(415),a(230);const ze=Object(V.a)(Pe||(Pe=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));class Be extends s.Component{constructor(){super(...arguments),this.state={portalData:[],loading:!0},this.portalObj=[],this.rowDataT=[],this.loadPortalData=()=>{d.a.get("http://localhost:4000/api/admin/portal",{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.portalObj=e.data,console.log("response",e.data),this.setState({portalData:e.data}),this.setState({loading:!1}),this.rowDataT=[],this.portalObj.map((e=>{let t={data:e,PortalName:e.PortalName,Status:1==e.Status?"enable":"disable"};this.rowDataT.push(t)})),this.setState({rowData:this.rowDataT})})).catch((e=>{console.log(e)}))},this.onPortalDelete=e=>{console.log(e),1==window.confirm("Are you sure to delete this record,It Will Delete All Projects Related to This Portal? ")&&d.a.delete("http://localhost:4000/api/admin/portal/"+e,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.componentDidMount()})).catch((e=>{console.log(e)}))},this.Status=e=>1==e?"enabled":"disabled"}componentDidMount(){this.loadPortalData()}renderButton(e){return console.log(e),Object(y.jsx)(W.a,{icon:J.g,onClick:()=>this.onPortalDelete(e.data.data._id)})}renderEditButton(e){return console.log(e),Object(y.jsx)(W.a,{icon:J.b,onClick:()=>this.props.onEditPortal(e.data.data)})}render(){return Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsxs)("div",{className:"d-flex justify-between aline-items-start mb-3",children:[Object(y.jsxs)("div",{className:" my-auto",children:[Object(y.jsx)("h3",{className:"fw-bold text-muted",children:"Portal Details"}),Object(y.jsx)("p",{className:"text-muted",children:"You can create new bid and view all Bidding details of the companies here !"})]}),Object(y.jsxs)(re.a,{className:"my-auto",variant:"primary",id:"add-button",onClick:this.props.onAddPortal,children:[Object(y.jsx)(W.a,{icon:J.e,id:"plus-icon"}),"Add new Details"]})]}),Object(y.jsx)("div",{id:"clear-both"}),this.state.loading?Object(y.jsx)("div",{id:"loading-bar",children:Object(y.jsx)(ne.a,{css:ze,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(y.jsxs)("table",{className:"table table-striped",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{style:{cursor:"pointer",background:"linear-gradient(#1D267D, #2F58CD)",color:"white"},children:"Portal"}),Object(y.jsx)("th",{style:{cursor:"pointer",background:"linear-gradient(#1D267D, #2F58CD)",color:"white"},children:"Status"})]})}),Object(y.jsx)("tbody",{children:this.state.portalData.map(((e,t)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.PortalName}),Object(y.jsx)("td",{children:e.Status})]},t)))})]})]})}}var _e=Be;class Ge extends s.Component{constructor(){super(...arguments),this.state={status:""},this.handleChange=e=>{this.setState({status:e.target.value})}}render(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Add Portal Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:this.props.onPortalSubmit,children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Portal"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Portal",name:"Portal",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{as:"legend",column:!0,sm:2,children:"Status"}),Object(y.jsxs)(be.a,{sm:10,children:[Object(y.jsx)(me.a.Check,{inline:!0,type:"radio",label:"enable",value:"1",name:"status",onChange:this.props.onStatusChange,required:!0}),Object(y.jsx)(me.a.Check,{inline:!0,type:"radio",label:"disable",value:"0",name:"status",onChange:this.props.onStatusChange,required:!0})]})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Submit"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:this.props.onFormClose,children:"cancel"})})})]})})]})}}var He=Ge;class Ue extends s.Component{constructor(){super(...arguments),this.state={PortalData:this.props.editData.PortalName,Status:this.props.editData.Status},this.onStatusChange=e=>{this.setState({Status:e.target.value}),this.props.onStatusChange(e)}}onChange(e){this.setState({PortalData:e.target.value})}render(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Edit Portal Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:e=>this.props.onPortalEditUpdate(this.props.editData,e.target[0].value),children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Portal"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Portal",name:"PortalName",required:!0,value:this.state.PortalData,onChange:e=>this.onChange(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{as:"legend",column:!0,sm:2,children:"Status"}),Object(y.jsxs)(be.a,{sm:10,children:[Object(y.jsx)(me.a.Check,{inline:!0,type:"radio",label:"enable",value:"1",name:"status",onChange:this.onStatusChange,required:!0,checked:1==this.state.Status}),Object(y.jsx)(me.a.Check,{inline:!0,type:"radio",label:"disable",value:"0",name:"status",onChange:this.onStatusChange,required:!0,checked:0==this.state.Status})]})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Update"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:this.props.onFormEditClose,children:"cancel"})})})]})})]})}}var qe=Ue;class Ye extends s.Component{constructor(){super(...arguments),this.state={table:!0,editForm:!1,editData:{},addFormStatus:"",editFormStatus:""},this.handlePortalSubmit=e=>{e.preventDefault(),console.log("portal",e.target[0].value,e.target[1].value,e.target[2].value),console.log("portal status",this.state.addFormStatus),this.setState({table:!0});let t={PortalName:e.target[0].value,Status:this.state.addFormStatus};d.a.post("http://localhost:4000/api/admin/portal",t,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({table:!1}),this.setState({table:!0})})).catch((e=>{console.log(e)}))},this.handleAddPortal=()=>{console.log("clicked1"),this.setState({table:!1})},this.handleEditPortal=e=>{console.log(e),console.log("clicked6"),this.setState({editForm:!0}),this.setState({editData:e}),this.setState({editFormStatus:e.Status})},this.handleFormClose=()=>{console.log("clicked1"),this.setState({table:!0})},this.handleEditFormClose=()=>{console.log("clicked5"),this.setState({editForm:!1})},this.handleFormClose=()=>{console.log("clicked1"),this.setState({table:!0})},this.handleAddFormStatusChange=e=>{this.setState({addFormStatus:e.currentTarget.value})},this.handleEditFormStatusChange=e=>{this.setState({editFormStatus:e.currentTarget.value})},this.handlePortalEditUpdate=(e,t)=>{let a={_id:e._id,PortalName:t,Status:this.state.editFormStatus,ID:e.ID};console.log("update",a),d.a.put("http://localhost:4000/api/admin/portal/"+e.ID,a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({table:!1}),this.setState({table:!0})})).catch((e=>{console.log(e)})),this.setState({editForm:!1})}}render(){return Object(y.jsx)(c.a.Fragment,{children:this.state.table?this.state.editForm?Object(y.jsx)(qe,{onPortalEditUpdate:this.handlePortalEditUpdate,onFormEditClose:this.handleEditFormClose,editData:this.state.editData,onStatusChange:this.handleEditFormStatusChange}):Object(y.jsx)(_e,{onAddPortal:this.handleAddPortal,onEditPortal:this.handleEditPortal}):Object(y.jsx)(He,{onPortalSubmit:this.handlePortalSubmit,onFormClose:this.handleFormClose,onStatusChange:this.handleAddFormStatusChange})})}}var We,Je=Ye;a(416),a(417);const Ve=Object(V.a)(We||(We=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));class Xe extends s.Component{constructor(){super(...arguments),this.state={projectBidData:[],loading:!0,rowData:[],sortColumn:null,sortDirection:"asc",error:null},this.loadProjectBidData=()=>{d.a.get("http://localhost:4000/api/admin/project-bid",{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;this.setState({projectBidData:t,loading:!1,error:null});const a=t.map((e=>({data:e,ProjectTitle:e.ProjectTitle,PortalName:e.portals[0].PortalName,ProjectURL:e.ProjectURL,EstimatedTime:e.EstimatedTime,EstimatedCost:e.EstimatedCost,Remark:e.Remark})));this.setState({rowData:a})})).catch((e=>{console.log(e),this.setState({loading:!1,error:"Error loading data."})}))},this.onProjectBidDelete=e=>{console.log(e),1==window.confirm("Are you sure to delete this record? ")&&d.a.delete("http://localhost:4000/api/admin/project-bid/"+e,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.componentDidMount()})).catch((e=>{console.log(e)}))},this.renderSortIcon=e=>{const{sortColumn:t,sortDirection:a}=this.state;return t===e?"asc"===a?"\u25b4":"\u25be":null},this.sortData=e=>{const{rowData:t,sortColumn:a,sortDirection:s}=this.state;let c="asc";a===e&&"asc"===s&&(c="desc");const l=[...t];l.sort(((t,a)=>{const c=String(t[e]).toLowerCase(),l=String(a[e]).toLowerCase();let o=0;return c>l?o=1:c<l&&(o=-1),"desc"===s?-1*o:o})),this.setState({rowData:l,sortColumn:e,sortDirection:c})}}componentDidMount(){this.loadProjectBidData()}renderButton(e){return console.log(e),Object(y.jsx)(W.a,{icon:J.g,onClick:()=>this.onProjectBidDelete(e.data.data._id)})}renderEditButton(e){return console.log(e),Object(y.jsx)(W.a,{icon:J.b,onClick:()=>this.props.onEditProjectBid(e.data.data)})}render(){return Object(y.jsxs)("div",{className:"p-4",id:"table-outer-div-scroll",children:[Object(y.jsxs)("div",{className:"d-flex justify-between aline-items-start mb-3",children:[Object(y.jsxs)("div",{className:" my-auto",children:[Object(y.jsx)("h3",{className:"fw-bold text-muted",children:"Bidding Details"}),Object(y.jsx)("p",{className:"text-muted",children:"You can create new bid and view all Bidding details of the companies here !"})]}),Object(y.jsxs)(re.a,{className:"my-auto",variant:"primary",id:"add-button",onClick:this.props.onAddProjectBid,children:[Object(y.jsx)(W.a,{icon:J.e,id:"plus-icon"}),"Add new Details"]})]}),Object(y.jsx)("div",{id:"clear-both"}),this.state.loading?Object(y.jsx)("div",{id:"loading-bar",children:Object(y.jsx)(ne.a,{css:Ve,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(y.jsx)("div",{children:Object(y.jsxs)("table",{className:"table table-striped",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsxs)("th",{style:{background:"linear-gradient(#1D267D, #2F58CD)",color:"white"},className:"py-1",onClick:()=>this.sortData("ProjectTitle"),children:["Project Title ",this.renderSortIcon("ProjectTitle")]}),Object(y.jsxs)("th",{style:{background:"linear-gradient(#1D267D, #2F58CD)",color:"white"},className:"py-1",onClick:()=>this.sortData("PortalName"),children:["Portal ",this.renderSortIcon("PortalName")]}),Object(y.jsxs)("th",{style:{background:"linear-gradient(#1D267D, #2F58CD)",color:"white"},className:"py-1",onClick:()=>this.sortData("ProjectURL"),children:["Project URL ",this.renderSortIcon("ProjectURL")]}),Object(y.jsxs)("th",{style:{background:"linear-gradient(#1D267D, #2F58CD)",color:"white"},className:"py-1",onClick:()=>this.sortData("EstimatedTime"),children:["Estimate Time ",this.renderSortIcon("EstimatedTime")]}),Object(y.jsxs)("th",{style:{background:"linear-gradient(#1D267D, #2F58CD)",color:"white"},className:"py-1",onClick:()=>this.sortData("EstimatedCost"),children:["Estimate Cost ",this.renderSortIcon("EstimatedCost")]}),Object(y.jsxs)("th",{style:{background:"linear-gradient(#1D267D, #2F58CD)",color:"white"},className:"py-1",onClick:()=>this.sortData("Remark"),children:["Remark ",this.renderSortIcon("Remark")]})]})}),Object(y.jsx)("tbody",{children:this.state.projectBidData.map(((e,t)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"text-uppercase",children:e.ProjectTitle}),Object(y.jsx)("td",{children:e.portals[0].PortalName}),Object(y.jsx)("td",{children:Object(y.jsx)("a",{href:e.ProjectURL,children:e.ProjectURL})}),Object(y.jsx)("td",{children:e.EstimatedTime}),Object(y.jsx)("td",{children:e.EstimatedCost}),Object(y.jsx)("td",{children:e.Remark})]},t)))})]})})]})}}var Ke=Xe;a(418);class $e extends s.Component{constructor(){super(...arguments),this.state={status:"",portalsInfo:[]},this.portalsData=[],this.handleChange=e=>{this.setState({status:e.target.value})},this.loadPortalsInfo=()=>{d.a.get("http://localhost:4000/api/admin/portal",{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.portalsData=e.data,this.portalsData=this.portalsData.filter((e=>1==e.Status)),this.setState({portalsInfo:e.data})})).catch((e=>{console.log(e)}))}}componentDidMount(){this.loadPortalsInfo()}render(){return Object(y.jsxs)(c.a.Fragment,{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Add Project Bid Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:this.props.onProjectBidSubmit,children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Project Title"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Project Title",name:"ProjectTitle",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Project URL"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Project URL",name:"ProjectURL",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Project Description"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{as:"textarea",rows:"3",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Portals"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{as:"select",name:"CompanyID",required:!0,children:this.portalsData.map(((e,t)=>Object(y.jsx)("option",{value:e._id,children:e.PortalName})))})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Estimated Time"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"number",placeholder:"Estimated Time",name:"EstimatedTime",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Estimated Cost"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"number",placeholder:"Estimated Cost",name:"EstimatedCost",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Resource"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",required:!0,children:[Object(y.jsx)("option",{value:"1",children:"Resource1"}),Object(y.jsx)("option",{value:"2",children:"Resource2"}),Object(y.jsx)("option",{value:"3",children:"Resource3"})]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Status"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",required:!0,children:[Object(y.jsx)("option",{value:"1",children:"Open"}),Object(y.jsx)("option",{value:"1",children:"Close"}),Object(y.jsx)("option",{value:"1",children:"Cancel"}),Object(y.jsx)("option",{value:"1",children:"Award"})]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Remark"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{as:"textarea",rows:"3",required:!0})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Submit"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:this.props.onFormClose,children:"cancel"})})})]})})]})}}var Ze=$e;a(419);class Qe extends s.Component{constructor(){super(...arguments),this.state={status:"",portalsInfo:[],ProjectTitleData:this.props.editData.ProjectTitle,ProjectURLData:this.props.editData.ProjectURL,ProjectDescriptionData:this.props.editData.ProjectDesc,EstimatedTimeData:this.props.editData.EstimatedTime,RemarkData:this.props.editData.Remark},this.portalsData=[],this.handleChange=e=>{this.setState({status:e.target.value})},this.loadPortalsInfo=()=>{d.a.get("http://localhost:4000/api/admin/portal",{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.portalsData=e.data,this.portalsData=this.portalsData.filter((e=>1==e.Status)),this.setState({portalsInfo:e.data})})).catch((e=>{console.log(e)}))}}onProjectTitleDataChange(e){this.setState({ProjectTitleData:e.target.value})}onProjectURLDataChange(e){this.setState({ProjectURLData:e.target.value})}onProjectDescriptionDataChange(e){this.setState({ProjectDescriptionData:e.target.value})}onPortalsDataChange(e){this.setState({PortalsData:e.target.value})}onEstimatedTimeDataChange(e){this.setState({EstimatedTimeData:e.target.value})}onEstimatedCostDataChange(e){this.setState({EstimatedCostData:e.target.value})}onResourceDataChange(e){this.setState({ResourceData:e.target.value})}onStatusDataChange(e){this.setState({StatusData:e.target.value})}onRemarkDataChange(e){this.setState({RemarkData:e.target.value})}componentDidMount(){this.loadPortalsInfo()}render(){return Object(y.jsxs)(c.a.Fragment,{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Edit Project Bid Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:e=>this.props.onProjectBidEditUpdate(this.props.editData,e),children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Project Title"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Project Title",name:"ProjectTitle",required:!0,value:this.state.ProjectTitleData,onChange:e=>this.onProjectTitleDataChange(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Project URL"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Project URL",name:"ProjectURL",required:!0,value:this.state.ProjectURLData,onChange:e=>this.onProjectURLDataChange(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Project Description"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{as:"textarea",rows:"3",required:!0,value:this.state.ProjectDescriptionData,onChange:e=>this.onProjectDescriptionDataChange(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Portals"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{as:"select",name:"CompanyID",required:!0,children:this.portalsData.map(((e,t)=>Object(y.jsx)("option",{value:e._id,selected:this.props.editData.portals[0].ID==e.ID,children:e.PortalName})))})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Estimated Time"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"number",placeholder:"Estimated Time",name:"EstimatedTime",required:!0,value:this.state.EstimatedTimeData,onChange:e=>this.onEstimatedTimeDataChange(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Estimated Cost"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"number",placeholder:"Estimated Cost",name:"EstimatedCost",required:!0,value:this.state.EstimatedCostData,onChange:e=>this.onEstimatedCostDataChange(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Resource"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",required:!0,children:[Object(y.jsx)("option",{value:"1",selected:1==this.props.editData.ResourceID,children:"Resource1"}),Object(y.jsx)("option",{value:"2",selected:2==this.props.editData.ResourceID,children:"Resource2"}),Object(y.jsx)("option",{value:"3",selected:3==this.props.editData.ResourceID,children:"Resource3"})]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Status"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",required:!0,children:[Object(y.jsx)("option",{value:"1",selected:1==this.props.editData.Status,children:"Open"}),Object(y.jsx)("option",{value:"2",selected:2==this.props.editData.Status,children:"Close"}),Object(y.jsx)("option",{value:"3",selected:3==this.props.editData.Status,children:"Cancel"}),Object(y.jsx)("option",{value:"4",selected:4==this.props.editData.Status,children:"Award"})]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Remark"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{as:"textarea",rows:"3",required:!0,value:this.state.RemarkData,onChange:e=>this.onRemarkDataChange(e)})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Submit"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:this.props.onFormEditClose,children:"cancel"})})})]})})]})}}var et=Qe;class tt extends s.Component{constructor(){super(...arguments),this.state={table:!0,editForm:!1,editData:{}},this.handleProjectBidSubmit=e=>{e.preventDefault(),console.log("id",e.target[0].value,e.target[1].value),this.setState({table:!0});let t={ProjectTitle:e.target[0].value,ProjectURL:e.target[1].value,ProjectDesc:e.target[2].value,Portal_ID:e.target[3].value,EstimatedTime:e.target[4].value,EstimatedCost:e.target[5].value,ResourceID:e.target[6].value,Status:e.target[7].value,Remark:e.target[8].value};d.a.post("http://localhost:4000/api/admin/project-bid",t,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({table:!1}),this.setState({table:!0})})).catch((e=>{console.log(e)}))},this.handleAddProjectBid=()=>{console.log("clicked1"),this.setState({table:!1})},this.handleEditProjectBid=e=>{console.log(e),console.log("clicked6"),this.setState({editForm:!0}),this.setState({editData:e})},this.handleFormClose=()=>{console.log("clicked1"),this.setState({table:!0})},this.handleEditFormClose=()=>{console.log("clicked5"),this.setState({editForm:!1})},this.handleFormClose=()=>{console.log("clicked1"),this.setState({table:!0})},this.handleProjectBidEditUpdate=(e,t)=>{let a={ProjectTitle:t.target[0].value,ProjectURL:t.target[1].value,ProjectDesc:t.target[2].value,Portal_ID:t.target[3].value,EstimatedTime:t.target[4].value,EstimatedCost:t.target[5].value,ResourceID:t.target[6].value,Status:t.target[7].value,Remark:t.target[8].value};console.log("update",a),d.a.put("http://localhost:4000/api/admin/project-bid/"+e._id,a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({table:!1}),this.setState({table:!0})})).catch((e=>{console.log(e)})),this.setState({editForm:!1})}}render(){return Object(y.jsx)(c.a.Fragment,{children:this.state.table?this.state.editForm?Object(y.jsx)(et,{onProjectBidEditUpdate:this.handleProjectBidEditUpdate,onFormEditClose:this.handleEditFormClose,editData:this.state.editData}):Object(y.jsx)(Ke,{onAddProjectBid:this.handleAddProjectBid,onEditProjectBid:this.handleEditProjectBid}):Object(y.jsx)(Ze,{onProjectBidSubmit:this.handleProjectBidSubmit,onFormClose:this.handleFormClose})})}}var at,st=tt,ct=(a(420),a(421),a(54)),lt=a(159);const ot=Object(V.a)(at||(at=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var nt=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,n]=Object(s.useState)(null),[r,i]=Object(s.useState)("asc"),[j,m]=Object(s.useState)(""),[h,b]=Object(s.useState)(1),[p]=Object(s.useState)(8),x=()=>{d.a.get("".concat(R,"/api/salary"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;console.log("response",e.data),a(e.data),l(!1);const s=t.map((e=>({data:e,EmployeeName:"".concat(e.FirstName," ").concat(e.LastName),PositionName:e.position[0].PositionName,BasicSalary:e.salary[0].BasicSalary,BankName:e.salary[0].BankName,AccountNo:e.salary[0].AccountNo,AccountHolderName:e.salary[0].AccountHolderName,IFSCcode:e.salary[0].IFSCcode,TaxDeduction:e.salary[0].TaxDeduction})));a(s)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{x()}),[]);const u=e=>{n(e),i((t=>o===e&&"asc"===t?"desc":"asc"))},g=e=>o===e?"asc"===r?"\u25b4":"\u25be":null,f=t.slice().filter((e=>e.EmployeeName.toLowerCase().includes(j.toLowerCase()))).sort(((e,t)=>{if(o){const a=e[o],s=t[o];return"string"===typeof a&&"string"===typeof s?"asc"===r?a.localeCompare(s):s.localeCompare(a):"asc"===r?a-s:s-a}return 0})),v=h*p,N=v-p,w=f.slice(N,v),S=[];for(let s=1;s<=Math.ceil(f.length/p);s++)S.push(s);return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:" row mx-auto bg-light shadow-sm mb-3 py-1",children:Object(y.jsxs)("div",{className:" my-auto d-flex justify-content-between",children:[Object(y.jsx)("h5",{className:"fw-bold my-auto text-uppercase text-muted",children:"Salary Details"}),Object(y.jsxs)("div",{className:"d-flex gap-2 justify-content-between py-1",children:[Object(y.jsxs)(re.a,{className:"my-auto d-flex gap-1 my-auto",id:"add-button",onClick:e.onAddSalary,children:["+ ",Object(y.jsx)("span",{className:"d-none d-sm-block",children:"Add Salary"})]}),Object(y.jsxs)("div",{className:"searchholder p-0 d-flex  position-relative",children:[Object(y.jsx)("input",{style:{height:"100%",width:"100%",paddingLeft:"15%"},className:"form-control pr-0 border border-primary border-2",type:"text",placeholder:"Search by name",value:j,onChange:e=>{m(e.target.value)}}),Object(y.jsx)(ct.b,{style:{position:"absolute",top:"30%",left:"5%"}})]})]})]})}),Object(y.jsx)("div",{id:"clear-both"}),c?Object(y.jsx)("div",{id:"loading-bar",children:Object(y.jsx)(ne.a,{css:ot,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(y.jsxs)("div",{className:"row m-auto",children:[Object(y.jsx)("div",{style:{height:"75vh",overflow:"auto",width:"100%"},children:Object(y.jsxs)("div",{style:{height:"95%",overflow:"scroll"},children:[" ",Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{style:{position:"sticky",top:"0",zIndex:"3"},children:[Object(y.jsxs)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",cursor:"pointer",whiteSpace:"pre"},className:"py-2",onClick:()=>u("EmployeeName"),children:[Object(y.jsx)(O.a,{}),"Name ",g("EmployeeName")]}),Object(y.jsxs)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",cursor:"pointer",whiteSpace:"pre"},className:"py-2",children:["Designation ",g("BasicSalary")]}),Object(y.jsxs)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",cursor:"pointer",whiteSpace:"pre"},className:"py-2",onClick:()=>u("BasicSalary"),children:[Object(y.jsx)(O.a,{}),"Salary ",g("BasicSalary")]}),Object(y.jsxs)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",cursor:"pointer",whiteSpace:"pre"},className:"py-2",children:["Bank Name ",g("BankName")]}),Object(y.jsxs)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",cursor:"pointer",whiteSpace:"pre"},className:"py-2",children:["Account No ",g("AccountNo")]}),Object(y.jsxs)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",cursor:"pointer",whiteSpace:"pre"},className:"py-2",children:["Account Holder Name ",g("AccountHolderName")]}),Object(y.jsxs)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",cursor:"pointer",whiteSpace:"pre"},className:"py-2",children:["IFSC Code ",g("IFSCcode")]}),Object(y.jsxs)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",cursor:"pointer",whiteSpace:"pre"},className:"py-2",children:["Tax Deduction ",g("TaxDeduction")]}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"py-2 text-center",children:"Action"})]})}),Object(y.jsx)("tbody",{children:w.length>0?w.map(((t,a)=>{var s,c,l,o;return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre"},className:"text-capitalize ",children:Object(y.jsxs)("div",{className:"d-flex flex-nowrap gap-2 ",children:[Object(y.jsx)("div",{style:{height:"40px",width:"40px"},children:Object(y.jsx)("img",{style:{height:"100%",width:"100%",borderRadius:"50%",overflow:"hidden",objectFit:"cover"},src:null!==t&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&null!==(c=s.profile)&&void 0!==c&&c.image_url?null===t||void 0===t||null===(l=t.data)||void 0===l||null===(o=l.profile)||void 0===o?void 0:o.image_url:"https://a.storyblok.com/f/191576/1200x800/215e59568f/round_profil_picture_after_.webp",alt:""})}),Object(y.jsxs)("span",{className:"my-auto fw-bold text-muted",children:[" ",t.EmployeeName]})]})}),Object(y.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre"},children:t.PositionName}),Object(y.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre"},className:"text-primary fw-bold",children:t.BasicSalary}),Object(y.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre"},className:"text-uppercase  ",children:t.BankName}),Object(y.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre"},className:"text-uppercase ",children:t.AccountNo}),Object(y.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre"},className:"text-capitalize ",children:t.AccountHolderName}),Object(y.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre"},className:"text-uppercase ",children:t.IFSCcode}),Object(y.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre"},className:"",children:t.TaxDeduction}),Object(y.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre"},className:"",children:Object(y.jsxs)("div",{className:"d-flex  gap-3 justify-content-around",children:[Object(y.jsx)(W.a,{className:"text-danger",icon:J.g,onClick:()=>{return e=t.data._id,console.log(e),void(window.confirm("Are you sure to delete this record? ")&&d.a.delete("".concat(R,"/api/salary/").concat(e),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{x()})).catch((e=>{console.log(e)})));var e}}),Object(y.jsx)(W.a,{className:"text-primary",icon:J.b,onClick:()=>e.onEditSalary(t.data)})]})})]},a)})):Object(y.jsxs)("div",{style:{height:"30vh",width:"94%",position:"absolute"},className:"d-flex flex-column justify-content-center align-items-center gap-1",children:[Object(y.jsxs)("span",{className:"fw-bolder ",style:{fontSize:"2rem"},children:[Object(y.jsx)(D.h,{className:"text-danger",style:{fontSize:"2.3rem"}})," ","OOPS!"]}),Object(y.jsx)("h6",{className:"p-0 m-0",children:"Record not found."})]})})]})]})}),Object(y.jsxs)("div",{style:{position:"stickey",bottom:"1%"},className:"container-fluid bg-light p-2 d-flex justify-content-between",children:[Object(y.jsxs)(re.a,{className:"d-flex gap-2",onClick:()=>{b((e=>e-1))},disabled:1===h,children:[Object(y.jsx)(lt.a,{className:"my-auto "})," Previous"]}),Object(y.jsx)("div",{className:"pagination d-flex flex-nowrap gap-2",children:S.map((e=>Object(y.jsx)(re.a,{style:{backgroundColor:h===e?"active":"white",border:"none",color:"gray",boxShadow:"0 0 5px 1px rgba(226, 223, 223,1)"},onClick:()=>b(e),className:h===e?"active":"",children:e},e)))}),Object(y.jsxs)(re.a,{onClick:()=>{b((e=>e+1))},className:"d-flex gap-3",disabled:v>=f.length,children:[Object(y.jsx)("span",{className:"",children:"Next"})," ",Object(y.jsx)(lt.a,{className:"my-auto",style:{rotate:"180deg"}})]})]})]})]})};var rt=e=>{const[t,a]=Object(s.useState)([]);return Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get("".concat(R,"/api/employee"),{headers:{authorization:localStorage.getItem("token")||""}});a(e.data)}catch(e){console.log(e)}})()}),[]),Object(y.jsxs)("div",{className:"registration-page py-4 ",children:[Object(y.jsx)("h2",{className:"text-center text-black text-uppercase fw-bold my-4",children:"Add Salary Details"}),Object(y.jsx)(me.a,{id:"form",onSubmit:e.onSalarySubmit,className:"container d-flex flex-column m-10 empForm",children:Object(y.jsx)("div",{className:"d-flex w-100 flex-column gap-6 rounded ",children:Object(y.jsxs)("div",{style:{padding:"80px"},className:"row row-gap-3 ",children:[Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Select Employee"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",required:!0,children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),t.map(((e,t)=>Object(y.jsx)("option",{value:e._id,children:e.FirstName+" "+e.MiddleName+" "+e.LastName},t)))]})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Basic Salary"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"number",placeholder:"Basic Salary",required:!0})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Bank Name"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"Bank Name",required:!0})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Account No"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"Account No",required:!0})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Re-Enter Account No"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"Re-Enter Account No",required:!0})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Account Holder Name"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"Account Holder Name",required:!0})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"IFSC Code"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"IFSC Code",required:!0})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Tax Deduction"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"number",placeholder:"Basic Salary",required:!0})})]}),Object(y.jsxs)("div",{className:"form-group col-12 d-flex  gap-5",id:"form-submit-button",children:[Object(y.jsx)(re.a,{className:"mx-3",type:"submit",children:"Submit"}),Object(y.jsx)(re.a,{className:"mx-3",type:"reset",onClick:e.onFormClose,children:"cancel"})]}),Object(y.jsx)("div",{className:"form-group col-12 col-md-6",id:"form-cancel-button"})]})})})]})};var it=e=>{const[t,a]=Object(s.useState)([]),[l,o]=Object(s.useState)(e.editData.salary[0].BasicSalary),[n,r]=Object(s.useState)(e.editData.salary[0].BankName),[i,j]=Object(s.useState)(e.editData.salary[0].AccountNo),[m,h]=Object(s.useState)(e.editData.salary[0].AccountNo),[b,p]=Object(s.useState)(e.editData.salary[0].AccountHolderName),[x,u]=Object(s.useState)(e.editData.salary[0].IFSCcode),[O,g]=Object(s.useState)(e.editData.salary[0].TaxDeduction);return Object(s.useEffect)((()=>{d.a.get("".concat(R,"/api/salary"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(e.data)})).catch((e=>{console.log(e)}))}),[]),Object(y.jsxs)(c.a.Fragment,{style:{height:"100vh",width:"100%"},className:"registration-page py-4",children:[" ",Object(y.jsx)("h2",{id:"role-form-title",className:"text-center text-black text-uppercase fw-bold my-4",children:"Edit Salary Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsx)(me.a,{id:"form",onSubmit:t=>e.onSalaryEditUpdate(e.editData,t),children:Object(y.jsx)("div",{className:"d-flex w-100 flex-column gap-6 rounded ",children:Object(y.jsxs)("div",{style:{padding:"80px"},className:"row row-gap-3 ",children:[Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Select Salary"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{as:"select",required:!0,disabled:!0,children:t.map(((t,a)=>Object(y.jsx)("option",{value:t._id,selected:e.editData._id===t._id,disabled:!0,children:"".concat(t.FirstName," ").concat(t.MiddleName," ").concat(t.LastName)},a)))})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Basic Salary"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"number",placeholder:"Basic Salary",required:!0,value:l,onChange:e=>{o(e.target.value)}})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Bank Name"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"Bank Name",required:!0,value:n,onChange:e=>{r(e.target.value)}})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Account No"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"Account No",required:!0,value:i,onChange:e=>{j(e.target.value)}})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Re-Enter Account No"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"Re-Enter Account No",required:!0,value:m,onChange:e=>{h(e.target.value)}})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Account Holder Name"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"Account Holder Name",required:!0,value:b,onChange:e=>{p(e.target.value)}})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"IFSC Code"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"IFSC Code",required:!0,value:x,onChange:e=>{u(e.target.value)}})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Tax Deduction"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"number",placeholder:"Basic Salary",required:!0,value:O,onChange:e=>{g(e.target.value)}})})]}),Object(y.jsxs)("div",{className:"form-group col-12 d-flex  gap-5",id:"form-submit-button",children:[Object(y.jsx)(re.a,{className:"mx-3",type:"submit",children:"Submit"}),Object(y.jsx)(re.a,{className:"mx-3",type:"reset",onClick:e.onFormClose,children:"cancel"})]}),Object(y.jsx)("div",{className:"form-group col-12 col-md-6",id:"form-cancel-button"})]})})})})]})};var dt,jt=()=>{const[e,t]=Object(s.useState)(!0),[a,l]=Object(s.useState)(!1),[o,n]=Object(s.useState)(null);return Object(y.jsx)(c.a.Fragment,{children:e?a?Object(y.jsx)(it,{onSalaryEditUpdate:(e,a)=>{if(console.log("eeeeeeeeeeeeeeeeeeeeddddddddddddddddddddddddd"),a.preventDefault(),a.target[3].value!==a.target[4].value)window.alert("The bank account number you entered does not match ");else{let s={BasicSalary:a.target[1].value,BankName:a.target[2].value,AccountNo:a.target[3].value,AccountHolderName:a.target[5].value,IFSCcode:a.target[6].value,TaxDeduction:a.target[7].value};d.a.put("".concat(R,"/api/salary/")+e.salary[0]._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{t(!1),t(!0)})).catch((e=>{console.log(e)})),l(!1)}},onFormEditClose:()=>{console.log("clicked5"),l(!1)},editData:o,onGenderChange:()=>{}}):Object(y.jsx)(nt,{onAddSalary:()=>{console.log("clicked1"),t(!1)},onEditSalary:e=>{console.log(e),console.log("clicked6"),l(!0),n(e)}}):Object(y.jsx)(rt,{onSalarySubmit:e=>{if(e.preventDefault(),e.target[3].value!==e.target[4].value)window.alert("The bank account number you entered does not match ");else{let a={BasicSalary:e.target[1].value,BankName:e.target[2].value,AccountNo:e.target[3].value,AccountHolderName:e.target[5].value,IFSCcode:e.target[6].value,TaxDeduction:e.target[7].value};d.a.post("".concat(R,"/api/salary/")+e.target[0].value,a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{t(!1),t(!0)})).catch((e=>{console.log(e),console.log(e.response),403===e.response.status&&window.alert(e.response.data)}))}},onFormClose:()=>{console.log("clicked1"),t(!0)},onGenderChange:()=>{}})})};const mt=Object(V.a)(dt||(dt=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var ht=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,n]=Object(s.useState)(""),[r,i]=Object(s.useState)(null),[j,m]=Object(s.useState)("asc"),[h,b]=Object(s.useState)([]),[p,x]=Object(s.useState)([]),u=()=>{d.a.get("".concat(R,"/api/leave-application-hr/"),{headers:{authorization:localStorage.getItem("token")||""}}).then((t=>{const s=t.data;a(s),l(!1);const c=s.map((e=>{var t,a,s,c,l,o,n,r;return{data:e,empID:null===e||void 0===e||null===(t=e.employee)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.empID,Name:(null===e||void 0===e||null===(s=e.employee)||void 0===s||null===(c=s[0])||void 0===c?void 0:c.FirstName)+" "+(null===e||void 0===e||null===(l=e.employee)||void 0===l||null===(o=l[0])||void 0===o?void 0:o.LastName),Leavetype:null===e||void 0===e?void 0:e.Leavetype,FromDate:null===e||void 0===e||null===(n=e.FromDate)||void 0===n?void 0:n.slice(0,10),ToDate:null===e||void 0===e||null===(r=e.ToDate)||void 0===r?void 0:r.slice(0,10),Reasonforleave:null===e||void 0===e?void 0:e.Reasonforleave,Status:g(null===e||void 0===e?void 0:e.Status)}}));b(c),x(c),e.updateTotalLeaves(s.length)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{u()}),[]),Object(s.useEffect)((()=>{O()}),[o]);const O=()=>{const e=h.filter((e=>e.Name.toLowerCase().includes(o.toLowerCase())));x(e)},g=e=>1==e?"Pending":2==e?"Approved":3==e?"Rejected":void 0,f=e=>r===e?"asc"===j?"\u25b4":"\u25be":null,v=e=>{let t="asc";r===e&&"asc"===j&&(t="desc");const a=[...p];a.sort(((t,a)=>{const s=t[e],c=a[e];let l=0;return s>c?l=1:s<c&&(l=-1),"desc"===j?-1*l:l})),x(a),i(e),m(t)},w=p.filter((e=>"Pending"===e.Status)).length;return Object(y.jsxs)("div",{className:"container-fluid",children:[Object(y.jsx)("div",{className:"d-flex flex-column justify-between",children:Object(y.jsxs)("div",{className:"d-flex justify-content-between aline-items-center",children:[Object(y.jsxs)("h4",{className:"fw-bold  my-auto text-muted",children:["Leaves Request"," ",Object(y.jsxs)("span",{className:"text-warning",children:["(",w,")"]})]}),Object(y.jsxs)("div",{className:"d-flex gap-2 justify-content-between py-3",children:[Object(y.jsxs)("button",{className:"btn px-3 shadow-sm d-flex justify-center  aline-center gap-2",onClick:()=>{if(window.confirm("Are you sure to download Leave record? ")){const e=297,t=210,a=new K.default({orientation:"landscape",unit:"mm",format:[e,t]});a.setFontSize(18),a.text("Employee Leave Details",e/2,15,"center");const s=["Emp Id","Leave Type","Start Date","End Date","Remarks","Status"],c=p.map((e=>[e.empID,e.Leavetype,e.FromDate,e.ToDate,e.Reasonforleave,e.Status,""]));a.setFontSize(12),a.autoTable({head:[s],body:c,startY:25}),a.save("leaveApplication_data.pdf")}},children:[Object(y.jsx)(N.c,{className:"text-danger fs-6"}),Object(y.jsx)("p",{className:"my-auto fs-6 fw-bold",children:"PDF"})]}),Object(y.jsxs)("div",{className:"searchholder p-0 d-flex  position-relative",children:[Object(y.jsx)("input",{style:{height:"100%",width:"100%",paddingLeft:"15%"},className:"form-control border border-primary border-2",type:"text",placeholder:"Search by name",value:o,onChange:e=>n(e.target.value)}),Object(y.jsx)(ct.b,{style:{position:"absolute",top:"30%",left:"5%"}})]})]})]})}),Object(y.jsx)("div",{id:"clear-both"}),c?Object(y.jsx)("div",{id:"loading-bar",children:Object(y.jsx)(ne.a,{css:mt,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(y.jsx)("div",{className:"mt-3",style:{overflow:"auto",height:"85vh",width:"100%",scrollbarWidth:"thin"},children:Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsxs)("th",{style:{cursor:"pointer",background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},onClick:()=>v("empID"),children:["Employee ID ",f("empID")]}),Object(y.jsxs)("th",{style:{cursor:"pointer",background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},onClick:()=>v("Leavetype"),children:["Leave Type ",f("Leavetype")]}),Object(y.jsxs)("th",{style:{cursor:"pointer",background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},onClick:()=>v("FromDate"),children:["Start Date ",f("FromDate")]}),Object(y.jsxs)("th",{style:{cursor:"pointer",background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},onClick:()=>v("ToDate"),children:["End Date ",f("ToDate")]}),Object(y.jsxs)("th",{style:{cursor:"pointer",background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},onClick:()=>v("Status"),children:["Status ",f("Status")]}),Object(y.jsxs)("th",{style:{cursor:"pointer",background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},onClick:()=>v("Reasonforleave"),children:["Remarks ",f("Reasonforleave")]}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",textAlign:"center"},children:"Actions"})]})}),Object(y.jsx)("tbody",{children:p.filter((e=>"Pending"==e.Status)).map(((t,a)=>{var s,c,l,o;return Object(y.jsxs)("tr",{className:"fw-bold",children:[Object(y.jsx)("td",{className:"py-1",children:Object(y.jsxs)("div",{className:"d-flex aline-center gap-2",children:[Object(y.jsx)("div",{style:{height:"40px",width:"40px"},children:Object(y.jsx)("img",{style:{height:"100%",width:"100%",borderRadius:"50%",overflow:"hidden",objectFit:"cover"},src:null!==t&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&null!==(c=s.profile)&&void 0!==c&&c.image_url?null===t||void 0===t||null===(l=t.data)||void 0===l||null===(o=l.profile)||void 0===o?void 0:o.image_url:"https://a.storyblok.com/f/191576/1200x800/215e59568f/round_profil_picture_after_.webp",alt:""})}),Object(y.jsxs)("div",{className:"d-flex flex-column",children:[Object(y.jsx)("span",{style:{fontSize:"12px"},className:"fw-bold",children:t.empID}),Object(y.jsx)("span",{style:{fontSize:"15px"},className:"fw-bold text-capitalize text-primary",children:t.Name})]})]})}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"py-1 text-muted",children:t.Leavetype}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"py-1 text-muted",children:t.FromDate}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"py-1 text-muted",children:t.ToDate}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"py-1  ",children:Object(y.jsx)("span",{className:"bg-danger text-white px-2 py-1 rounded-5",children:t.Status})}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"py-1 text-muted",children:t.Reasonforleave}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"py-1 text-muted",children:Object(y.jsxs)("div",{className:"d-flex gap-3 py-2",style:{cursor:"pointer"},children:[Object(y.jsx)("p",{title:"Update",className:"m-auto text-primary",children:Object(y.jsx)(W.a,{className:"m-auto",icon:J.b,onClick:()=>e.onEditLeaveApplicationHR(t.data)})}),Object(y.jsx)("p",{title:"Delete",className:"m-auto text-danger",children:Object(y.jsx)(W.a,{className:"m-auto",icon:J.g,onClick:()=>{return e=t.data.employee[0]._id,a=t.data._id,void(window.confirm("Are you sure to delete this record? ")&&d.a.delete("".concat(R,"/api/leave-application-hr/")+e+"/"+a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{u()})).catch((e=>{console.log(e)})));var e,a}})})]})})]},a)}))})]})})]})};var bt=e=>{const[t,a]=Object(s.useState)(e.editData.FromDate.slice(0,10)),[c,l]=Object(s.useState)(e.editData.ToDate.slice(0,10)),[o,n]=Object(s.useState)(e.editData.Reasonforleave);return Object(y.jsxs)("div",{className:"registration-page py-4",children:[Object(y.jsxs)("h2",{id:"role-form-title",className:"text-center text-black text-uppercase fw-bold my-4",children:["Edit Leave Application Of ",e.editData.employee[0].FirstName," ",e.editData.employee[0].LastName]}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsx)(me.a,{id:"form",onSubmit:t=>{t.preventDefault(),e.onLeaveApplicationHREditUpdate(e.editData,t)},children:Object(y.jsx)("div",{className:"d-flex  flex-column gap-2 rounded ",children:Object(y.jsxs)("div",{style:{padding:"70px"},className:"row ",children:[Object(y.jsx)("div",{className:"form-group col-12 col-md-6",children:Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Leave Type"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",required:!0,children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),Object(y.jsx)("option",{value:"Sick Leave",selected:"Sick Leave"==e.editData.Leavetype,disabled:!0,children:"Sick Leave"}),Object(y.jsx)("option",{value:"Casual Leave",selected:"Casual Leave"==e.editData.Leavetype,disabled:!0,children:"Casual Leave"}),Object(y.jsx)("option",{value:"Privilege Leave",selected:"Privilege Leave"==e.editData.Leavetype,disabled:!0,children:"Privilege Leave"})]})})]})}),Object(y.jsx)("div",{className:"form-group col-12 col-md-6",children:Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"FromDate"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"date",required:!0,disabled:!0,value:t})})]})}),Object(y.jsx)("div",{className:"form-group col-12 col-md-6",children:Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"ToDate"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"date",required:!0,disabled:!0,value:c})})]})}),Object(y.jsx)("div",{className:"form-group col-12 col-md-6",children:Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Leave Status"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",required:!0,children:[Object(y.jsx)("option",{value:"Pending",selected:!0,disabled:!0,children:"Pending"}),Object(y.jsx)("option",{value:"2",selected:2==e.editData.Status,children:"Approve"}),Object(y.jsx)("option",{value:"3",selected:3==e.editData.Status,children:"Reject"})]})})]})}),Object(y.jsx)("div",{className:"form-group col-12",children:Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Reason for leave"}),Object(y.jsx)(be.a,{sm:11,className:"form-input",children:Object(y.jsx)(me.a.Control,{as:"textarea",rows:3,placeholder:"Reason for leave",required:!0,disabled:!0,value:o})})]})}),Object(y.jsxs)("div",{className:"form-group col-12 d-flex  gap-5",id:"form-submit-button",children:[Object(y.jsx)(re.a,{className:"mx-3",type:"submit",children:"Submit"}),Object(y.jsx)(re.a,{className:"mx-3",type:"reset",onClick:e.onFormClose,children:"cancel"})]}),Object(y.jsx)("div",{className:"form-group col-12 col-md-6",id:"form-cancel-button"})]})})})})]})};a(422);var pt,xt=e=>{const[t,a]=Object(s.useState)(!0),[l,o]=Object(s.useState)(!1),[n,r]=Object(s.useState)({});return Object(y.jsx)(c.a.Fragment,{children:t?l?Object(y.jsx)(bt,{onLeaveApplicationHREditUpdate:(e,t)=>{t.preventDefault(),console.log("zero data",t.target[0].value);let s={Status:t.target[3].value};console.log("update",s),d.a.put("".concat(R,"/api/leave-application-hr/")+e._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(!1),a(!0)})).catch((e=>{console.log(e)})),o(!1)},onFormEditClose:()=>{console.log("clicked5"),o(!1)},editData:n}):Object(y.jsx)(ht,{onAddLeaveApplicationHR:()=>{console.log("clicked1"),a(!1)},onEditLeaveApplicationHR:e=>{console.log(e),console.log("clicked6"),o(!0),r(e)},data:e.data}):Object(y.jsx)("div",{})})},ut=(a(423),a(241));const Ot=Object(V.a)(pt||(pt=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var gt=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,n]=Object(s.useState)([]),[r,i]=Object(s.useState)(""),[j,m]=Object(s.useState)(!1),[h,b]=Object(s.useState)(!0),[p,x]=Object(s.useState)([]),[u,O]=Object(s.useState)(""),[g,v]=Object(s.useState)(null),N=()=>{d.a.get("".concat(R,"/api/employee"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{Array.isArray(e.data)?(a(e.data),l(!1),n([]),e.data.forEach((e=>{let t={data:e,Email:e.Email,Password:e.Password,Account:1===e.Account?"Admin":2===e.Account?"HR":3===e.Account?"Employee":4===e.Account?"Manager":"",RoleName:e.role[0]?e.role[0].RoleName:"",FirstName:e.FirstName,MiddleName:e.MiddleName,LastName:e.LastName,DOB:e.DOB.slice(0,10),ContactNo:e.ContactNo,empID:e.empID,DepartmentName:e.department[0]?e.department[0].DepartmentName:"",PositionName:e.position[0]?e.position[0].PositionName:"",DateOfJoining:e.DateOfJoining.slice(0,10)};n((e=>[...e,t]))}))):console.error("Data received is not an array:",e.data)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{N()}),[]);Object(s.useEffect)((()=>{(()=>{const e=new Date,t=o.filter((t=>{const a=new Date(t.DOB);a.setFullYear(e.getFullYear());const s=a-e,c=Math.ceil(s/864e5);return c>=0&&c<=7}));x(t)})()}),[o]);let w=o.filter((e=>{const t=!j||e.empID.toLowerCase()===r.toLowerCase(),a=e.FirstName.toLowerCase().includes(r.toLowerCase());return t&&a}));w=w.sort(((e,t)=>{const a=e.empID.toLowerCase(),s=t.empID.toLowerCase();return h?a.localeCompare(s):s.localeCompare(a)}));w.filter((e=>""===e.Account)).length;const k=w.filter((e=>"Admin"===e.Account)).length,E=w.filter((e=>"HR"===e.Account)).length,L=w.filter((e=>"Manager"===e.Account)).length,I=w.filter((e=>"Employee"===e.Account)).length;return Object(y.jsxs)("div",{className:"py-0",children:[Object(y.jsx)("div",{style:{position:"sticky",top:"0",zIndex:"3",backgroundColor:"white"},className:"my-auto bg-light  py-2 shadow-sm mb-5",children:Object(y.jsxs)("div",{className:"row m-auto row-gap-2 px-2",children:[Object(y.jsx)("div",{className:"col-12 col-sm-12 col-md-3 d-flex",children:Object(y.jsxs)("h5",{className:"fw-bolder my-auto text-uppercase  d-flex text-muted gap-0",children:["Employees",Object(y.jsxs)("span",{className:"text-primary my-auto fs-6 mx-2",children:["(",o.length,")"]})]})}),Object(y.jsxs)("div",{className:"col-6 col-md-5 d-flex p-0 position-relative",children:[Object(y.jsx)("input",{style:{height:"100%",width:"100%",paddingLeft:"30px"},className:"form-control py-1 border border-muted border-2",type:"text",placeholder:"Search by name",value:r,onChange:e=>{i(e.target.value)}}),Object(y.jsx)(ct.b,{style:{position:"absolute",top:"30%",left:"8px",height:"17px",width:"17px"}})]}),Object(y.jsxs)("div",{className:"col-6 col-md-4 d-flex align-items-center justify-content-end gap-1",children:[Object(y.jsx)("button",{onClick:()=>{window.confirm("Are you sure to download Employee record? ");const e=new K.default({orientation:"landscape",unit:"mm",format:[297,210]});e.setFontSize(18),e.text("Employee Details",148.5,15,"center");const t=o.map((e=>[e.empID,e.Email,e.Account,e.FirstName,e.LastName,e.DOB,e.ContactNo,e.RoleName,e.PositionName,e.DepartmentName,e.DateOfJoining,""]));e.setFontSize(12),e.autoTable({head:[["Emp Id","Email","Account Access","First Name","Last Name","DOB","ContactNo","Role","Position","Department","D.O.J"]],body:t,startY:25}),e.save("employee_data.pdf ")},className:"btn py-1 bg-white shadow-sm fw-bold",children:Object(y.jsx)(f.e,{className:"fs-6 align-items-center text-danger"})}),Object(y.jsx)("div",{className:"bg-white",style:{position:"relative"},children:Object(y.jsxs)("span",{onMouseEnter:()=>v("name"),onMouseLeave:()=>v(null),className:"btn py-1 shadow-sm text-primary",children:[Object(y.jsx)(f.f,{}),Object(y.jsxs)("div",{style:{position:"absolute",zIndex:"1",right:"0",top:"95%",width:"130px",display:"name"===g?"flex":"none"},className:"bg-white fw-bold rounded-3 px-2 shadow flex-column",children:[Object(y.jsxs)("div",{onClick:()=>O(""),style:{cursor:"pointer"},className:"d-flex  flex-nowrap justify-content-between",children:["ALL ",Object(y.jsxs)("span",{children:["(",o.length,")"]})]}),Object(y.jsxs)("div",{onClick:()=>O("Admin"),style:{cursor:"pointer"},className:"d-flex flex-nowrap justify-content-between",children:["ADMIN ",Object(y.jsxs)("span",{children:["(",k,")"]})]}),Object(y.jsxs)("div",{onClick:()=>O("HR"),style:{cursor:"pointer"},className:"d-flex flex-nowrap justify-content-between",children:["HR ",Object(y.jsxs)("span",{children:["(",E,")"]})]}),Object(y.jsxs)("div",{onClick:()=>O("Manager"),style:{cursor:"pointer"},className:"d-flex flex-nowrap justify-content-between",children:["MANAGER ",Object(y.jsxs)("span",{children:["(",L,")"]})]}),Object(y.jsxs)("div",{onClick:()=>O("Employee"),style:{cursor:"pointer"},className:"d-flex flex-nowrap justify-content-between",children:["EMPLOYEE ",Object(y.jsxs)("span",{children:["(",I,")"]})]})]})]})}),Object(y.jsx)("button",{onClick:()=>{b(!h)},className:"btn py-1 bg-white shadow-sm fs-6 fw-bold",children:h?Object(y.jsx)(C.c,{}):Object(y.jsx)(C.b,{})}),Object(y.jsxs)("button",{className:"d-flex py-1 btn justify-center bg-success shadow-sm text-white fw-bold aline-center gap-2",onClick:e.onAddEmployee,children:["+ ",Object(y.jsx)("span",{className:"d-none d-lg-flex",children:"Add Employee"})]})]})]})}),Object(y.jsx)("div",{id:"clear-both"}),c?Object(y.jsx)("div",{id:"loading-bar",children:Object(y.jsx)(ne.a,{css:Ot,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(y.jsx)("div",{className:"row container-fluid mx-auto px-2 px-sm-5 justify-content-lg-around justify-content-start  row-gap-3 column-gap-0 ",children:w.filter((e=>!u||e.Account===u)).map(((t,a)=>{var s,c,l,o;return Object(y.jsxs)("div",{className:"col-12 col-sm-6 col-lg-3 position-relative",children:[Object(y.jsx)("p",{style:{width:"fit-content",position:"absolute",zIndex:"2",top:"-3px",letterSpacing:"5px",left:"50%",transform:"translate(-50%)"},className:"m-0 mx-auto rounded-5 fw-bold text-capitalize btn py-0 px-3 bg-white",children:t.empID}),Object(y.jsxs)("div",{className:" p-3 shadow rounded-4 d-flex flex-column gap-2",children:[Object(y.jsxs)("div",{className:"rounded-4  d-flex flex-column py-2 text-center jusctify-content-center",style:{backgroundColor:"rgba(0, 0, 92, .1)",boxShadow:"0 0 20px 1px #F1EAFF inset",position:"relative"},children:[Object(y.jsx)("button",{style:{position:"absolute",top:"5%",right:"5% "},onClick:()=>e.onEmpInfo(t.data),className:" btn p-0 text-primary cursor-pointer",to:"",title:"Info",children:Object(y.jsx)(f.g,{className:"fs-6"})})," ",Object(y.jsx)("button",{style:{position:"absolute",top:"5%",left:"5% ",fontSize:".8px"},onClick:()=>e.onEditEmployee(t.data),className:" btn p-0 text-primary cursor-pointer",to:"",title:"Edit Profile",children:Object(y.jsx)(S.b,{className:"fs-5"})}),Object(y.jsx)("div",{style:{height:"80px",width:"80px",overflow:"hidden",borderRadius:"50%",border:"3px solid #4477CE"},className:"profile-image mt-1 bg-white  mx-auto",children:Object(y.jsx)("img",{style:{height:"100%",width:"100%",overflow:"hidden",borderRadius:"50%",objectFit:"cover",padding:".2rem"},className:"",src:null!==t&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&null!==(c=s.profile)&&void 0!==c&&c.image_url?null===t||void 0===t||null===(l=t.data)||void 0===l||null===(o=l.profile)||void 0===o?void 0:o.image_url:"https://a.storyblok.com/f/191576/1200x800/215e59568f/round_profil_picture_after_.webp",alt:""})}),Object(y.jsxs)("div",{style:{position:"relative"},children:[Object(y.jsxs)("p",{className:"m-0 text-capitalize fw-bold fs-5",children:[t.FirstName," ",t.LastName]}),Object(y.jsx)("p",{className:"m-0 text-capitalize fw-bold",children:t.PositionName}),Object(y.jsx)("p",{style:{width:"fit-content "},className:"btn btn-outline-success my-1 mx-auto p-0 px-2 fw-bold rounded-5",children:t.Account})]})]}),Object(y.jsxs)("a",{target:"_blank",href:"mailto:".concat(t.Email),style:{color:"#00005C",textDecoration:"none",cursor:"pointer"},className:"m-0",children:[Object(y.jsx)(D.i,{})," ",t.Email]}),Object(y.jsxs)("a",{target:"_blank",href:"tel:".concat(t.ContactNo),style:{color:"#00005C",textDecoration:"none",cursor:"pointer"},className:"m-0",children:[Object(y.jsx)(ut.a,{})," ",t.ContactNo]})]})]})}))})]})};class ft extends s.Component{render(){return Object(y.jsx)("div",{style:{height:"100%",width:"100%",backgroundColor:"white",marginTop:"200px",textAlign:"center"},children:Object(y.jsx)("h1",{children:"404 | Not Found"})})}}var yt=ft,vt=a(513);var Nt=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!1),[l,o]=Object(s.useState)(null),{socket:n}=Object(s.useContext)(te),r=localStorage.getItem("Email"),i=Object(vt.a)(),[j,m]=Object(s.useState)({Taskname:"",description:"",startDate:"",endDate:"",attachments:null,managerEmail:"",department:"",comment:""});Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"));console.log(e.data)}catch(e){console.error("Error fetching tasks:",e)}})()}),[]);return Object(s.useEffect)((()=>{d.a.get("".concat(R,"/api/department"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{t(e.data)})).catch((e=>{console.log(e)}))}),[]),Object(y.jsx)("div",{style:{zIndex:"1"},className:"p-4 d-flex flex-column ",children:Object(y.jsxs)("form",{className:"row p-0 p-md-3 m-auto",children:[Object(y.jsx)("h2",{className:"fw-bold text-muted ",children:" \ud83d\udd8b\ufe0fCreate New Task"}),Object(y.jsx)("p",{className:"text-muted",children:"You can Create New task and Assign to the manager for the process."}),Object(y.jsx)("div",{className:"col-12 mt-5 d-flex flex-column",children:Object(y.jsxs)(me.a.Group,{controlId:"Taskname",children:[Object(y.jsx)(me.a.Label,{className:"fw-bold",children:"Task Name"}),Object(y.jsx)("input",{className:"form-control",type:"text",required:!0,placeholder:"Enter task name",value:j.Taskname,onChange:e=>m({...j,Taskname:e.target.value})})]})}),Object(y.jsx)("div",{className:"col-12 mt-2 d-flex flex-column",children:Object(y.jsxs)(me.a.Group,{controlId:"description",children:[Object(y.jsx)(me.a.Label,{className:"fw-bold",children:"Task Description"}),Object(y.jsx)("textarea",{className:"form-control",required:!0,placeholder:"Enter task description",value:j.description,onChange:e=>m({...j,description:e.target.value})})]})}),Object(y.jsx)("div",{className:"col-12 col-md-6 mt-3 d-flex flex-column",children:Object(y.jsxs)(me.a.Group,{controlId:"startDate",children:[Object(y.jsx)(me.a.Label,{className:"fw-bold",children:"Start Date"}),Object(y.jsx)("input",{className:"form-control",type:"date",required:!0,value:j.startDate,onChange:e=>{m({...j,startDate:e.target.value}),c(!1)}})]})}),Object(y.jsx)("div",{className:"col-12 col-md-6 mt-3 d-flex flex-column",children:Object(y.jsxs)(me.a.Group,{controlId:"endDate",children:[Object(y.jsx)(me.a.Label,{className:"fw-bold",children:"End Date"}),Object(y.jsx)("input",{className:"form-control",type:"date",required:!0,value:j.endDate,onChange:e=>{const t=e.target.value;t<j.startDate?c(!0):(c(!1),m({...j,endDate:t}))}})]})}),Object(y.jsx)("div",{className:"col-12 col-md-3 mt-3 d-flex flex-column",children:Object(y.jsxs)(me.a.Group,{className:"fw-bold",controlId:"department",children:[Object(y.jsx)(me.a.Label,{children:"Department"}),Object(y.jsxs)(me.a.Control,{as:"select",name:"department",required:!0,value:j.department,onChange:e=>m({...j,department:e.target.value}),onBlur:()=>{""!==j.department&&d.a.get("".concat(R,"/api/employee"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{let t=e.data.filter((e=>4===e.Account&&e.department[0].DepartmentName===j.department));o(t)})).catch(console.log("hello"))},children:[Object(y.jsx)("option",{value:"",children:"Select your option"}),e.map(((e,t)=>Object(y.jsx)("option",{value:e.DepartmentName,children:e.DepartmentName},t)))]})]})}),Object(y.jsx)("div",{className:"col-12 col-md-9 mt-3 d-flex flex-column",children:Object(y.jsxs)(me.a.Group,{className:"fw-bold",controlId:"department",children:[Object(y.jsx)(me.a.Label,{children:"managerEmail"}),Object(y.jsxs)(me.a.Control,{as:"select",name:"department",required:!0,value:j.managerEmail,onChange:e=>m({...j,managerEmail:e.target.value}),children:[Object(y.jsx)("option",{value:"",children:"Select your option"}),l&&l.map(((e,t)=>Object(y.jsx)("option",{value:e.Email,children:e.Email},t)))]})]})}),Object(y.jsx)("div",{children:Object(y.jsxs)(me.a.Group,{controlId:"Attachments",children:[Object(y.jsx)(me.a.Label,{className:"fw-bold mt-3",children:"Attachments"}),Object(y.jsx)("input",{className:"form-control",type:"file",multiple:!0,required:!0,onChange:e=>m({...j,attachments:e.target.files[0]})})]})}),Object(y.jsx)(re.a,{className:"mt-4 w-100 fw-bold text-white",variant:"info",onClick:async()=>{let e=new FormData;e.append("Taskname",j.Taskname),e.append("description",j.description),e.append("startDate",j.startDate),e.append("endDate",j.endDate),e.append("file",j.attachments),e.append("managerEmail",j.managerEmail),e.append("department",j.department),e.append("comment",j.comment),e.append("adminMail",r);localStorage.getItem("_id");d.a.post("".concat(R,"/api/tasks"),e).then((e=>{console.log(e);const t={taskId:i,taskName:j.Taskname,senderMail:r,managerEmail:j.managerEmail,Account:4,message:"New task assigned by ".concat(r),status:"unseen",path:"newTask"};n.emit("managerTaskNotification",t)})).catch((e=>{console.log(e)}))},disabled:!(""!==j.Taskname.trim()&&""!==j.description.trim()&&""!==j.startDate.trim()&&""!==j.endDate.trim()&&""!==j.managerEmail.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j.managerEmail)&&""!==j.department.trim()),children:"Add Task"})]})})},wt=a(31);var Dt=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!0),[l,o]=Object(s.useState)(null),[n,r]=Object(s.useState)(!1),[i,j]=Object(s.useState)(!1),[m,h]=Object(s.useState)(null),[b,p]=Object(s.useState)({id:"",Taskname:"",description:"",startDate:"",endDate:"",managerEmail:"",duration:0}),x=e=>{const t=new Date;let a=new Date(e)-t;if(a<0)return a=Math.abs(a),{delay:!0,days:0,hours:0,minutes:0};return{delay:!1,days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.floor(a%36e5/6e4)}};Object(s.useEffect)((()=>{u()}),[]);const u=async()=>{const e=await d.a.get("".concat(R,"/api/getTask"));console.log(e.data.data),h(e.data.data)},O=async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"));t(e.data)}catch(l){console.error("Error fetching tasks:",l.message),o("Error fetching tasks. Please try again later.")}finally{c(!1)}};Object(s.useEffect)((()=>(O(),()=>clearTimeout())),[]);const g=()=>{j(!1)},f=e.filter((e=>"Assigned"===e.status)).length;return Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsxs)("h1",{className:"fs-2 text-muted fw-bolder text-uppercase",children:["\ud83d\udfe2 Active Task Status (",f,")"]}),Object(y.jsx)("p",{className:"text-muted mb-2",children:"You can view all accepted task by manager here!"})," ",Object(y.jsx)("div",{style:{overflowY:"scroll",height:"80vh",scrollbarWidth:"thin",scrollbarGutter:"stable",scrollMargin:"1rem"},children:e.filter((e=>"Pending"===e.status||"Assigned"===e.status)).map(((t,a)=>Object(y.jsxs)("details",{style:{boxShadow:"-1px 1px 10px gray"},className:"p-1 position-relative mt-3 fs-4 rounded mx-3",children:[Object(y.jsxs)("summary",{style:{color:"black",height:"fit-content",background:"linear-gradient(#1D267D, #2F58CD)"},className:"d-flex text-white justify-content-between aline-center form-control",children:[Object(y.jsxs)("div",{className:"fw-bold fs-5 d-flex justify-content-center flex-column",children:["# Task ",a+1," : ",t.Taskname]}),Object(y.jsx)("div",{style:{position:"absolute",top:"-10px",left:"20px"},className:"fw-bold bg-white rounded-5 px-3 text-primary fs-6 d-flex justify-content-center aline-center flex-column",children:t.department}),Object(y.jsxs)("div",{className:"d-flex gap-2 RemainingTimeHandel justify-content-between ",children:[x(t.endDate).delay?Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control  fw-bold p-0",children:[x(t.endDate).days," "]})," ",Object(y.jsx)("div",{children:"Day"})]}),Object(y.jsx)("h5",{className:"btn btn-danger p-1 px-3 fw-bold",children:"Late"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[x(t.endDate).days," "]})," ",Object(y.jsx)("div",{children:"Day"})]}),x(t.endDate).delay?Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control  fw-bold p-0",children:[x(t.endDate).hours," "]})," ",Object(y.jsx)("div",{children:"Min"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset",color:"black"},className:"form-control fw-bold px-1 py-0",children:[x(t.endDate).hours," "]})," ",Object(y.jsx)("div",{children:"Hrs"})]}),x(t.endDate).delay?Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control fw-bold p-0",children:[x(t.endDate).minutes," "]})," ",Object(y.jsx)("div",{children:"Min"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[x(t.endDate).minutes," "]})," ",Object(y.jsx)("div",{children:"Min"})]})]})]}),Object(y.jsx)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:Object(y.jsxs)("div",{style:{height:"fit-content"},className:"form-control",children:[Object(y.jsxs)("p",{style:{height:"fit-content"},className:"text-start fs-6 form-control",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Task Discription"})," ",t.description]}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Task Durations ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[t.duration," days"]})," "]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Manager's Email ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:t.managerEmail})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Start Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(t.startDate).toLocaleDateString()})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["End Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(t.endDate).toLocaleDateString()})]}),Object(y.jsx)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:Object(y.jsxs)("span",{children:["Task Status ",Object(y.jsx)("br",{})," ",t.status]})})]}),Object(y.jsx)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{className:"fw-bold",children:"Remarks : "})," ",t.comment]})}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("button",{className:"btn btn-danger col-2 d-flex justify-center aline-center gap-2",onClick:()=>(async e=>{try{r(!0);const t=prompt("Enter remarks for task cancellation:");if(null===t)return void r(!1);await d.a.put("".concat(R,"/api/tasks/").concat(e),{status:"Cancelled",comment:t}),O()}catch(l){console.error("Error canceling task:",l.message)}finally{r(!1)}})(t._id),children:[Object(y.jsx)(D.a,{}),"Cancel Task"]}),Object(y.jsxs)("button",{className:"btn btn-primary col-2 d-flex justify-center aline-center gap-2",onClick:()=>(t=>{const a=e.find((e=>e._id===t));a&&(p({id:a._id,Taskname:a.Taskname,description:a.description,startDate:a.startDate,endDate:a.endDate,managerEmail:a.managerEmail,duration:a.duration}),j(!0)),console.log()})(t._id),children:[Object(y.jsx)(D.e,{}),"Update Task"]}),m&&m.length>0&&Object(y.jsxs)("button",{className:"btn btn-warning col-2 d-flex justify-center aline-center gap-2",onClick:()=>(e=>{let t=m&&m.filter((t=>t._id===e));console.log(t[0].pdf),window.open("".concat(R,"/").concat(t[0].pdf),"_blank","noreferrer")})(t._id),children:[Object(y.jsx)(N.b,{})," View Docs"]}),Object(y.jsxs)("button",{className:"btn btn-success col-2 d-flex justify-center aline-center gap-2",onClick:()=>(async e=>{try{const t=prompt("Enter remarks for task cancellation:");await d.a.put("".concat(R,"/api/tasks/").concat(e),{status:"Completed",comment:t}),O()}catch(l){console.error("Error completing task:",l.message)}})(t._id),children:[Object(y.jsx)(w.b,{}),"Complete Task"]})]})]})})]},t.DepartmentName)))}),Object(y.jsxs)(wt.a,{show:i,fullscreen:!1,onHide:g,children:[Object(y.jsx)(wt.a.Header,{closeButton:!0,children:Object(y.jsx)(wt.a.Title,{className:"fw-bold text-uppercase",children:"Update Task"})}),Object(y.jsx)(wt.a.Body,{children:Object(y.jsxs)(me.a,{className:"d-flex flex-column gap-3",children:[Object(y.jsxs)(me.a.Group,{controlId:"formTaskName",children:[Object(y.jsx)(me.a.Label,{children:"Task Name"}),Object(y.jsx)(me.a.Control,{type:"text",value:b.Taskname,onChange:e=>p({...b,Taskname:e.target.value})})]}),Object(y.jsxs)(me.a.Group,{controlId:"formDescription",children:[Object(y.jsx)(me.a.Label,{children:"Description"}),Object(y.jsx)(me.a.Control,{as:"textarea",value:b.description,onChange:e=>p({...b,description:e.target.value})})]}),Object(y.jsxs)("div",{className:"row",children:[Object(y.jsxs)(me.a.Group,{className:"col-12 col-md-6",controlId:"startDate",children:[Object(y.jsx)(me.a.Label,{children:"Start Date "}),Object(y.jsx)(me.a.Control,{type:"date",value:b.startDate,onChange:e=>p({...b,startDate:e.target.value})})]}),Object(y.jsxs)(me.a.Group,{className:"col-12 col-md-6",controlId:"endDate",children:[Object(y.jsx)(me.a.Label,{children:"End Date"}),Object(y.jsx)(me.a.Control,{type:"date",value:b.endDate,onChange:e=>p({...b,endDate:e.target.value})})]})]}),Object(y.jsx)(re.a,{variant:"primary",onClick:async()=>{try{await d.a.put("".concat(R,"/api/tasks/").concat(b.id),{Taskname:b.Taskname,description:b.description,startDate:b.startDate,endDate:b.endDate,managerEmail:b.managerEmail,duration:b.duration}),g(),O()}catch(l){console.error("Error updating task:",l.message)}},children:"Update"})]})})]})]})};var St=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!0),[l,o]=Object(s.useState)(null);Object(s.useEffect)((()=>{(async()=>{await(async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"),{params:{status:"Cancelled"}});t(e.data)}catch(l){console.error("Error fetching cancelled tasks:",l.message),o("Error fetching cancelled tasks. Please try again later.")}finally{c(!1)}})()})()}),[]);const n=e.filter((e=>"Cancelled"===e.status)).length;return Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsxs)("h1",{className:"fs-2 text-muted fw-bolder text-uppercase",children:["\u274c Cancelled Task (",n,")"]}),Object(y.jsx)("p",{className:"text-muted",children:"You can view all Cancelled task here!"})," ",a&&Object(y.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(y.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(y.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),Object(y.jsx)("div",{style:{overflowY:"scroll",height:"80vh",scrollbarWidth:"thin",scrollbarGutter:"stable",scrollMargin:"1rem"},children:e.filter((e=>"Cancelled"===e.status)).map(((e,t)=>Object(y.jsxs)("details",{style:{boxShadow:"-1px 1px 10px gray"},className:"p-1 position-relative mt-3 fs-4 rounded mx-3",children:[Object(y.jsxs)("summary",{style:{height:"fit-content",background:"linear-gradient(#1D267D, #2F58CD)"},className:"d-flex justify-content-between aline-center form-control text-white",children:[Object(y.jsxs)("div",{className:"fw-bold fs-5 d-flex justify-content-center flex-column",children:["# Task ",t+1," : ",e.Taskname]}),Object(y.jsx)("div",{style:{position:"absolute",top:"-10px",left:"20px"},className:"fw-bold bg-white rounded-5 px-3 text-danger fs-6 d-flex justify-content-center aline-center flex-column",children:e.department}),Object(y.jsx)("div",{className:"",children:Object(y.jsx)("p",{className:"btn btn-danger m-auto fw-bold",children:"Cancelled"})})]}),Object(y.jsxs)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:[Object(y.jsx)("div",{style:{width:"99.4%",height:"100%",zIndex:"5",backgroundColor:"rgba(128, 128, 128, 0.422)",textShadow:"-5px 5px 5px rgba(128, 128, 128, 0.422)"},className:"watermark form-control position-absolute d-flex justify-content-center aline-center",children:Object(y.jsx)("h1",{className:"text-uppercase text-light fw-bolder",children:"c a n c e l l e d"})}),Object(y.jsx)("div",{style:{height:"fit-content"},className:"form-control",children:Object(y.jsxs)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:[Object(y.jsx)("div",{style:{width:"99.4%",height:"100%",zIndex:"5",backgroundColor:"rgba(128, 128, 128, 0.422)",textShadow:"-5px 5px 5px rgba(128, 128, 128, 0.422)"},className:"watermark form-control   position-absolute d-flex justify-content-center aline-center",children:Object(y.jsx)("h1",{className:"text-uppercase text-light fw-bolder",children:"c a n c e l l e d"})}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"form-control",children:[Object(y.jsxs)("p",{style:{height:"fit-content"},className:"text-start fs-6 form-control",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Task Discription"})," ",e.description]}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Task Durations ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[e.duration," days"]})," "]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Manager's Email ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:e.managerEmail})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Start Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.startDate).toLocaleDateString()})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["End Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.endDate).toLocaleDateString()})]}),Object(y.jsx)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:Object(y.jsxs)("span",{children:["Task Status ",Object(y.jsx)("br",{})," ",e.status]})})]}),Object(y.jsx)("div",{className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{className:"fw-bold",children:"Remarks : "})," ",e.comment]})})]})]})})]})]},e.id)))})]})};var kt=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!0),[l,o]=Object(s.useState)(null);return Object(s.useEffect)((()=>((async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"),{params:{status:"Completed"}});t(e.data)}catch(l){console.error("Error fetching completed tasks:",l.message),o("Error fetching completed tasks. Please try again later.")}finally{c(!1)}})(),()=>clearTimeout()))),Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsx)("h1",{className:"fs-2 text-muted fw-bolder text-uppercase",children:"\u2705 Completed Tasks"}),Object(y.jsx)("p",{className:"text-muted",children:"You can view all Completed task here!"})," ",a&&Object(y.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(y.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(y.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),Object(y.jsx)("div",{style:{overflowY:"scroll",height:"80vh",scrollbarWidth:"thin",scrollbarGutter:"stable",scrollMargin:"1rem"},className:"d-flex flex-column gap-3",children:e.filter((e=>"Completed"===e.status)).map(((e,t)=>Object(y.jsxs)("details",{style:{boxShadow:"-1px 1px 10px gray"},className:"p-1 position-relative mt-3 fs-4 rounded mx-3",children:[Object(y.jsxs)("summary",{style:{height:"fit-content",background:"linear-gradient(#1D267D, #2F58CD)"},className:"d-flex justify-content-between aline-center form-control text-white",children:[Object(y.jsxs)("div",{className:"fw-bold fs-5 d-flex justify-content-center flex-column",children:["# Task ",t+1," : ",e.Taskname]}),Object(y.jsx)("div",{style:{position:"absolute",top:"-10px",left:"20px"},className:"fw-bold bg-white rounded-5 px-3 text-success fs-6 d-flex justify-content-center aline-center flex-column",children:e.department}),Object(y.jsx)("div",{className:"",children:Object(y.jsx)("p",{className:"btn btn-success m-auto  fw-bold",children:"Completed"})})]}),Object(y.jsxs)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:[Object(y.jsx)("div",{style:{width:"99.4%",height:"100%",zIndex:"5",backgroundColor:"rgba(0, 128, 0, 0.384)",textShadow:"-5px 5px 5px rgba(128, 128, 128, 0.422)"},className:"watermark form-control   position-absolute d-flex justify-content-center aline-center",children:Object(y.jsx)("h1",{className:"text-uppercase text-light fw-bolder",children:"C O M P L E T E D"})}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"form-control",children:[Object(y.jsxs)("p",{style:{height:"fit-content"},className:"text-start fs-6 form-control",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Task Discription"})," ",e.description]}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Task Durations ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[e.duration," days"]})," "]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Manager's Email ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:e.managerEmail})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Start Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.startDate).toLocaleDateString()})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["End Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.endDate).toLocaleDateString()})]}),Object(y.jsx)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:Object(y.jsxs)("span",{children:["Task Status ",Object(y.jsx)("br",{})," ",e.status]})})]}),Object(y.jsx)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{className:"fw-bold",children:"Remarks : "})," ",e.comment]})})]})]})]},e.id)))})]})};var Ct=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!0),[l,o]=Object(s.useState)(null);return Object(s.useEffect)((()=>((async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"),{params:{status:"Completed"}});t(e.data)}catch(l){console.error("Error fetching completed tasks:",l.message),o("Error fetching completed tasks. Please try again later.")}finally{c(!1)}})(),()=>clearTimeout())),[]),Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsx)("h1",{className:"fs-2 text-muted fw-bolder text-uppercase",children:"\u274c Rejected Tasks"}),Object(y.jsx)("p",{className:"text-muted",children:"You can view all rejected task here!"})," ",a&&Object(y.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(y.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(y.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),Object(y.jsx)("div",{style:{overflowY:"scroll",height:"80vh",scrollbarWidth:"thin",scrollbarGutter:"stable",scrollMargin:"1rem"},className:"d-flex flex-column gap-3",children:e.filter((e=>"Rejected"===e.status)).map(((e,t)=>Object(y.jsxs)("details",{style:{boxShadow:"-1px 1px 10px gray"},className:"p-1 position-relative mt-3 fs-4 rounded mx-3",children:[Object(y.jsxs)("summary",{style:{height:"fit-content",background:"linear-gradient(#1D267D, #2F58CD)"},className:"d-flex justify-content-between aline-center form-control text-white",children:[Object(y.jsxs)("div",{className:"fw-bold fs-5 d-flex justify-content-center flex-column",children:["# Task ",t+1," : ",e.Taskname]}),Object(y.jsx)("div",{style:{position:"absolute",top:"-10px",left:"20px"},className:"fw-bold bg-white rounded-5 px-3 text-success fs-6 d-flex justify-content-center aline-center flex-column",children:e.department}),Object(y.jsx)("div",{children:Object(y.jsx)("p",{className:"btn btn-light m-auto py-1 px-3 fw-bold",children:"Rejected"})})]}),Object(y.jsxs)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:[Object(y.jsx)("div",{style:{width:"99.4%",height:"100%",zIndex:"5",backgroundColor:"rgba(5, 128, 8, 0.384)",textShadow:"-5px 5px 5px rgba(128, 128, 128, 0.422)"},className:"watermark form-control   position-absolute d-flex justify-content-center aline-center",children:Object(y.jsx)("h1",{className:"text-uppercase text-light fw-bolder",children:"R E J E C T E D"})}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"form-control",children:[Object(y.jsxs)("p",{style:{height:"fit-content"},className:"text-start fs-6 form-control",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Task Discription"})," ",e.description]}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Task Durations ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[e.duration," days"]})," "]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Manager's Email ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:e.managerEmail})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Start Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.startDate).toLocaleDateString()})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["End Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.endDate).toLocaleDateString()})]}),Object(y.jsx)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:Object(y.jsxs)("span",{children:["Task Status ",Object(y.jsx)("br",{})," ",e.status]})})]}),Object(y.jsx)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{className:"fw-bold",children:"Remarks : "})," ",e.comment]})})]})]})]},e.id)))})]})};var Et=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!0),[l,o]=Object(s.useState)(null),[n,r]=Object(s.useState)(!1),[i,j]=Object(s.useState)(!1),[m,h]=Object(s.useState)(!1),[b,p]=Object(s.useState)(null),[u,O]=Object(s.useState)({id:"",Taskname:"",description:"",startDate:"",endDate:"",managerEmail:"",duration:0}),[g,f]=Object(s.useState)(0),v=e=>{const t=new Date;let a=new Date(e)-t;if(a<0)return a=Math.abs(a),{delay:!0,days:0,hours:0,minutes:0};return{delay:!1,days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.floor(a%36e5/6e4)}};Object(s.useEffect)((()=>{w()}),[]);const w=async()=>{const e=await d.a.get("".concat(R,"/api/getTask"));console.log(e.data.data),p(e.data.data)},S=async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"));t(e.data);const a=e.data.filter((e=>"Assigned"===e.status)).length;f(a)}catch(l){console.error("Error fetching tasks:",l.message),o("Error fetching tasks. Please try again later.")}finally{c(!1)}};Object(s.useEffect)((()=>(S(),()=>clearTimeout())),[]);const k=()=>{h(!1)};return Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsxs)("h1",{className:"fs-2 text-muted fw-bolder text-uppercase",children:["\ud83d\udfe1 Task Status (",g,")"]}),Object(y.jsx)("p",{className:"text-muted",children:"You can view all Task Status here!"})," ",a&&Object(y.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(y.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(y.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),Object(y.jsx)("div",{style:{overflowY:"scroll",height:"80vh",scrollbarWidth:"thin",scrollbarGutter:"stable",scrollMargin:"1rem"},children:e.filter((e=>"Assigned"===e.status)).map(((t,a)=>Object(y.jsxs)("details",{style:{boxShadow:"-1px 1px 10px gray"},className:"p-1 position-relative mt-3 fs-4 rounded mx-3",children:[Object(y.jsxs)("summary",{style:{height:"fit-content",background:"linear-gradient(#1D267D, #2F58CD)"},className:"d-flex justify-content-between aline-center form-control  text-white",children:[Object(y.jsxs)("div",{className:"fw-bold fs-5 d-flex justify-content-center flex-column",children:["# Task ",a+1," : ",t.Taskname]}),Object(y.jsx)("div",{style:{position:"absolute",top:"-10px",left:"20px"},className:"fw-bold bg-white rounded-5 px-3 text-primary fs-6 d-flex justify-content-center aline-center flex-column",children:t.department}),Object(y.jsxs)("div",{className:"d-flex gap-2 RemainingTimeHandel justify-content-between ",children:[v(t.endDate).delay?Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control  fw-bold p-0",children:[v(t.endDate).days," "]})," ",Object(y.jsx)("div",{children:"Day"})]}),Object(y.jsx)("h5",{className:"btn btn-danger p-1 px-3 fw-bold",children:"Late"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[v(t.endDate).days," "]})," ",Object(y.jsx)("div",{children:"Day"})]}),v(t.endDate).delay?Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control  fw-bold p-0",children:[v(t.endDate).hours," "]})," ",Object(y.jsx)("div",{children:"Min"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[v(t.endDate).hours," "]})," ",Object(y.jsx)("div",{children:"Hrs"})]}),v(t.endDate).delay?Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control fw-bold p-0",children:[v(t.endDate).minutes," "]})," ",Object(y.jsx)("div",{children:"Min"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[v(t.endDate).minutes," "]})," ",Object(y.jsx)("div",{children:"Min"})]})]})]}),Object(y.jsx)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:Object(y.jsxs)("div",{style:{height:"fit-content"},className:"form-control",children:[Object(y.jsxs)("p",{style:{height:"fit-content"},className:"text-start fs-6 form-control",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Task Discription"})," ",t.description]}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Task Durations ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[t.duration," days"]})," "]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Manager's Email ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:t.managerEmail})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Start Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(t.startDate).toLocaleDateString()})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["End Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(t.endDate).toLocaleDateString()})]}),Object(y.jsx)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:Object(y.jsxs)("span",{children:["Task Status ",Object(y.jsx)("br",{})," ",t.status]})})]}),Object(y.jsx)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{className:"fw-bold",children:"Remarks : "})," ",t.comment]})}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("button",{className:"btn btn-danger col-2 d-flex justify-center aline-center gap-2",onClick:()=>(async e=>{try{r(!0);const t=prompt("Enter remarks for task cancellation:");if(null===t)return void r(!1);await d.a.put("".concat(R,"/api/tasks/").concat(e),{status:"Cancelled",comment:t}),x.a.success("Task canceled successfully!"),S()}catch(l){console.error("Error canceling task:",l.message),x.a.error("Failed to cancel task. Please try again.")}finally{r(!1)}})(t._id),children:[Object(y.jsx)(D.a,{}),"Cancel Task"]}),b&&b.length>0&&Object(y.jsxs)("button",{className:"btn btn-primary col-2 d-flex justify-center aline-center gap-2",onClick:()=>(e=>{let t=b&&b.filter((t=>t._id===e));console.log(t[0].pdf),window.open("".concat(R,"/").concat(t[0].pdf),"_blank","noreferrer")})(t._id),children:[Object(y.jsx)(N.b,{}),"View Docs"]}),Object(y.jsxs)("button",{className:"btn btn-primary col-2 d-flex justify-center aline-center gap-2",onClick:()=>(t=>{const a=e.find((e=>e._id===t));a&&(O({id:a._id,Taskname:a.Taskname,description:a.description,startDate:a.startDate,endDate:a.endDate,managerEmail:a.managerEmail,duration:a.duration}),h(!0)),console.log()})(t._id),children:[Object(y.jsx)(D.e,{}),"Update Task"]})]})]})})]},t.id)))}),Object(y.jsxs)(wt.a,{show:m,fullscreen:!1,onHide:k,children:[Object(y.jsx)(wt.a.Header,{closeButton:!0,children:Object(y.jsx)(wt.a.Title,{className:"fw-bold text-uppercase",children:"Update Task"})}),Object(y.jsx)(wt.a.Body,{children:Object(y.jsxs)(me.a,{className:"d-flex flex-column gap-3",children:[Object(y.jsxs)(me.a.Group,{controlId:"formTaskName",children:[Object(y.jsx)(me.a.Label,{children:"Task Name"}),Object(y.jsx)(me.a.Control,{type:"text",value:u.Taskname,onChange:e=>O({...u,Taskname:e.target.value})})]}),Object(y.jsxs)(me.a.Group,{controlId:"formDescription",children:[Object(y.jsx)(me.a.Label,{children:"Description"}),Object(y.jsx)(me.a.Control,{as:"textarea",value:u.description,onChange:e=>O({...u,description:e.target.value})})]}),Object(y.jsxs)("div",{className:"row",children:[Object(y.jsxs)(me.a.Group,{className:"col-12 col-md-6",controlId:"startDate",children:[Object(y.jsx)(me.a.Label,{children:"Start Date "}),Object(y.jsx)(me.a.Control,{type:"date",value:u.startDate,onChange:e=>O({...u,startDate:e.target.value})})]}),Object(y.jsxs)(me.a.Group,{className:"col-12 col-md-6",controlId:"endDate",children:[Object(y.jsx)(me.a.Label,{children:"End Date"}),Object(y.jsx)(me.a.Control,{type:"date",value:u.endDate,onChange:e=>O({...u,endDate:e.target.value})})]})]}),Object(y.jsx)(re.a,{variant:"primary",onClick:async()=>{try{await d.a.put("".concat(R,"/api/tasks/").concat(u.id),{Taskname:u.Taskname,description:u.description,startDate:u.startDate,endDate:u.endDate,managerEmail:u.managerEmail,duration:u.duration}),x.a.success("Task updated successfully!"),k(),S()}catch(l){console.error("Error updating task:",l.message),x.a.error("Failed to update task. Please try again.")}},children:"Update"})]})})]})]})};const Lt=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(null),[l,o]=Object(s.useState)((new Date).getFullYear()),[n,r]=Object(s.useState)((new Date).getMonth()+1),[i,j]=Object(s.useState)(!1),[m,h]=Object(s.useState)(null),[b,p]=Object(s.useState)(!1),x=localStorage.getItem("Email"),u=localStorage.getItem("_id"),O=()=>{p(!0)},g=()=>{p(!1)};Object(s.useEffect)((()=>{(async()=>{try{let e=(await d.a.get("".concat(R,"/api/attendance/").concat(u),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")||"")}})).data.filter((e=>e.employeeObjID&&e.employeeObjID.Email===x));c((()=>e.length>0?e[0]:null))}catch(e){console.error("Error fetching attendance data:",e)}})()}),[u,x]);const f=e=>{switch(e){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return""}},v=()=>{if(a&&a.years){const e=(new Date).getFullYear();return a.years.filter((t=>t.year<=e))}return[]},N=e=>{const t=Math.floor(e),a=Math.floor(e/1e3),s=Math.floor(a/60),c=Math.floor(s/60),l=String(c).padStart(2,"0"),o=String(s%60).padStart(2,"0"),n=String(a%60).padStart(2,"0"),r=String(t%60).padStart(2,"0");return"".concat(l,":").concat(o,":").concat(n,":").concat(r)},D=e=>{const t=e&&e.loginTime[0];if(t){const[e,a]=t.split(":").map(Number);if(e>9||9===e&&a>45)return"H";if(e>9||9===e&&a>30)return"L"}return t?"P":"A"};return Object(y.jsxs)("div",{className:"d-flex flex-column p-5 gap-3",children:[Object(y.jsx)("div",{className:"d-flex gap-3 justify-content-between"}),a&&Object(y.jsxs)("div",{className:"d-flex gap-3",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"year",children:"Select a year:"}),Object(y.jsx)("select",{className:"form-select shadow",id:"year",value:l,onChange:e=>o(parseInt(e.target.value)),children:v().map((e=>Object(y.jsx)("option",{value:e.year,children:e.year},e.year)))})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"month",children:"Select a month:"}),Object(y.jsx)("select",{className:"form-select shadow",id:"month",value:n,onChange:e=>r(parseInt(e.target.value)),children:(S=l,S===(new Date).getFullYear()?Array.from({length:(new Date).getMonth()+1},((e,t)=>t+1)):Array.from({length:12},((e,t)=>t+1))).map((e=>Object(y.jsx)("option",{value:e,children:f(e)},e)))})]})]}),a&&Object(y.jsx)("div",{style:{overflow:"auto",height:"80vh"},children:Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"shadow-sm",children:[Object(y.jsx)("th",{className:"bg-dark text-white text-center",children:"Date"}),Object(y.jsx)("th",{className:"bg-dark text-white text-center",children:"Status"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Login Time"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Logout Time"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Break"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Total Login"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Status"})]})}),Object(y.jsx)("tbody",{children:v().map((e=>e.months.filter((e=>e.month===n)).map((e=>e.dates.sort(((e,t)=>e.date-t.date)).map((e=>Object(y.jsxs)("tr",{className:"shadow-sm",id:"attendance-row-".concat(e.date),onMouseEnter:()=>(e=>{h(e)})(e.date),onMouseLeave:()=>{h(null)},children:[Object(y.jsx)("td",{className:"text-center",children:Object(y.jsx)("span",{className:"fw-bold bg-info py-1 px-2  shadow-sm text-white",children:e.date})}),Object(y.jsx)("td",{style:{whiteSpace:"pre",textAlign:"center"},children:D(e)}),Object(y.jsx)("td",{className:"text-uppercase",children:e.loginTime[0]}),Object(y.jsx)("td",{className:"text-uppercase",children:e.logoutTime[e.logoutTime.length-1]}),Object(y.jsxs)("td",{className:"position-relative bg-white",children:[Object(y.jsxs)("div",{style:{display:"flex ",justifyContent:"start",alignItems:"center"},className:"fs-6 gap-2 ",onMouseEnter:O,onMouseLeave:g,children:[Object(y.jsx)("span",{style:{scale:"0.7"},className:"bg-warning py-0  text-white  px-2 rounded-5 my-auto",children:e.breakTime.length}),Object(y.jsx)("span",{className:"fw-bold text-dark fs-6",children:N(e.totalBrake)})," ",Object(y.jsx)(w.c,{style:{fontSize:".9rem"},className:"text-info "})]}),Object(y.jsx)("div",{style:{zIndex:"5",right:"0%"},className:"position-absolute",children:b&&m===e.date&&Object(y.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"shadow-sm p-0",children:[Object(y.jsx)("th",{className:"bg-info  py-0 text-white",children:"Break"}),Object(y.jsx)("th",{className:"bg-info  py-0 text-white",children:"Resume"}),Object(y.jsx)("th",{className:"text-end  py-0 bg-info text-white",style:{whiteSpace:"pre"},children:"Total Break"})]})}),Object(y.jsx)("tbody",{children:e.breakTime.map(((t,a)=>Object(y.jsxs)("tr",{className:"shadow-sm",children:[Object(y.jsx)("td",{className:"text-uppercase  py-1 text-center",style:{whiteSpace:"pre"},children:t}),Object(y.jsx)("td",{className:"text-uppercase  py-1 text-center",style:{whiteSpace:"pre"},children:e.ResumeTime[a]}),Object(y.jsx)("td",{className:"text-end py-1 ",style:{whiteSpace:"pre"},children:N(e.BreakData[a])})]},a)))})]})})]}),Object(y.jsx)("td",{children:N(e.totalLogAfterBreak)}),Object(y.jsx)("td",{children:e.status})]},e.date)))))))})]})}),null===a&&Object(y.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"1rem"},children:[Object(y.jsx)("div",{className:"fs-2 fw-bolder",children:Object(y.jsx)(E.b,{className:"spinner-border text-info"})}),Object(y.jsx)("p",{className:"text-muted",children:"User not selected. To view data, please select a user."})]})]});var S};var It=Object(s.memo)(Lt),At=a(30),Tt=a.n(At);var Ft=function(e){const[t,a]=Object(s.useState)(null),{employees:c,setEmployees:l,selectedEmployee:o,setSelectedEmployee:n,attencenceID:r,setAttencenceID:i,message:j,setMessage:m}=Object(s.useContext)(te);return Object(s.useEffect)((()=>{(async e=>{await d.a.get("".concat(R,"/api/employee"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{let t=e.data.filter((e=>1===e.Account));l(t)})).catch((e=>{console.log(e)}))})()}),[]),Object(s.useEffect)((()=>{(async()=>{try{const t=await d.a.get("".concat(R,"/api/personal-info/")+e.data._id,{headers:{authorization:localStorage.getItem("token")||""}});console.log(t.data.FirstName),a(t.data.FirstName)}catch(t){console.error("Error fetching employees:",t)}})()}),[]),console.log(c),Object(y.jsxs)("div",{className:"App row",children:[Object(y.jsx)("h1",{className:"text-center text-uppercase my-3",children:"Attendance System"}),Object(y.jsxs)("div",{className:"form-control d-flex  gap-3 p-3 m-3",style:{height:"fit-content"},children:[Object(y.jsx)("input",{value:t,style:{display:"none"}}),Object(y.jsxs)("div",{className:"d-flex gap-3",children:[Object(y.jsx)("button",{className:"btn btn-success",onClick:async()=>{let e=c.filter((e=>e.FirstName===t));console.log(e);let a=e[0].attendanceObjID,s=e[0]._id;try{if(!t)return void m("Please select a user");const e=Tt()().filter("HH:mm:ss");await d.a.post("".concat(R,"/api/attendance/").concat(a),{employeeId:s,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),loginTime:[e],status:"login"}),m("Login time recorded successfully")}catch(l){console.error("Error recording login time:",l),m("Error recording login time")}},children:"Mark Attendance"}),Object(y.jsx)("button",{className:"btn btn-danger",onClick:async()=>{let e=c.filter((e=>e.FirstName===t)),a=e[0].attendanceObjID,s=e[0]._id;try{if(!t)return void m("Please select an employee");const e=Tt()().filter("HH:mm:ss");await d.a.post("".concat(R,"/api/attendance/").concat(a),{employeeId:s,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),logoutTime:[e],status:"logout"}),m("Logout time recorded successfully")}catch(l){console.error("Error recording logout time:",l),m("Error recording logout time")}},children:"Logout"}),Object(y.jsxs)("div",{className:"d-flex gap-3",children:[Object(y.jsx)("button",{className:"btn btn-warning",onClick:async()=>{let e=localStorage.getItem("Email");if(c){let a=c.filter((t=>t.Email===e));console.log(e);let s=a[0].attendanceObjID,l=a[0]._id;try{if(!a)return void m("Please select an employee");const e=Tt()().filter("HH:mm:ss"),t=Math.round((new Date).getTime()/1e3/60);await d.a.post("".concat(R,"/api/attendance/").concat(s),{employeeId:l,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),breakTime:[e],breakTimeMs:[t],status:"break"}),m("Break time recorded successfully")}catch(t){console.error("Error recording break time:",t),m("Error recording break time")}}},children:"Break"}),Object(y.jsx)("button",{className:"btn btn-primary",onClick:async()=>{let e=localStorage.getItem("Email");if(c){let a=c.filter((t=>t.Email===e)),s=a[0].attendanceObjID,l=a[0]._id;try{if(!a)return void m("Please select an employee");const e=Tt()().filter("HH:mm:ss"),t=Math.round((new Date).getTime()/1e3/60);await d.a.post("".concat(R,"/api/attendance/").concat(s),{employeeId:l,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),ResumeTime:[e],resumeTimeMS:[t],status:"resume"}),m("Resumed time recorded successfully")}catch(t){console.error("Error recording resume time:",t),m("Error recording resume time")}}},children:"Resume"})]})]})]}),j&&Object(y.jsx)("p",{children:j}),Object(y.jsx)("div",{className:"view",children:Object(y.jsx)(It,{})})]})};var Rt=()=>{const[e,t]=Object(s.useState)(""),[a,c]=Object(s.useState)([]),[l,o]=Object(s.useState)(null),[n,r]=Object(s.useState)((new Date).getFullYear()),[i,j]=Object(s.useState)((new Date).getMonth()+1),[m,h]=Object(s.useState)(!1),[b,p]=Object(s.useState)(null),[x,u]=Object(s.useState)(!1),O=()=>{u(!0)},g=()=>{u(!1)};Object(s.useEffect)((()=>{f()}),[]);const f=async()=>{try{const e=await d.a.get("".concat(R,"/api/employee"),{headers:{authorization:localStorage.getItem("token")||""}});c(e.data)}catch(e){console.error("Error fetching employees:",e)}},v=e=>{switch(e){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return""}},N=()=>{if(l&&l.years){const e=(new Date).getFullYear();return l.years.filter((t=>t.year<=e))}return[]},S=e=>{const t=Math.floor(e),a=Math.floor(e/1e3),s=Math.floor(a/60),c=Math.floor(s/60),l=String(c).padStart(2,"0"),o=String(s%60).padStart(2,"0"),n=String(a%60).padStart(2,"0"),r=String(t%60).padStart(2,"0");return"".concat(l,":").concat(o,":").concat(n,":").concat(r)},k=e=>{const t=e&&e.loginTime[0];if(t){const[e,a]=t.split(":").map(Number);if(e>9||9===e&&a>45)return"H";if(e>9||9===e&&a>30)return"L"}return t?"P":"A"};return Object(y.jsxs)("div",{className:"d-flex flex-column p-5 gap-3",children:[Object(y.jsxs)("div",{className:"d-flex gap-3 justify-content-between",children:[Object(y.jsx)("div",{children:Object(y.jsxs)("select",{className:"form-select w-100 shadow-sm text-muted",id:"employeeId",value:e,onChange:e=>{t(e.target.value)},children:[Object(y.jsx)("option",{value:"",disabled:!0,children:"--Select an employee--"}),a.sort(((e,t)=>e.empID-t.empID)).map((e=>Object(y.jsx)("option",{className:"text-uppercase",value:e._id,children:Object(y.jsxs)("p",{children:["\ud83e\udeaa (",e.empID,") ",e.FirstName]})},e._id)))]})}),Object(y.jsxs)("button",{disabled:!e,style:{display:"flex",alignItems:"center",gap:".5rem"},className:"btn shadow btn-dark fw-bolder",onClick:async()=>{h(!0);try{let t=(await d.a.get("".concat(R,"/api/attendance/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")||"")}})).data.filter((t=>t.employeeObjID&&t.employeeObjID._id===e));o(t.length>0?t[0]:null)}catch(t){console.error("Error fetching attendance data:",t)}finally{setTimeout((()=>{h(!1)}),500)}},children:[Object(y.jsx)(D.j,{className:"fs-4 ".concat(m?"rotate":"")})," ","Get"]})]}),l&&Object(y.jsxs)("div",{className:"d-flex gap-3",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"year",children:"Select a year:"}),Object(y.jsx)("select",{className:"form-select shadow",id:"year",value:n,onChange:e=>r(parseInt(e.target.value)),children:N().map((e=>Object(y.jsx)("option",{value:e.year,children:e.year},e.year)))})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"month",children:"Select a month:"}),Object(y.jsx)("select",{className:"form-select shadow",id:"month",value:i,onChange:e=>j(parseInt(e.target.value)),children:(C=n,C===(new Date).getFullYear()?Array.from({length:(new Date).getMonth()+1},((e,t)=>t+1)):Array.from({length:12},((e,t)=>t+1))).map((e=>Object(y.jsx)("option",{value:e,children:v(e)},e)))})]})]}),l&&Object(y.jsx)("div",{style:{overflow:"auto",height:"80vh"},children:Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"shadow-sm",children:[Object(y.jsx)("th",{className:"bg-dark text-white text-center",children:"Date"}),Object(y.jsx)("th",{className:"bg-dark text-white text-center",children:"Status"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Login Time"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Logout Time"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Break"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Total Login"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Status"})]})}),Object(y.jsx)("tbody",{children:N().map((e=>e.months.filter((e=>e.month===i)).map((e=>e.dates.sort(((e,t)=>e.date-t.date)).map((e=>Object(y.jsxs)("tr",{className:"shadow-sm",id:"attendance-row-".concat(e.date),onMouseEnter:()=>(e=>{p(e)})(e.date),onMouseLeave:()=>{p(null)},children:[Object(y.jsx)("td",{className:"text-center",children:Object(y.jsx)("span",{className:"fw-bold bg-info py-1 px-2  shadow-sm text-white",children:e.date})}),Object(y.jsx)("td",{style:{whiteSpace:"pre",textAlign:"center"},children:k(e)}),Object(y.jsx)("td",{className:"text-uppercase",children:e.loginTime[0]}),Object(y.jsx)("td",{className:"text-uppercase",children:e.logoutTime[e.logoutTime.length-1]}),Object(y.jsxs)("td",{className:"position-relative bg-white",children:[Object(y.jsxs)("div",{style:{display:"flex ",justifyContent:"start",alignItems:"center"},className:"fs-6 gap-2 ",onMouseEnter:O,onMouseLeave:g,children:[Object(y.jsx)("span",{style:{scale:"0.7"},className:"bg-warning py-0  text-white  px-2 rounded-5 my-auto",children:e.breakTime.length}),Object(y.jsx)("span",{className:"fw-bold text-dark fs-6",children:S(e.totalBrake)})," ",Object(y.jsx)(w.c,{style:{fontSize:".9rem"},className:"text-info "})]}),Object(y.jsx)("div",{style:{zIndex:"5",right:"0%"},className:"position-absolute",children:x&&b===e.date&&Object(y.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"shadow-sm p-0",children:[Object(y.jsx)("th",{className:"bg-info  py-0 text-white",children:"Break"}),Object(y.jsx)("th",{className:"bg-info  py-0 text-white",children:"Resume"}),Object(y.jsx)("th",{className:"text-end  py-0 bg-info text-white",style:{whiteSpace:"pre"},children:"Total Break"})]})}),Object(y.jsx)("tbody",{children:e.breakTime.map(((t,a)=>Object(y.jsxs)("tr",{className:"shadow-sm",children:[Object(y.jsx)("td",{className:"text-uppercase  py-1 text-center",style:{whiteSpace:"pre"},children:t}),Object(y.jsx)("td",{className:"text-uppercase  py-1 text-center",style:{whiteSpace:"pre"},children:e.ResumeTime[a]}),Object(y.jsx)("td",{className:"text-end py-1 ",style:{whiteSpace:"pre"},children:S(e.BreakData[a])})]},a)))})]})})]}),Object(y.jsx)("td",{children:S(e.totalLogAfterBreak)}),Object(y.jsx)("td",{children:e.status})]},e.date)))))))})]})}),null===l&&Object(y.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"1rem"},children:[Object(y.jsx)("div",{className:"fs-2 fw-bolder",children:Object(y.jsx)(E.b,{className:"spinner-border text-info"})}),Object(y.jsx)("p",{className:"text-muted",children:"User not selected. To view data, please select a user."})]})]});var C},Pt=a(511);a(424),a(425);var Mt=e=>{let{children:t}=e;return Object(y.jsx)("div",{style:{height:"100%",width:"100%",overflow:"auto"},className:" d-flex flex-column justify-content-top  py-4 bg-white px-5",children:t})};var zt,Bt=()=>{const[e,t]=Object(s.useState)(new Date),[a,c]=Object(s.useState)(""),[l,o]=Object(s.useState)("National Holiday"),[n,r]=Object(s.useState)([]),[i,j]=Object(s.useState)([]);return Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get("".concat(R,"/api/holidays"));if(200===e.status){const t=e.data;j(t)}else console.error("Failed to fetch holiday data:",e.statusText)}catch(e){console.error("Error fetching holiday data:",e)}})()}),[]),Object(y.jsxs)(Mt,{children:[Object(y.jsx)("h1",{className:"text-uppercase fs-5 fw-bold mb-2",children:"Holiday Calendar"}),Object(y.jsxs)("div",{className:"row py-2 ",children:[Object(y.jsx)("div",{className:"col-12 col-md-4",children:Object(y.jsx)("div",{className:"card border-0",children:Object(y.jsx)("div",{className:"card-body",children:Object(y.jsx)(Pt.a,{className:"w-100",value:e,onChange:t,tileContent:e=>{let{date:t,view:a}=e;if("month"===a){const e=new Date(t);e.setDate(e.getDate()+1);const a=e.toISOString().split("T")[0],s=n.find((e=>e.date===a));if(s)return Object(y.jsxs)("div",{className:"holiday-marker",children:[Object(y.jsx)("span",{className:"squarepinch"}),s.type]})}}})})})}),Object(y.jsx)("div",{className:"col-12 col-md-4 d-flex",children:Object(y.jsx)("div",{className:"card border-0 h-100 w-100",children:Object(y.jsxs)("div",{className:"card-body d-flex flex-column justify-between align-center",children:[Object(y.jsx)("h3",{children:"Holiday Management"}),Object(y.jsx)("div",{className:"mb-3",children:Object(y.jsx)("input",{type:"date",className:"form-control",value:e.toISOString().split("T")[0],onChange:e=>t(new Date(e.target.value))})}),Object(y.jsx)("div",{className:"mb-3",children:Object(y.jsx)("input",{type:"text",className:"form-control",placeholder:"Holiday Name",value:a,onChange:e=>c(e.target.value)})}),Object(y.jsx)("div",{className:"mb-3",children:Object(y.jsxs)("select",{className:"form-select",value:l,onChange:e=>o(e.target.value),children:[Object(y.jsx)("option",{value:"National Holiday",children:"National Holiday"}),Object(y.jsx)("option",{value:"Gazetted Holiday",children:"Gazetted Holiday"}),Object(y.jsx)("option",{value:"Restricted Holiday",children:"Restricted Holiday"})]})}),Object(y.jsx)("button",{type:"button",className:"btn btn-primary",onClick:async()=>{if(e&&a){const s=(e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()))(e),n={holidayDate:s.getDate(),holidayMonth:s.getMonth()+1,holidayYear:s.getFullYear(),holidayName:a,holidayType:l};try{const e=await d.a.post("".concat(R,"/api/Create-holiday"),n);if(201===e.status){const t=e.data;r((e=>[...e,t.newHoliday])),c(""),o("National Holiday"),alert("Holiday Added Successfully")}else console.error("Failed to add holiday:",e.statusText)}catch(t){console.error("Error adding holiday:",t)}}},children:"Add Holiday"})]})})}),Object(y.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:Object(y.jsx)("div",{className:"card border-0 h-100",children:Object(y.jsxs)("div",{className:"card-body",children:[Object(y.jsx)("h6",{className:"text-uppercase fw-bolder",children:"Holiday List"}),Object(y.jsxs)("table",{className:"table striped",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Date"}),Object(y.jsx)("th",{children:"Month"}),Object(y.jsx)("th",{children:"Year"}),Object(y.jsx)("th",{children:"Name"}),Object(y.jsx)("th",{children:"Type"})]})}),Object(y.jsx)("tbody",{children:i.map(((e,t)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.holidayDate}),Object(y.jsx)("td",{children:e.holidayMonth}),Object(y.jsx)("td",{children:e.holidayYear}),Object(y.jsx)("td",{children:e.holidayName}),Object(y.jsx)("td",{children:e.holidayType})]},t)))})]})]})})})]})]})};a(426),a(427),a(428),a(464),a(465);const _t=Object(V.a)(zt||(zt=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));class Gt extends s.Component{constructor(){super(...arguments),this.state={countryData:[],loading:!0,columnDefs:[{headerName:"Country",field:"CountryName",sortable:!0},{headerName:"",field:"edit",filter:!1,width:30,cellRendererFramework:this.renderEditButton.bind(this)},{headerName:"",field:"delete",filter:!1,width:30,cellRendererFramework:this.renderButton.bind(this)}],rowData:[],defaultColDef:{resizable:!0,width:1180,filter:"agTextColumnFilter"},getRowHeight:function(e){return 35}},this.countryObj=[],this.rowDataT=[],this.loadCountryData=()=>{d.a.get("".concat(R,"/api/country"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.countryObj=e.data,console.log("response",e.data),this.setState({countryData:e.data}),this.setState({loading:!1}),this.rowDataT=[],this.countryObj.map((e=>{let t={data:e,CountryName:e.CountryName};this.rowDataT.push(t)})),this.setState({rowData:this.rowDataT})})).catch((e=>{console.log(e)}))},this.onCountryDelete=e=>{console.log(e),1==window.confirm("Are you sure to delete this record ? ")&&d.a.delete("".concat(R,"/api/country/")+e,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.componentDidMount()})).catch((e=>{console.log(e.response),403==e.response.status&&window.alert(e.response.data)}))}}componentDidMount(){this.loadCountryData()}renderButton(e){return console.log(e),Object(y.jsx)(W.a,{icon:J.g,onClick:()=>this.onCountryDelete(e.data.data._id)})}renderEditButton(e){return console.log(e),Object(y.jsx)(W.a,{icon:J.b,onClick:()=>this.props.onEditCountry(e.data.data)})}render(){return Object(y.jsxs)("div",{className:"container-fluid mb-5",children:[Object(y.jsx)("h2",{id:"role-title",children:"Country Details"}),Object(y.jsxs)(re.a,{variant:"primary",id:"add-button",onClick:this.props.onAddCountry,children:[Object(y.jsx)(W.a,{icon:J.e,id:"plus-icon"}),"Add"]}),Object(y.jsx)("div",{id:"clear-both"}),this.state.loading?Object(y.jsx)("div",{id:"loading-bar",children:Object(y.jsx)(ne.a,{css:_t,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(y.jsxs)("table",{className:"table table-striped",children:[Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{children:Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"py-1",children:"Country"})})}),Object(y.jsx)("tbody",{children:this.state.countryData.map(((e,t)=>Object(y.jsx)("tr",{children:Object(y.jsx)("td",{children:e.CountryName})},t)))})]})]})}}var Ht=Gt;a(466);class Ut extends s.Component{render(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Add Country Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:this.props.onCountrySubmit,children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Country"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Country",name:"Country",required:!0})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Submit"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:this.props.onFormClose,children:"cancel"})})})]})})]})}}var qt=Ut;class Yt extends s.Component{constructor(){super(...arguments),this.state={CountryData:this.props.editData.CountryName}}onChange(e){this.setState({CountryData:e.target.value})}render(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Edit Country Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:e=>this.props.onCountryEditUpdate(this.props.editData,e),children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Country"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Country",name:"CountryName",required:!0,value:this.state.CountryData,onChange:e=>this.onChange(e)})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Update"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:this.props.onFormEditClose,children:"cancel"})})})]})})]})}}var Wt=Yt;class Jt extends s.Component{constructor(){super(...arguments),this.state={table:!0,editForm:!1,editData:{}},this.handleCountrySubmit=e=>{e.preventDefault(),console.log("name",e.target[0].value),this.setState({table:!1});let t={CountryName:e.target[0].value};d.a.post("".concat(R,"/api/country"),t,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({table:!1}),this.setState({table:!0})})).catch((e=>{console.log(e)}))},this.handleAddCountry=()=>{console.log("clicked1"),this.setState({table:!1})},this.handleEditCountry=e=>{console.log(e),console.log("clicked6"),this.setState({editForm:!0}),this.setState({editData:e})},this.handleFormClose=()=>{console.log("clicked1"),this.setState({table:!0})},this.handleEditFormClose=()=>{console.log("clicked5"),this.setState({editForm:!1})},this.handleFormClose=()=>{console.log("clicked1"),this.setState({table:!0})},this.handleCountryEditUpdate=(e,t)=>{let a={CountryName:t.target[0].value};console.log("update",a),d.a.put("".concat(R,"/api/country/")+e._id,a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({table:!1}),this.setState({table:!0})})).catch((e=>{console.log(e)})),this.setState({editForm:!1})}}render(){return Object(y.jsx)(c.a.Fragment,{children:this.state.table?this.state.editForm?Object(y.jsx)(Wt,{onCountryEditUpdate:this.handleCountryEditUpdate,onFormEditClose:this.handleEditFormClose,editData:this.state.editData}):Object(y.jsx)(Ht,{onAddCountry:this.handleAddCountry,onEditCountry:this.handleEditCountry}):Object(y.jsx)(qt,{onCountrySubmit:this.handleCountrySubmit,onFormClose:this.handleFormClose})})}}var Vt,Xt=Jt;a(467);const Kt=Object(V.a)(Vt||(Vt=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var $t=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,n]=Object(s.useState)([]),r=()=>{d.a.get("".concat(R,"/api/state"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;a(t),l(!1);const s=t.map((e=>({data:e,CountryName:e.country[0].CountryName,StateName:e.StateName})));n(s)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{r()}),[]);return Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsxs)("div",{className:"d-flex justify-between aline-items-start mb-3",children:[Object(y.jsxs)("div",{className:" my-auto",children:[Object(y.jsx)("h3",{className:"fw-bold text-muted",children:"State Details"}),Object(y.jsx)("p",{children:"You can create new state and view all state details here!"})]}),Object(y.jsxs)(re.a,{variant:"primary",className:"my-auto",id:"add-button",onClick:e.onAddState,children:[Object(y.jsx)(W.a,{icon:J.e,id:"plus-icon"}),"Add new State"]})]}),Object(y.jsx)("div",{id:"clear-both"}),c?Object(y.jsx)("div",{id:"loading-bar",children:Object(y.jsx)(ne.a,{css:Kt,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},children:"Country"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},children:"State"})]})}),Object(y.jsx)("tbody",{children:t.map(((e,t)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"text-uppercase",children:e.country[0].CountryName}),Object(y.jsx)("td",{className:"text-uppercase",children:e.StateName})]},t)))})]})]})};a(468);class Zt extends s.Component{constructor(){super(...arguments),this.state={countryInfo:[]},this.countryData=[],this.loadCountryInfo=()=>{d.a.get("".concat(R,"/api/country"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.countryData=e.data,this.setState({countryInfo:e.data})})).catch((e=>{console.log(e)}))}}componentWillMount(){this.loadCountryInfo()}render(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Add State Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:this.props.onStateSubmit,children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Country"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"country",required:!0,children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),this.countryData.map(((e,t)=>Object(y.jsx)("option",{value:e._id,children:e.CountryName})))]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"State"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"State",name:"State",required:!0})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Submit"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:this.props.onFormClose,children:"cancel"})})})]})})]})}}var Qt=Zt;class ea extends s.Component{constructor(){super(...arguments),this.state={StateData:this.props.editData.StateName,countryInfo:[]},this.countryData=[],this.loadCountryInfo=()=>{d.a.get("".concat(R,"/api/country"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.countryData=e.data,this.setState({portalsInfo:e.data})})).catch((e=>{console.log(e)}))}}componentWillMount(){this.loadCountryInfo()}onChange(e){this.setState({StateData:e.target.value})}render(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Edit State Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:e=>this.props.onStateEditUpdate(this.props.editData,e),children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Country"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"country",required:!0,children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),this.countryData.map(((e,t)=>Object(y.jsx)("option",{value:e._id,selected:this.props.editData.country[0]._id==e._id,children:e.CountryName})))]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"State"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"State",name:"StateName",required:!0,value:this.state.StateData,onChange:e=>this.onChange(e)})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Update"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:this.props.onFormEditClose,children:"cancel"})})})]})})]})}}var ta=ea;class aa extends s.Component{constructor(){super(...arguments),this.state={table:!0,editForm:!1,editData:{}},this.handleStateSubmit=e=>{e.preventDefault(),console.log("id",e.target[0].value,e.target[1].value),this.setState({table:!0});let t={CountryID:e.target[0].value,StateName:e.target[1].value};d.a.post("".concat(R,"/api/state"),t,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({table:!1}),this.setState({table:!0})})).catch((e=>{console.log(e)}))},this.handleAddState=()=>{console.log("clicked1"),this.setState({table:!1})},this.handleEditState=e=>{console.log(e),console.log("clicked6"),this.setState({editForm:!0}),this.setState({editData:e})},this.handleFormClose=()=>{console.log("clicked1"),this.setState({table:!0})},this.handleEditFormClose=()=>{console.log("clicked5"),this.setState({editForm:!1})},this.handleFormClose=()=>{console.log("clicked1"),this.setState({table:!0})},this.handleStateEditUpdate=(e,t)=>{t.preventDefault();let a={CountryID:t.target[0].value,StateName:t.target[1].value};console.log("update",a),d.a.put("".concat(R,"/api/state/")+e._id,a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({table:!1}),this.setState({table:!0})})).catch((e=>{console.log(e)})),this.setState({editForm:!1})}}render(){return Object(y.jsx)(c.a.Fragment,{children:this.state.table?this.state.editForm?Object(y.jsx)(ta,{onStateEditUpdate:this.handleStateEditUpdate,onFormEditClose:this.handleEditFormClose,editData:this.state.editData}):Object(y.jsx)($t,{onAddState:this.handleAddState,onEditState:this.handleEditState}):Object(y.jsx)(Qt,{onStateSubmit:this.handleStateSubmit,onFormClose:this.handleFormClose})})}}var sa,ca=aa;a(469),a(470);const la=Object(V.a)(sa||(sa=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));class oa extends s.Component{constructor(){super(...arguments),this.state={cityData:[],loading:!0,rowData:[]},this.cityObj=[],this.rowDataT=[],this.loadCityData=()=>{d.a.get("http://localhost:4000/api/city",{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.cityObj=e.data,console.log("response",e.data),this.setState({cityData:e.data}),this.setState({loading:!1}),this.rowDataT=[],this.cityObj.map((e=>{let t={data:e,CountryName:e.state[0].country[0].CountryName,StateName:e.state[0].StateName,CityName:e.CityName};this.rowDataT.push(t)})),this.setState({rowData:this.rowDataT})})).catch((e=>{console.log(e)}))},this.onCityDelete=e=>{console.log(e),1==window.confirm("Are you sure to delete this record ? ")&&d.a.delete("http://localhost:4000/api/city/"+e,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.componentDidMount()})).catch((e=>{console.log(e),console.log(e.response),403==e.response.status&&window.alert(e.response.data)}))}}componentDidMount(){this.loadCityData()}renderButton(e){return console.log(e),Object(y.jsx)(W.a,{icon:J.g,onClick:()=>this.onCityDelete(e.data.data._id)})}renderEditButton(e){return console.log(e),Object(y.jsx)(W.a,{icon:J.b,onClick:()=>this.props.onEditCity(e.data.data)})}render(){return Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsxs)("div",{className:"d-flex justify-between aline-items-start mb-3",children:[Object(y.jsxs)("div",{className:" my-auto",children:[Object(y.jsx)("h3",{className:"fw-bold text-muted",children:"City Details"}),Object(y.jsx)("p",{children:"You can create new city and view all cities details here !"})]}),Object(y.jsxs)(re.a,{variant:"primary",className:"my-auto",id:"add-button",onClick:this.props.onAddCity,children:[Object(y.jsx)(W.a,{icon:J.e,id:"plus-icon"}),"Add new City"]})]}),Object(y.jsx)("div",{id:"clear-both"}),this.state.loading?Object(y.jsx)("div",{id:"loading-bar",children:Object(y.jsx)(ne.a,{css:la,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(y.jsxs)("table",{className:"table table-striped",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"py-1",children:"Country"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"py-1",children:"State"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"py-1",children:"City"})]})}),Object(y.jsx)("tbody",{children:this.state.cityData.map(((e,t)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.state[0].country[0].CountryName}),Object(y.jsx)("td",{children:e.state[0].StateName}),Object(y.jsx)("td",{children:e.CityName})]},t)))})]})]})}}var na=oa;a(471);class ra extends s.Component{constructor(){super(...arguments),this.state={stateData:[],filteredStateData:[],countryData:[],filteredCountryData:[]},this.loadCountryInfo=()=>{d.a.get("".concat(R,"/api/country"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({countryData:e.data})})).catch((e=>{console.log(e)}))},this.loadStateInfo=()=>{d.a.get("".concat(R,"/api/state"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({stateData:e.data})})).catch((e=>{console.log(e)}))}}onChange(e){this.setState({CityData:e.target.value})}componentWillMount(){this.loadCountryInfo(),this.loadStateInfo()}onCountryChange(e){console.log(e.target.value);let t=e.target.value,a=this.state.stateData.filter((e=>e.country[0]._id==t));this.setState({filteredStateData:a})}render(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Add City Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:this.props.onCitySubmit,children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Country"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"country",onChange:this.onCountryChange.bind(this),children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),this.state.countryData.map(((e,t)=>Object(y.jsx)("option",{value:e._id,children:e.CountryName})))]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"State"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"state",required:!0,children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),this.state.filteredStateData.map(((e,t)=>Object(y.jsx)("option",{value:e._id,children:e.StateName})))]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"City"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"City",name:"City",required:!0})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Submit"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:this.props.onFormClose,children:"cancel"})})})]})})]})}}var ia=ra;class da extends s.Component{constructor(){super(...arguments),this.state={CityData:this.props.editData.CityName,stateData:[],filteredStateData:[],countryData:[],filteredCountryData:[]},this.loadCountryInfo=()=>{d.a.get("".concat(R,"/api/country"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({countryData:e.data})})).catch((e=>{console.log(e)}))},this.loadStateInfo=()=>{d.a.get("".concat(R,"/api/state"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({stateData:e.data})})).catch((e=>{console.log(e)}))},this.onSelectCountry=(e,t)=>this.props.editData.state[0].country[0]._id==t._id}onChange(e){this.setState({CityData:e.target.value})}componentWillMount(){this.loadCountryInfo(),this.loadStateInfo()}onCountryChange(e){console.log(e.target.value);let t=e.target.value,a=this.state.stateData.filter((e=>e.country[0]._id==t));this.setState({filteredStateData:a})}render(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Edit City Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:e=>this.props.onCityEditUpdate(this.props.editData,e),children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Country"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"country",onChange:this.onCountryChange.bind(this),children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),this.state.countryData.map(((e,t)=>Object(y.jsx)("option",{value:e._id,children:e.CountryName})))]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"State"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"state",required:!0,children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),this.state.filteredStateData.map(((e,t)=>Object(y.jsx)("option",{value:e._id,selected:this.props.editData.state[0]._id==e._id,children:e.StateName})))]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"City"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"City",name:"City",required:!0,onChange:e=>this.onChange(e),value:this.state.CityData})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Update"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:this.props.onFormEditClose,children:"cancel"})})})]})})]})}}var ja=da;var ma,ha=()=>{const[e,t]=Object(s.useState)(!0),[a,l]=Object(s.useState)(!1),[o,n]=Object(s.useState)({});return Object(y.jsx)(c.a.Fragment,{children:e?a?Object(y.jsx)(ja,{onCityEditUpdate:(e,a)=>{a.preventDefault(),t(!0);const s={StateID:a.target[1].value,CityName:a.target[2].value};d.a.put("".concat(R,"/api/city/").concat(e._id),s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{console.log("uuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuu"),l(!1),t(!0)})).catch((e=>{console.log(e)}))},onFormEditClose:()=>{console.log("clicked5"),l(!1)},editData:o}):Object(y.jsx)(na,{onAddCity:()=>{console.log("clicked1"),t(!1)},onEditCity:e=>{console.log(e),console.log("clicked6"),l(!0),n(e)}}):Object(y.jsx)(ia,{onCitySubmit:e=>{e.preventDefault(),console.log("id",e.target[0].value,e.target[1].value),t(!0);const a={StateID:e.target[1].value,CityName:e.target[2].value};d.a.post("".concat(R,"/api/city"),a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{t(!1),t(!0)})).catch((e=>{console.log(e)}))},onFormClose:()=>{console.log("clicked1"),t(!0)}})})};const ba=Object(V.a)(ma||(ma=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var pa=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0);Object(s.useEffect)((()=>{o()}),[]);const o=()=>{d.a.get("".concat(R,"/api/company"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(e.data),l(!1)})).catch((e=>{console.log(e)}))};return Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsxs)("div",{className:"d-flex justify-between aline-items-start mb-3",children:[Object(y.jsx)("h4",{className:"fw-bold text-muted",children:"Company Details"}),Object(y.jsxs)(re.a,{className:"my-auto",variant:"primary shadow-sm",onClick:e.onAddCompany,children:[Object(y.jsx)(W.a,{icon:J.e,className:"me-2"}),"Create Company"]})]}),c?Object(y.jsx)("div",{className:"d-flex justify-content-center",children:Object(y.jsx)(ne.a,{css:ba,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(y.jsx)("div",{className:"pr-5 pr-sm-0",style:{height:"70vh",overflow:"auto",maxWidth:"95%"},children:Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",whiteSpace:"pre"},children:"Company Name"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",whiteSpace:"pre"},children:"Address"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",whiteSpace:"pre"},children:"Country"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",whiteSpace:"pre"},children:"State"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",whiteSpace:"pre"},children:"City"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",whiteSpace:"pre"},children:"Postal Code"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",whiteSpace:"pre"},children:"Website"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",whiteSpace:"pre"},children:"Email"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",whiteSpace:"pre"},children:"Contact Person"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",whiteSpace:"pre"},children:"Contact No"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",whiteSpace:"pre"},children:"Fax No"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",whiteSpace:"pre"},children:"Pan No"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",whiteSpace:"pre"},children:"GST No"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",whiteSpace:"pre"},children:"CIN No"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",whiteSpace:"pre"},children:"Edit"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",whiteSpace:"pre"},children:"Delete"})]})}),Object(y.jsx)("tbody",{children:t.map(((t,a)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{style:{whiteSpace:"pre"},className:"text-capitalize fw-bold text-primary",children:t.CompanyName}),Object(y.jsx)("td",{style:{whiteSpace:"pre"},className:"text-uppercase ",children:t.Address}),Object(y.jsx)("td",{style:{whiteSpace:"pre"},className:"text-uppercase ",children:t.city[0].state[0].country[0].CountryName}),Object(y.jsx)("td",{style:{whiteSpace:"pre"},className:"text-uppercase ",children:t.city[0].state[0].StateName}),Object(y.jsx)("td",{style:{whiteSpace:"pre"},className:"text-uppercase ",children:t.city[0].CityName}),Object(y.jsx)("td",{style:{whiteSpace:"pre"},children:t.PostalCode}),Object(y.jsx)("td",{style:{whiteSpace:"pre"},children:t.Website}),Object(y.jsx)("td",{style:{whiteSpace:"pre"},children:t.Email}),Object(y.jsx)("td",{style:{whiteSpace:"pre"},children:t.ContactPerson}),Object(y.jsx)("td",{style:{whiteSpace:"pre"},children:t.ContactNo}),Object(y.jsx)("td",{style:{whiteSpace:"pre"},children:t.FaxNo}),Object(y.jsx)("td",{style:{whiteSpace:"pre"},className:"text-uppercase",children:t.PanNo}),Object(y.jsx)("td",{style:{whiteSpace:"pre"},className:"text-uppercase",children:t.GSTNo}),Object(y.jsx)("td",{style:{whiteSpace:"pre"},className:"text-uppercase",children:t.CINNo}),Object(y.jsx)("td",{style:{whiteSpace:"pre"},children:Object(y.jsx)(W.a,{icon:J.b,onClick:()=>e.onEditCompany(t)})}),Object(y.jsx)("td",{style:{whiteSpace:"pre"},children:Object(y.jsx)(W.a,{icon:J.g,onClick:()=>{return e=t._id,void(window.confirm("Are you sure to delete this record? ")&&d.a.delete("".concat(R,"/api/company/").concat(e),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{o()})).catch((e=>{console.log(e)})));var e}})})]},a)))})]})})]})};a(472);class xa extends s.Component{constructor(){super(...arguments),this.state={countryData:[],stateData:[],cityData:[],filteredCountryData:[],filteredStateData:[],filteredCityData:[]},this.loadCountryInfo=()=>{d.a.get("".concat(R,"/api/country"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({countryData:e.data})})).catch((e=>{console.log(e)}))},this.loadStateInfo=()=>{d.a.get("".concat(R,"/api/state"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({stateData:e.data})})).catch((e=>{console.log(e)}))},this.loadCityInfo=()=>{d.a.get("".concat(R,"/api/city"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({cityData:e.data})})).catch((e=>{console.log(e)}))}}componentWillMount(){this.loadCountryInfo(),this.loadStateInfo(),this.loadCityInfo()}onCountryChange(e){console.log(e.target.value);let t=e.target.value,a=this.state.stateData.filter((e=>e.country[0]._id==t));this.setState({filteredStateData:a})}onStateChange(e){console.log(e.target.value);let t=e.target.value,a=this.state.cityData.filter((e=>e.state[0]._id==t));this.setState({filteredCityData:a})}render(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Add Company Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:this.props.onCompanySubmit,children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Company Name"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Company Name",name:"CompanyName",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Address"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{as:"textarea",rows:"3",plassholder:"address",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Country"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"country",onChange:this.onCountryChange.bind(this),children:[Object(y.jsx)("option",{disabled:!0,selected:!0,children:"Select your option"}),this.state.countryData.map(((e,t)=>Object(y.jsx)("option",{value:e._id,children:e.CountryName},t)))]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"State"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"state",required:!0,onChange:this.onStateChange.bind(this),children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),this.state.filteredStateData.map(((e,t)=>Object(y.jsx)("option",{value:e._id,children:e.StateName},t)))]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"City"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"state",required:!0,children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),this.state.filteredCityData.map(((e,t)=>Object(y.jsx)("option",{value:e._id,children:e.CityName},t)))]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"PostalCode"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"number",placeholder:"PostalCode",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Website"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Website",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Email"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"email",placeholder:"Email",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Contact Person"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Contact Person",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Contact No"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Contact No",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"FaxNo"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"FaxNo",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"PanCard No"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:" PanCard No  ",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"GSTNo"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"GSTNo",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"CINNo"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"CINNo",required:!0})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Submit"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:this.props.onFormClose,children:"cancel"})})})]})})]})}}var ua=xa;a(473);class Oa extends s.Component{constructor(){super(...arguments),this.state={status:"",countryData:[],stateData:[],cityData:[],filteredCountryData:[],filteredStateData:[],filteredCityData:[],CompanyNameData:this.props.editData.CompanyName,AddressData:this.props.editData.Address,PostalCodeData:this.props.editData.PostalCode,WebsiteData:this.props.editData.Website,EmailData:this.props.editData.Email,ContactPersonData:this.props.editData.ContactPerson,ContactNoData:this.props.editData.ContactNo,FaxNoData:this.props.editData.FaxNo,PanNoData:this.props.editData.PanNo,GSTNoData:this.props.editData.GSTNo,CINNoData:this.props.editData.CINNo},this.loadCountryInfo=()=>{d.a.get("".concat(R,"/api/country"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({countryData:e.data})})).catch((e=>{console.log(e)}))},this.loadStateInfo=()=>{d.a.get("".concat(R,"/api/state"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({stateData:e.data})})).catch((e=>{console.log(e)}))},this.loadCityInfo=()=>{d.a.get("".concat(R,"/api/city"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({cityData:e.data})})).catch((e=>{console.log(e)}))}}onCompanyNameDataChange(e){this.setState({CompanyNameData:e.target.value})}onAddressDataChange(e){this.setState({AddressData:e.target.value})}onPostalCodeDataChange(e){this.setState({PostalCodeData:e.target.value})}onWebsiteDataChange(e){this.setState({WebsiteData:e.target.value})}onEmailDataChange(e){this.setState({EmailData:e.target.value})}onContactPersonDataChange(e){this.setState({ContactPersonData:e.target.value})}onContactNoDataChange(e){this.setState({ContactNoData:e.target.value})}onFaxNoDataChange(e){this.setState({FaxNoData:e.target.value})}onPanNoDataChange(e){this.setState({PanNoData:e.target.value})}onGSTNoDataChange(e){this.setState({GSTNoData:e.target.value})}onCINNoDataChange(e){this.setState({CINNoData:e.target.value})}componentWillMount(){this.loadCountryInfo(),this.loadStateInfo(),this.loadCityInfo()}onCountryChange(e){console.log(e.target.value);let t=e.target.value,a=this.state.stateData.filter((e=>e.country[0]._id==t));this.setState({filteredStateData:a})}onStateChange(e){console.log(e.target.value);let t=e.target.value,a=this.state.cityData.filter((e=>e.state[0]._id==t));this.setState({filteredCityData:a})}render(){return Object(y.jsxs)(c.a.Fragment,{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Edit Project Bid Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:e=>this.props.onCompanyEditUpdate(this.props.editData,e),children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Company Name"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Company Name",name:"CompanyName",value:this.state.CompanyNameData,onChange:e=>this.onCompanyNameDataChange(e),required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Address"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{as:"textarea",rows:"3",plassholder:"address",required:!0,value:this.state.AddressData,onChange:e=>this.onAddressDataChange(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Country"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"country",onChange:this.onCountryChange.bind(this),children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),this.state.countryData.map(((e,t)=>Object(y.jsx)("option",{value:e._id,children:e.CountryName},t)))]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"State"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"state",required:!0,onChange:this.onStateChange.bind(this),children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),this.state.filteredStateData.map(((e,t)=>Object(y.jsx)("option",{value:e._id,children:e.StateName},t)))]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"City"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"state",required:!0,children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),this.state.filteredCityData.map(((e,t)=>Object(y.jsx)("option",{value:e._id,children:e.CityName},t)))]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"PostalCode"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"number",placeholder:"PostalCode",required:!0,value:this.state.PostalCodeData,onChange:e=>this.onPostalCodeDataChange(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Website"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Website",required:!0,value:this.state.WebsiteData,onChange:e=>this.onWebsiteDataChange(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Email"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"email",placeholder:"Email",required:!0,value:this.state.EmailData,onChange:e=>this.onEmailDataChange(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Contact Person"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Contact Person",required:!0,value:this.state.ContactPersonData,onChange:e=>this.onContactPersonDataChange(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Contact No"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Contact No",required:!0,value:this.state.ContactNoData,onChange:e=>this.onContactNoDataChange(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"FaxNo"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"FaxNo",required:!0,value:this.state.FaxNoData,onChange:e=>this.onFaxNoDataChange(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"PanCard No"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:" PanCard No  ",required:!0,value:this.state.PanNoData,onChange:e=>this.onPanNoDataChange(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"GSTNo"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"GSTNo",required:!0,value:this.state.GSTNoData,onChange:e=>this.onGSTNoDataChange(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"CINNo"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"CINNo",required:!0,value:this.state.CINNoData,onChange:e=>this.onCINNoDataChange(e)})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Submit"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:this.props.onFormEditClose,children:"cancel"})})})]})})]})}}var ga=Oa;class fa extends s.Component{constructor(){super(...arguments),this.state={table:!0,editForm:!1,editData:{}},this.handleCompanySubmit=e=>{e.preventDefault(),console.log("id",e.target[0].value,e.target[1].value),this.setState({table:!0});let t={CompanyName:e.target[0].value,Address:e.target[1].value,CityID:e.target[4].value,PostalCode:e.target[5].value,Website:e.target[6].value,Email:e.target[7].value,ContactPerson:e.target[8].value,ContactNo:e.target[9].value,FaxNo:e.target[10].value,PanNo:e.target[11].value,GSTNo:e.target[12].value,CINNo:e.target[13].value};d.a.post("".concat(R,"/api/company"),t,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({table:!1}),this.setState({table:!0})})).catch((e=>{console.log(e)}))},this.handleAddCompany=()=>{console.log("clicked1"),this.setState({table:!1})},this.handleEditCompany=e=>{console.log(e),console.log("clicked6"),this.setState({editForm:!0}),this.setState({editData:e})},this.handleFormClose=()=>{console.log("clicked1"),this.setState({table:!0})},this.handleEditFormClose=()=>{console.log("clicked5"),this.setState({editForm:!1})},this.handleFormClose=()=>{console.log("clicked1"),this.setState({table:!0})},this.handleCompanyEditUpdate=(e,t)=>{t.preventDefault();let a={CompanyName:t.target[0].value,Address:t.target[1].value,CityID:t.target[4].value,PostalCode:t.target[5].value,Website:t.target[6].value,Email:t.target[7].value,ContactPerson:t.target[8].value,ContactNo:t.target[9].value,FaxNo:t.target[10].value,PanNo:t.target[11].value,GSTNo:t.target[12].value,CINNo:t.target[13].value};console.log("update",a),d.a.put("".concat(R,"/api/company/")+e._id,a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({table:!1}),this.setState({table:!0})})).catch((e=>{console.log(e)})),this.setState({editForm:!1})}}render(){return Object(y.jsx)(c.a.Fragment,{children:this.state.table?this.state.editForm?Object(y.jsx)(ga,{onCompanyEditUpdate:this.handleCompanyEditUpdate,onFormEditClose:this.handleEditFormClose,editData:this.state.editData}):Object(y.jsx)(pa,{onAddCompany:this.handleAddCompany,onEditCompany:this.handleEditCompany}):Object(y.jsx)(ua,{onCompanySubmit:this.handleCompanySubmit,onFormClose:this.handleFormClose})})}}var ya=fa;a(474);var va,Na=e=>{let{children:t}=e;return Object(y.jsx)("div",{className:"py-2",style:{minHeight:"100vh",maxHeight:"100vh",width:"100%",overflow:"auto"},children:t})};const wa=Object(V.a)(va||(va=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var Da=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,n]=Object(s.useState)([]),r=(e.data&&e.data._id,()=>{d.a.get("".concat(R,"/api/leave-application-emp/")+localStorage.getItem("_id"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;console.log("response",e.data),a(e.data),l(!1);const s=t.leaveApplication.map((e=>({data:e,Leavetype:e.Leavetype,FromDate:e.FromDate.slice(0,10),ToDate:e.ToDate.slice(0,10),Reasonforleave:e.Reasonforleave,Status:e.Status})));n(s)})).catch((e=>{console.log(e)}))});return Object(s.useEffect)((()=>{r()}),[]),Object(y.jsxs)("div",{className:"container-fluid",children:[Object(y.jsxs)("div",{className:"d-flex justify-content-between py-2",children:[Object(y.jsx)("h4",{className:"fw-bold my-auto",children:" Leave Application"}),Object(y.jsxs)(re.a,{variant:"primary",id:"add-button",onClick:e.onAddLeaveApplicationEmp,children:[Object(y.jsx)(W.a,{icon:J.e,id:"plus-icon"}),"Apply Leave"]})]}),Object(y.jsx)("div",{id:"clear-both"}),c?Object(y.jsx)("div",{id:"loading-bar",children:Object(y.jsx)(ne.a,{css:wa,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(y.jsx)("div",{children:Object(y.jsxs)(ve.a,{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},children:"Leave Type"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},children:"Start Date"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},children:"End Date"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},children:"Remarks"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},children:"Status"})]})}),Object(y.jsx)("tbody",{children:o.map(((e,t)=>{return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.Leavetype}),Object(y.jsx)("td",{children:e.FromDate}),Object(y.jsx)("td",{children:e.ToDate}),Object(y.jsx)("td",{children:e.Reasonforleave}),Object(y.jsx)("td",{children:(a=e.Status,1==a?"Pending":2==a?"Approved":3==a?"Rejected":"Unknown Status")})]},t);var a}))})]})})]})},Sa=a.p+"static/media/Leave.cde90f6b.svg";var ka=e=>{const t=localStorage.getItem("_id"),[a,c]=Object(s.useState)([]);return Object(s.useEffect)((()=>{d.a.get("".concat(R,"/api/particularEmployee/").concat(t),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{console.log(e.data),c(e.data)})).catch((e=>{console.log(e)}))}),[]),Object(y.jsx)(Na,{children:Object(y.jsxs)("div",{style:{overflow:"auto"},className:"row",children:[Object(y.jsx)("div",{className:"col-5",children:Object(y.jsx)("img",{style:{width:"130%"},src:Sa,alt:""})}),Object(y.jsx)("div",{className:"col-6",children:Object(y.jsxs)("form",{className:"text-white shadow bg-dark px-3 py-4 rounded row",onSubmit:e.onLeaveApplicationEmpSubmit,children:[Object(y.jsx)("h4",{className:"fw-bolder text-white mb-5",children:"Create Leave Request"}),Object(y.jsxs)("div",{className:"mb-3 col-12",children:[Object(y.jsx)("label",{htmlFor:"leaveType",className:"form-label",children:"Select Leave Type"}),Object(y.jsxs)("select",{className:"form-select",id:"leaveType",name:"leaveType",children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"-- Select --"}),Object(y.jsx)("option",{value:"Sick Leave",children:"Sick Leave"}),Object(y.jsx)("option",{value:"Casual Leave",children:"Casual Leave"}),Object(y.jsx)("option",{value:"Privilege Leave",children:"Privilege Leave"})]})]}),Object(y.jsxs)("div",{className:"mb-3 col-6",children:[Object(y.jsx)("label",{htmlFor:"startDate",className:"form-label",children:"Start Date:"}),Object(y.jsx)("input",{type:"date",className:"form-control",id:"startDate",name:"startDate",required:!0})]}),Object(y.jsxs)("div",{className:"mb-3 col-6",children:[Object(y.jsx)("label",{htmlFor:"endDate",className:"form-label",children:"End Date:"}),Object(y.jsx)("input",{type:"date",className:"form-control",id:"endDate",name:"endDate",required:!0})]}),Object(y.jsxs)("div",{className:"mb-3 col-12",children:[Object(y.jsx)("label",{htmlFor:"leaveType",className:"form-label",children:"Leave Status"}),Object(y.jsx)("select",{className:"form-select",id:"leaveStatus",name:"leaveStatus",children:Object(y.jsx)("option",{value:"1",selected:!0,children:"Pending"})})]}),Object(y.jsxs)("div",{className:"mb-3",children:[Object(y.jsx)("label",{htmlFor:"manager",className:"form-label",children:"Reporting Manager:"}),Object(y.jsx)("input",{className:"form-control",id:"manager",name:"manager",value:a.reportManager,required:!0,disabled:!0,placeholder:a.reportManager})]}),Object(y.jsxs)("div",{className:"mb-3",children:[Object(y.jsx)("label",{htmlFor:"hr",className:"form-label",children:"Reporting Hr:"}),Object(y.jsx)("input",{className:"form-control",id:"hr",name:"hr",value:a.reportHr,required:!0,disabled:!0,placeholder:a.reportHr})]}),Object(y.jsxs)("div",{className:"mb-3",children:[Object(y.jsx)("label",{htmlFor:"reason",className:"form-label",children:"Reason:"}),Object(y.jsx)("textarea",{className:"form-control",id:"reason",name:"reason",required:!0,placeholder:"Please mention the reason for leave"})]}),Object(y.jsxs)("div",{className:"row mt-3 mx-1 justify-content-between",children:[Object(y.jsx)("button",{type:"submit",className:"btn btn-primary col-5 ",children:"Submit"}),Object(y.jsx)("button",{type:"reset",className:"btn btn-danger col-5",onClick:e.onFormClose,children:"Cancel"})]})]})})]})})};var Ca=e=>{const[t,a]=Object(s.useState)(e.editData.FromDate.slice(0,10)),[c,l]=Object(s.useState)(e.editData.ToDate.slice(0,10)),[o,n]=Object(s.useState)(e.editData.Reasonforleave);return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Edit LeaveApplicationEmp Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:t=>e.onLeaveApplicationEmpEditUpdate(e.editData,t),children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Leave Type"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",required:!0,children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),Object(y.jsx)("option",{value:"Sick Leave",selected:"Sick Leave"===e.editData.Leavetype,children:"Sick Leave"}),Object(y.jsx)("option",{value:"Casual Leave",selected:"Casual Leave"===e.editData.Leavetype,children:"Casual Leave"}),Object(y.jsx)("option",{value:"Privilege Leave",selected:"Privilege Leave"===e.editData.Leavetype,children:"Privilege Leave"})]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"FromDate"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"date",required:!0,value:t,onChange:e=>(e=>{a(e.target.value)})(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"ToDate"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"date",required:!0,value:c,onChange:e=>(e=>{l(e.target.value)})(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Reason for leave"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Reason for leave",required:!0,value:o,onChange:e=>(e=>{n(e.target.value)})(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Leave Status"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{as:"select",required:!0,children:Object(y.jsx)("option",{value:"1",selected:!0,disabled:!0,children:"Pending"})})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Update"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:e.onFormEditClose,children:"cancel"})})})]})})]})};var Ea,La=e=>{const[t,a]=Object(s.useState)(!0),[l,o]=Object(s.useState)(!1),[n,r]=Object(s.useState)({}),[i,j]=Object(s.useState)(!1),m=localStorage.getItem("Email"),{socket:h}=Object(s.useContext)(te);return Object(y.jsx)(c.a.Fragment,{children:t?l?Object(y.jsx)(Ca,{onLeaveApplicationEmpEditUpdate:(e,t)=>{t.preventDefault(),console.log("zero data",t.target[0].value);let s={Leavetype:t.target[0].value,FromDate:t.target[1].value,ToDate:t.target[2].value,Status:t.target[3].value,managerEmail:t.target[4].value,hrEmail:t.target[5].value,Reasonforleave:t.target[6].value};console.log("update",s),d.a.put("".concat(R,"/api/leave-application-emp/")+localStorage.getItem("_id"),s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(!1),a(!0)})).catch((e=>{console.log(e)})),o(!1)},onFormEditClose:()=>{console.log("clicked5"),o(!1)},editData:n}):Object(y.jsx)(Da,{onAddLeaveApplicationEmp:()=>{console.log("clicked1"),a(!1)},onEditLeaveApplicationEmp:e=>{console.log(e),console.log("clicked6"),o(!0),r(e)},data:e.data,leaveRequestDone:i}):Object(y.jsx)(ka,{onLeaveApplicationEmpSubmit:e=>{e.preventDefault(),console.log("id",e.target[0].value,e.target[1].value),a(!0);let t={Leavetype:e.target[0].value,FromDate:e.target[1].value,ToDate:e.target[2].value,Status:e.target[3].value,managerEmail:e.target[4].value,hrEmail:e.target[5].value,Reasonforleave:e.target[6].value};console.log(t),d.a.post("".concat(R,"/api/leave-application-emp/")+localStorage.getItem("_id"),t,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(!1),a(!0),j(!i);const s={taskId:Object(vt.a)(),managerEmail:t.managerEmail,hrEmail:t.hrEmail,message:"Leave request by ".concat(m),status:"unseen",path:"leaveApplication"};h.emit("leaveNotification",s)})).catch((e=>{console.log(e)}))},onFormClose:()=>{console.log("clicked1"),a(!0)},onGenderChange:()=>{}})})};const Ia=Object(V.a)(Ea||(Ea=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var Aa,Ta=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,n]=Object(s.useState)(""),[r,i]=Object(s.useState)(null),[j,m]=Object(s.useState)("asc"),[h,b]=Object(s.useState)([]),[p,x]=Object(s.useState)([]),u=()=>{d.a.get("".concat(R,"/api/leave-application-hr/"),{headers:{authorization:localStorage.getItem("token")||""}}).then((t=>{const s=t.data;a(s),l(!1);const c=s.map((e=>{var t,a,s,c,l,o,n,r;return{data:e,empID:null===e||void 0===e||null===(t=e.employee)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.empID,Name:(null===e||void 0===e||null===(s=e.employee)||void 0===s||null===(c=s[0])||void 0===c?void 0:c.FirstName)+" "+(null===e||void 0===e||null===(l=e.employee)||void 0===l||null===(o=l[0])||void 0===o?void 0:o.LastName),Leavetype:null===e||void 0===e?void 0:e.Leavetype,FromDate:null===e||void 0===e||null===(n=e.FromDate)||void 0===n?void 0:n.slice(0,10),ToDate:null===e||void 0===e||null===(r=e.ToDate)||void 0===r?void 0:r.slice(0,10),Reasonforleave:null===e||void 0===e?void 0:e.Reasonforleave,Status:g(null===e||void 0===e?void 0:e.Status)}}));b(c),x(c),e.updateTotalLeaves(s.length)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{u()}),[]),Object(s.useEffect)((()=>{O()}),[o]);const O=()=>{const e=h.filter((e=>e.Name.toLowerCase().includes(o.toLowerCase())));x(e)},g=e=>1==e?"Pending":2==e?"Approved":3==e?"Rejected":void 0,f=e=>r===e?"asc"===j?"\u25b4":"\u25be":null,v=e=>{let t="asc";r===e&&"asc"===j&&(t="desc");const a=[...p];a.sort(((t,a)=>{const s=t[e],c=a[e];let l=0;return s>c?l=1:s<c&&(l=-1),"desc"===j?-1*l:l})),x(a),i(e),m(t)},w=p.filter((e=>"Approved"===e.Status)).length;return Object(y.jsxs)("div",{className:"container-fluid",children:[Object(y.jsx)("div",{className:"d-flex flex-column justify-between",children:Object(y.jsxs)("div",{className:"d-flex justify-content-between aline-items-center",children:[Object(y.jsxs)("h4",{className:"fw-bold my-auto text-muted",children:["Approved Leaves"," ",Object(y.jsxs)("span",{className:"text-primary",children:["(",w,")"]})]}),Object(y.jsxs)("div",{className:"d-flex gap-2 justify-content-between py-3",children:[Object(y.jsxs)("button",{className:"btn px-3 shadow-sm d-flex justify-center  aline-center gap-2",onClick:()=>{if(window.confirm("Are you sure to download Leave record? ")){const e=297,t=210,a=new K.default({orientation:"landscape",unit:"mm",format:[e,t]});a.setFontSize(18),a.text("Employee Leave Details",e/2,15,"center");const s=["Emp Id","Leave Type","Start Date","End Date","Remarks","Status"],c=p.map((e=>[e.empID,e.Leavetype,e.FromDate,e.ToDate,e.Reasonforleave,e.Status,""]));a.setFontSize(12),a.autoTable({head:[s],body:c,startY:25}),a.save("leaveApplication_data.pdf")}},children:[Object(y.jsx)(N.c,{className:"text-danger fs-6"}),Object(y.jsx)("p",{className:"my-auto fs-6 fw-bold",children:"PDF"})]}),Object(y.jsxs)("div",{className:"searchholder p-0 d-flex  position-relative",children:[Object(y.jsx)("input",{style:{height:"100%",width:"100%",paddingLeft:"15%"},className:"form-control border border-primary border-2",type:"text",placeholder:"Search by name",value:o,onChange:e=>n(e.target.value)}),Object(y.jsx)(ct.b,{style:{position:"absolute",top:"30%",left:"5%"}})]})]})]})}),Object(y.jsx)("div",{id:"clear-both"}),c?Object(y.jsx)("div",{id:"loading-bar",children:Object(y.jsx)(ne.a,{css:Ia,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(y.jsx)("div",{className:"mt-3",style:{overflow:"auto",height:"85vh",width:"100%",scrollbarWidth:"thin"},children:Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsxs)("th",{style:{cursor:"pointer",background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},onClick:()=>v("empID"),children:["Employee ID ",f("empID")]}),Object(y.jsxs)("th",{style:{cursor:"pointer",background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},onClick:()=>v("Leavetype"),children:["Leave Type ",f("Leavetype")]}),Object(y.jsxs)("th",{style:{cursor:"pointer",background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},onClick:()=>v("FromDate"),children:["Start Date ",f("FromDate")]}),Object(y.jsxs)("th",{style:{cursor:"pointer",background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},onClick:()=>v("ToDate"),children:["End Date ",f("ToDate")]}),Object(y.jsxs)("th",{style:{cursor:"pointer",background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},onClick:()=>v("Status"),children:["Status ",f("Status")]}),Object(y.jsxs)("th",{style:{cursor:"pointer",background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},onClick:()=>v("Reasonforleave"),children:["Remarks ",f("Reasonforleave")]}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",textAlign:"center"},children:"Actions"})]})}),Object(y.jsx)("tbody",{children:p.length>0?p.filter((e=>"Approved"==e.Status)).map(((t,a)=>{var s,c,l,o;return Object(y.jsxs)("tr",{className:"fw-bold",children:[Object(y.jsx)("td",{className:"py-1",children:Object(y.jsxs)("div",{className:"d-flex aline-center gap-2",children:[Object(y.jsx)("div",{style:{height:"40px",width:"40px"},children:Object(y.jsx)("img",{style:{height:"100%",width:"100%",borderRadius:"50%",overflow:"hidden",objectFit:"cover"},src:null!==t&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&null!==(c=s.profile)&&void 0!==c&&c.image_url?null===t||void 0===t||null===(l=t.data)||void 0===l||null===(o=l.profile)||void 0===o?void 0:o.image_url:"https://a.storyblok.com/f/191576/1200x800/215e59568f/round_profil_picture_after_.webp",alt:""})}),Object(y.jsxs)("div",{className:"d-flex flex-column",children:[Object(y.jsx)("span",{style:{fontSize:"12px"},className:"fw-bold",children:t.empID}),Object(y.jsx)("span",{style:{fontSize:"15px"},className:"fw-bold text-capitalize text-primary",children:t.Name})]})]})}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"py-1 text-muted",children:t.Leavetype}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"py-1 text-muted",children:t.FromDate}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"py-1 text-muted",children:t.ToDate}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"py-1  ",children:Object(y.jsx)("span",{className:"bg-success text-white px-2 py-1 rounded-5",children:t.Status})}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"py-1 text-muted",children:t.Reasonforleave}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"py-1 text-muted",children:Object(y.jsxs)("div",{className:"d-flex gap-3 py-2",style:{cursor:"pointer"},children:[Object(y.jsx)("p",{title:"Update",className:"m-auto text-primary",children:Object(y.jsx)(W.a,{className:"m-auto",icon:J.b,onClick:()=>e.onEditLeaveApplicationHR(t.data)})}),Object(y.jsx)("p",{title:"Delete",className:"m-auto text-danger",children:Object(y.jsx)(W.a,{className:"m-auto",icon:J.g,onClick:()=>{return e=t.data.employee[0]._id,a=t.data._id,void(window.confirm("Are you sure to delete this record? ")&&d.a.delete("".concat(R,"/api/leave-application-hr/")+e+"/"+a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{u()})).catch((e=>{console.log(e)})));var e,a}})})]})})]},a)})):Object(y.jsxs)("div",{style:{height:"30vh",width:"94%",position:"absolute"},className:"d-flex flex-column justify-content-center align-items-center gap-1",children:[Object(y.jsxs)("span",{className:"fw-bolder ",style:{fontSize:"2rem"},children:[Object(y.jsx)(D.h,{className:"text-danger",style:{fontSize:"2.3rem"}})," ","OOPS!"]}),Object(y.jsx)("h6",{className:"p-0 m-0",children:"Record not found."})]})})]})})]})};const Fa=Object(V.a)(Aa||(Aa=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var Ra=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,n]=Object(s.useState)(""),[r,i]=Object(s.useState)(null),[j,m]=Object(s.useState)("asc"),[h,b]=Object(s.useState)([]),[p,x]=Object(s.useState)([]),u=()=>{d.a.get("".concat(R,"/api/leave-application-hr/"),{headers:{authorization:localStorage.getItem("token")||""}}).then((t=>{const s=t.data;a(s),l(!1);const c=s.map((e=>{var t,a,s,c,l,o,n,r;return{data:e,empID:null===e||void 0===e||null===(t=e.employee)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.empID,Name:(null===e||void 0===e||null===(s=e.employee)||void 0===s||null===(c=s[0])||void 0===c?void 0:c.FirstName)+" "+(null===e||void 0===e||null===(l=e.employee)||void 0===l||null===(o=l[0])||void 0===o?void 0:o.LastName),Leavetype:null===e||void 0===e?void 0:e.Leavetype,FromDate:null===e||void 0===e||null===(n=e.FromDate)||void 0===n?void 0:n.slice(0,10),ToDate:null===e||void 0===e||null===(r=e.ToDate)||void 0===r?void 0:r.slice(0,10),Reasonforleave:null===e||void 0===e?void 0:e.Reasonforleave,Status:g(null===e||void 0===e?void 0:e.Status)}}));b(c),x(c),e.updateTotalLeaves(s.length)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{u()}),[]),Object(s.useEffect)((()=>{O()}),[o]);const O=()=>{const e=h.filter((e=>e.Name.toLowerCase().includes(o.toLowerCase())));x(e)},g=e=>1==e?"Pending":2==e?"Approved":3==e?"Rejected":void 0,f=e=>r===e?"asc"===j?"\u25b4":"\u25be":null,v=e=>{let t="asc";r===e&&"asc"===j&&(t="desc");const a=[...p];a.sort(((t,a)=>{const s=t[e],c=a[e];let l=0;return s>c?l=1:s<c&&(l=-1),"desc"===j?-1*l:l})),x(a),i(e),m(t)},w=p.filter((e=>"Rejected"===e.Status)).length;return Object(y.jsxs)("div",{className:"container-fluid",children:[Object(y.jsx)("div",{className:"d-flex flex-column justify-between",children:Object(y.jsxs)("div",{className:"d-flex justify-content-between aline-items-center",children:[Object(y.jsxs)("h4",{className:"fw-bold  my-auto text-muted",children:["Rejected Leaves"," ",Object(y.jsxs)("span",{className:"text-danger",children:["(",w,")"]})]}),Object(y.jsxs)("div",{className:"d-flex gap-2 justify-content-between py-3",children:[Object(y.jsxs)("button",{className:"btn px-3 shadow-sm d-flex justify-center  aline-center gap-2",onClick:()=>{if(window.confirm("Are you sure to download Leave record? ")){const e=297,t=210,a=new K.default({orientation:"landscape",unit:"mm",format:[e,t]});a.setFontSize(18),a.text("Employee Leave Details",e/2,15,"center");const s=["Emp Id","Leave Type","Start Date","End Date","Remarks","Status"],c=p.map((e=>[e.empID,e.Leavetype,e.FromDate,e.ToDate,e.Reasonforleave,e.Status,""]));a.setFontSize(12),a.autoTable({head:[s],body:c,startY:25}),a.save("leaveApplication_data.pdf")}},children:[Object(y.jsx)(N.c,{className:"text-danger fs-6"}),Object(y.jsx)("p",{className:"my-auto fs-6 fw-bold",children:"PDF"})]}),Object(y.jsxs)("div",{className:"searchholder p-0 d-flex  position-relative",children:[Object(y.jsx)("input",{style:{height:"100%",width:"100%",paddingLeft:"15%"},className:"form-control border border-primary border-2",type:"text",placeholder:"Search by name",value:o,onChange:e=>n(e.target.value)}),Object(y.jsx)(ct.b,{style:{position:"absolute",top:"30%",left:"5%"}})]})]})]})}),Object(y.jsx)("div",{id:"clear-both"}),c?Object(y.jsx)("div",{id:"loading-bar",children:Object(y.jsx)(ne.a,{css:Fa,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(y.jsx)("div",{className:"mt-3",style:{overflow:"auto",height:"85vh",width:"100%",scrollbarWidth:"thin"},children:Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsxs)("th",{style:{cursor:"pointer",background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},onClick:()=>v("empID"),children:["Employee ID ",f("empID")]}),Object(y.jsxs)("th",{style:{cursor:"pointer",background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},onClick:()=>v("Leavetype"),children:["Leave Type ",f("Leavetype")]}),Object(y.jsxs)("th",{style:{cursor:"pointer",background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},onClick:()=>v("FromDate"),children:["Start Date ",f("FromDate")]}),Object(y.jsxs)("th",{style:{cursor:"pointer",background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},onClick:()=>v("ToDate"),children:["End Date ",f("ToDate")]}),Object(y.jsxs)("th",{style:{cursor:"pointer",background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},onClick:()=>v("Status"),children:["Status ",f("Status")]}),Object(y.jsxs)("th",{style:{cursor:"pointer",background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},onClick:()=>v("Reasonforleave"),children:["Remarks ",f("Reasonforleave")]}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",textAlign:"center"},children:"Actions"})]})}),Object(y.jsx)("tbody",{children:p.length>0?p.filter((e=>"Rejected"==e.Status)).map(((t,a)=>{var s,c,l,o;return Object(y.jsxs)("tr",{className:"fw-bold",children:[Object(y.jsx)("td",{className:"py-1",children:Object(y.jsxs)("div",{className:"d-flex aline-center gap-2",children:[Object(y.jsx)("div",{style:{height:"40px",width:"40px"},children:Object(y.jsx)("img",{style:{height:"100%",width:"100%",borderRadius:"50%",overflow:"hidden",objectFit:"cover"},src:null!==t&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&null!==(c=s.profile)&&void 0!==c&&c.image_url?null===t||void 0===t||null===(l=t.data)||void 0===l||null===(o=l.profile)||void 0===o?void 0:o.image_url:"https://a.storyblok.com/f/191576/1200x800/215e59568f/round_profil_picture_after_.webp",alt:""})}),Object(y.jsxs)("div",{className:"d-flex flex-column",children:[Object(y.jsx)("span",{style:{fontSize:"12px"},className:"fw-bold",children:t.empID}),Object(y.jsx)("span",{style:{fontSize:"15px"},className:"fw-bold text-capitalize text-primary",children:t.Name})]})]})}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"py-1 text-muted",children:t.Leavetype}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"py-1 text-muted",children:t.FromDate}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"py-1 text-muted",children:t.ToDate}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"py-1  ",children:Object(y.jsx)("span",{className:"bg-danger text-white px-2 py-1 rounded-5",children:t.Status})}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"py-1 text-muted",children:t.Reasonforleave}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"py-1 text-muted",children:Object(y.jsxs)("div",{className:"d-flex gap-3 py-2",style:{cursor:"pointer"},children:[Object(y.jsx)("p",{title:"Update",className:"m-auto text-primary",children:Object(y.jsx)(W.a,{className:"m-auto",icon:J.b,onClick:()=>e.onEditLeaveApplicationHR(t.data)})}),Object(y.jsx)("p",{title:"Delete",className:"m-auto text-danger",children:Object(y.jsx)(W.a,{className:"m-auto",icon:J.g,onClick:()=>{return e=t.data.employee[0]._id,a=t.data._id,void(window.confirm("Are you sure to delete this record? ")&&d.a.delete("".concat(R,"/api/leave-application-hr/")+e+"/"+a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{u()})).catch((e=>{console.log(e)})));var e,a}})})]})})]},a)})):Object(y.jsxs)("div",{style:{height:"30vh",width:"94%",position:"absolute"},className:"d-flex flex-column justify-content-center align-items-center gap-1",children:[Object(y.jsxs)("span",{className:"fw-bolder ",style:{fontSize:"2rem"},children:[Object(y.jsx)(D.h,{className:"text-danger",style:{fontSize:"2.3rem"}})," ","OOPS!"]}),Object(y.jsx)("h6",{className:"p-0 m-0",children:"Record not found."})]})})]})})]})},Pa=a(70);a(475);var Ma=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)([]),[l,o]=Object(s.useState)(null),{socket:n}=Object(s.useContext)(te),r=localStorage.getItem("_id"),i=localStorage.getItem("Email"),j=()=>{d.a.get("".concat(R,"/api/particularEmployee/").concat(r),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{o(e.data.Notification)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{j()}),[]),Object(s.useEffect)((()=>{n&&n.on("taskNotificationReceived",(()=>{j()}))}),[n]),Object(s.useEffect)((()=>{t(l&&a.length===l.length)}),[a,l]);return console.log(l),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("form",{className:"d-flex col-8 flex-column gap-3",children:Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"p-2",children:[" ",Object(y.jsx)("input",{type:"checkbox",name:"",id:"",onChange:()=>{t(!e),c(e?[]:[...l])},checked:e})," ",Object(y.jsx)("span",{children:"Select All"})]}),Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"col",children:"Select"}),Object(y.jsx)("th",{scope:"col",children:"task Name"}),Object(y.jsx)("th",{scope:"col",children:"Sender"}),Object(y.jsx)("th",{scope:"col",children:"Status"}),Object(y.jsx)("th",{scope:"col",children:"Action"})]})}),Object(y.jsx)("tbody",{children:l&&l.map(((e,t)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"row",children:Object(y.jsx)("input",{type:"checkbox",name:"",id:"",onChange:()=>(e=>{const t=a.some((t=>t.taskId===e.taskId));c(t?t=>t.filter((t=>t.taskId!==e.taskId)):[...a,e])})(e),checked:a.some((t=>t.taskId===e.taskId))})}),Object(y.jsx)("td",{children:e.taskName}),Object(y.jsx)("td",{children:e.senderMail}),"unseen"===e.status?Object(y.jsx)("td",{children:"Unread"}):Object(y.jsx)("td",{children:"read"}),Object(y.jsx)("td",{children:Object(y.jsx)(Pa.a,{onClick:()=>(e=>{console.log(e),d.a.post("".concat(R,"/api/notificationDeleteHandler/").concat(e),{email:i},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{o(e.data.result.Notification),c([]),console.log("emittted"),n.emit("notificationPageUpdate",!0)})).catch((e=>{console.log(e)}))})(e.taskId),className:"bin"})})]},t)))})]})]})})}),Object(y.jsx)("button",{className:"Notification_delete",onClick:()=>{if(a.length>0){const t=a.map((e=>e.taskId)),s={employeeMail:i,tasks:t};e?l.length>0&&(console.log("clearALL"),d.a.post("".concat(R,"/api/selectedNotificationDelete"),{email:i},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{console.log(e),o(e.data.result.Notification),n.emit("notificationPageUpdate",!0)})).catch((e=>{console.log(e)}))):d.a.post("".concat(R,"/api/multiSelectedNotificationDelete"),s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{o(e.data.result.Notification),c([]),console.log("emittted"),n.emit("notificationPageUpdate",!0)})).catch((e=>{console.log(e)}))}},children:"Delete"})]})};var za=()=>{const[e,t]=Object(s.useState)({notice:"",attachments:null});return Object(y.jsx)("div",{style:{zIndex:"1"},className:"p-4 d-flex flex-column ",children:Object(y.jsxs)("form",{className:"row p-0 p-md-3 m-auto",children:[Object(y.jsx)("h2",{className:"fw-bold text-muted ",children:" \ud83d\udd8b\ufe0fSend new Notice"}),Object(y.jsx)("p",{className:"text-muted",children:"Unleash the Power of Notice: Communicate with Impact, Ignite Change!"}),Object(y.jsx)("div",{className:"col-12 mt-5 d-flex flex-column",children:Object(y.jsxs)(me.a.Group,{controlId:"Taskname",children:[Object(y.jsx)(me.a.Label,{className:"fw-bold",children:"Notice"}),Object(y.jsx)("input",{className:"form-control",type:"text",required:!0,placeholder:"Notice",value:e.notice,onChange:a=>t({...e,notice:a.target.value})})]})}),Object(y.jsx)("div",{children:Object(y.jsxs)(me.a.Group,{controlId:"Attachments",children:[Object(y.jsx)(me.a.Label,{className:"fw-bold mt-3",children:"Attachments"}),Object(y.jsx)("input",{className:"form-control",type:"file",multiple:!0,required:!0,onChange:a=>t({...e,attachments:a.target.files[0]})})]})}),Object(y.jsx)(re.a,{className:"mt-4 w-100 fw-bold text-white",variant:"info",onClick:async()=>{let t=new FormData;const a=Object(vt.a)();t.append("noticeId",a),t.append("notice",e.notice),t.append("file",e.attachments),d.a.post("".concat(R,"/api/notice"),t).then((e=>{alert("Notice send")})).catch((e=>{console.log(e)}))},disabled:!(""!==e.notice.trim()),children:"Send Notice"})]})})};var Ba=()=>Object(y.jsx)(Na,{children:Object(y.jsxs)("div",{id:"main-area",children:[Object(y.jsx)("div",{id:"sidebar-top-content"}),Object(y.jsxs)(r.Switch,{children:[Object(y.jsx)(r.Route,{path:"/admin/dashboard",exact:!0,component:oe}),Object(y.jsx)(r.Route,{path:"/admin/role",exact:!0,component:ye}),Object(y.jsx)(r.Route,{path:"/admin/position",exact:!0,component:Le}),Object(y.jsx)(r.Route,{path:"/admin/department",exact:!0,component:Me}),Object(y.jsx)(r.Route,{path:"/admin/portal-master",exact:!0,component:Je}),Object(y.jsx)(r.Route,{path:"/admin/project-bid",exact:!0,component:st}),Object(y.jsx)(r.Route,{path:"/admin/salary",exact:!0,component:jt}),Object(y.jsx)(r.Route,{path:"/admin/user",exact:!0,component:gt}),Object(y.jsx)(r.Route,{path:"/admin/task",exact:!0,component:Nt}),Object(y.jsx)(r.Route,{path:"/admin/taskassign",exact:!0,component:Et}),Object(y.jsx)(r.Route,{path:"/admin/taskstatus",exact:!0,component:Dt}),Object(y.jsx)(r.Route,{path:"/admin/taskcancle",exact:!0,component:St}),Object(y.jsx)(r.Route,{path:"/admin/leaveCal",exact:!0,component:Bt}),Object(y.jsx)(r.Route,{path:"/admin/country",exact:!0,component:Xt}),Object(y.jsx)(r.Route,{path:"/admin/state",exact:!0,component:ca}),Object(y.jsx)(r.Route,{path:"/admin/city",exact:!0,component:ha}),Object(y.jsx)(r.Route,{path:"/admin/company",exact:!0,component:ya}),Object(y.jsx)(r.Route,{path:"/admin/taskcomplete",exact:!0,component:kt}),Object(y.jsx)(r.Route,{path:"/admin/taskreject",exact:!0,component:Ct}),Object(y.jsx)(r.Route,{path:"/admin/adminAttendance",exact:!0,component:Ft}),Object(y.jsx)(r.Route,{path:"/admin/adminviewAttenDance",exact:!0,component:Rt}),Object(y.jsx)(r.Route,{path:"/admin/applyLeave",exact:!0,component:La}),Object(y.jsx)(r.Route,{path:"/admin/notice",exact:!0,component:za}),Object(y.jsx)(r.Route,{path:"/admin/leaveAccepted",exact:!0,component:Ta}),Object(y.jsx)(r.Route,{path:"/admin/pendingLeave",exact:!0,component:xt}),Object(y.jsx)(r.Route,{path:"/admin/leaveRejected",exact:!0,component:Ra}),Object(y.jsx)(r.Route,{path:"/admin/notification",exact:!0,component:Ma}),Object(y.jsx)(r.Route,{component:yt})]})]})}),_a=a(512),Ga=a.p+"static/media/logo.2570e426.png",Ha=(a(476),a(246)),Ua=a.n(Ha);var qa=e=>{const[t,a]=Object(s.useState)(null),c=Object(r.useHistory)(),l=Object(H.useLocation)().pathname.split("/")[1],[o,n]=Object(s.useState)([]),[i]=Object(s.useState)(""),[j,m]=Object(s.useState)(!1),{socket:h}=Object(s.useContext)(te),b=localStorage.getItem("_id"),p=localStorage.getItem("Email"),x=e=>{Ua()({title:"Kasper",subtitle:e,duration:4e3,icon:Ga,native:!0})},u=()=>{d.a.get("".concat(R,"/api/particularEmployee/").concat(b),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{console.log(e.data.Notification),i(e.data),n(e.data.Notification)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{u()}),[]);Object(s.useEffect)((()=>{h.emit("userConnected",{email:p}),"Notification"in window&&Notification.requestPermission().then((e=>{"granted"===e&&console.log("Notification permission granted")})),h&&(h.on("taskNotificationReceived",(e=>{if(console.log(e.Account),4===e.Account)e.managerEmail===p&&(n((t=>[e,...t])),x(e.message));else if(2===e.Account||3===e.Account){console.log(e),e.employeesEmail.filter((t=>t===p&&t!==e.senderMail)).length>0&&(n((t=>[e,...t])),x(e.message))}else 1===e.Account&&(console.log(e),e.adminMail===p&&(n((t=>[e,...t])),x(e.message)))})),h.on("notificationPageUpdate",(e=>{e&&u()})),h.on("leaveNotificationReceived",(e=>{const{message:t,status:a,path:s,taskId:c,managerEmail:l,hrEmail:o}=e,r={message:t,status:a,path:s,taskId:c,managerEmail:l,hrEmail:o};n((e=>[r,...e])),x(r.message)})),h.on("leaveManagerStatusNotificationReceived",(e=>{const{message:t,status:a,path:s,taskId:c,employeeEmail:o,hrEmail:r,managerEmail:i}=e;if("employee"===l){const e={message:t,status:a,path:s,taskId:c,employeeEmail:o,hrEmail:r};n((t=>[e,...t])),x(e.message)}else if("hr"===l){const e={message:t,status:a,path:s,taskId:c,employeeEmail:o,hrEmail:r};n((t=>[e,...t])),x(e.message)}else if("manager"===l){const e={message:t,status:a,path:s,taskId:c,employeeEmail:o,managerEmail:i};n((t=>[e,...t])),x(e.message)}})))}),[h]);let O=o.filter(((e,t,a)=>"unseen"===e.status&&a.findIndex((t=>t.taskId===e.taskId))===t));return Object(y.jsx)("div",{className:"shadow-sm px-2 py-1 bg-white",style:{height:"fit-content"},children:Object(y.jsxs)("nav",{className:"d-flex aline-items-center justify-content-between",children:[Object(y.jsx)(_a.a.Brand,{className:"my-auto",style:{width:"120px"},children:Object(y.jsx)("img",{style:{width:"100%"},src:Ga,alt:""})}),Object(y.jsxs)("div",{className:"ml-auto my-auto d-flex align-items-center gap-3",children:[Object(y.jsxs)("div",{className:"position-relative",onClick:()=>m(!j),children:[Object(y.jsx)(ct.a,{className:"fs-4"}),o.length>0&&O.length>0&&Object(y.jsx)("p",{style:{height:"1.3rem",width:"1.3rem",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:"-35%",right:"-30%",borderRadius:"50% 50% 50% 0",scale:".7"},className:"bg-primary text-white fw-bold",children:O.length}),j&&Object(y.jsxs)("span",{className:"notification-list",children:[j&&o.length>0&&o.slice(0,10).filter(((e,t,a)=>a.findIndex((t=>t.taskId===e.taskId))===t)).map(((e,t)=>Object(y.jsxs)("span",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:".1rem"},className:"unseen"===e.status?"new":"old",children:[Object(y.jsx)("h6",{style:{fontSize:"0.9rem"},onClick:"unseen"===e.status?()=>((e,t)=>{console.log(e),d.a.post("".concat(R,"/api/notificationStatusUpdate/").concat(e),{email:p},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{i(e.data.result),n(e.data.result.Notification),c.push("/".concat(l,"/").concat(t))})).catch((e=>{console.log(e)}))})(e.taskId,e.path):()=>c.push("/".concat(l,"/").concat(e.path)),children:e.message}),Object(y.jsx)(X.b,{onClick:t=>((e=>{d.a.post("".concat(R,"/api/notificationDeleteHandler/").concat(e),{email:p},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{console.log(e),i(e.data.result),n(e.data.result.Notification)})).catch((e=>{console.log(e)}))})(e.taskId),t.stopPropagation()),style:{cursor:"pointer"},className:"closing"})]}))),j&&o.length>0&&Object(y.jsx)("h4",{className:"viewAll",onClick:()=>{o.length>0&&d.a.post("".concat(R,"/api/selectedNotificationDelete"),{email:p},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{console.log(e),n(e.data.result.Notification)})).catch((e=>{console.log(e)}))},children:"Clear All"})]})]}),Object(y.jsxs)("span",{className:"navbar-right-content my-auto d-flex  fw-bold",children:[Object(y.jsxs)("div",{onMouseEnter:()=>a("name"),onMouseLeave:()=>a(null),style:{height:"45px",width:"45px",border:"1px solid blue",borderRadius:"50%",position:"relative"},children:[Object(y.jsx)("img",{style:{height:"100%",width:"100%",objectFit:"cover",border:"1px solid red",borderRadius:"50%"},src:"https://www.pngitem.com/pimgs/m/394-3947057_circular-profile-picture-png-transparent-png.png",alt:""}),Object(y.jsxs)("div",{className:"bg-white shadow pb-3 pt-1 px-3 flex-column gap-3",style:{position:"absolute",zIndex:"100",width:"fit-content",right:"0",top:"90%",display:"name"===t?"flex":"none"},children:[Object(y.jsxs)("span",{children:[" ",Object(y.jsxs)("p",{className:"m-0 p-0",children:["Hello"," ",Object(y.jsx)("span",{className:"text-capitalize m-0 p-0 text-primary",children:e.loginInfo.Name})," "]}),Object(y.jsx)("p",{style:{fontSize:".9rem"},className:"m-0 text-muted p-0",children:e.loginInfo.Email})]}),Object(y.jsx)("p",{children:"Profile"}),Object(y.jsxs)("button",{onClick:e.onLogout,style:{cursor:"pointer"},className:"btn w-100 p-0 m-0 border-0 d-flex justify-content-between aline-items-center navbar-right-content",children:["Logout",Object(y.jsx)(W.a,{className:"my-auto fs-6 text-muted",icon:J.f})]})]})]}),Object(y.jsx)("span",{className:"text-muted"})]})]})]})})};a(480);var Ya=e=>{let{children:t}=e;return Object(y.jsx)("div",{style:{minHeight:"100vh",maxHeight:"100vh",minWidth:"100%",maxWidth:"100%",overflow:"hidden"},children:t})};var Wa=e=>{const[t,a]=Object(s.useState)(!0);return Object(y.jsx)(Ya,{children:Object(y.jsx)(n.a,{children:Object(y.jsxs)("div",{id:"outer-main-div",children:[Object(y.jsx)("div",{id:"outer-nav",children:Object(y.jsx)(qa,{loginInfo:e.data,checked:t,handleChange:()=>{console.log("switch"),t?document.getElementById("sidebar").setAttribute("class","display-none"):document.getElementById("sidebar").setAttribute("class","display-block"),a(!t)},onLogout:e.onLogout})}),Object(y.jsxs)("div",{className:"d-flex",style:{maxHeight:"100vh"},id:"main-non-nav",children:[Object(y.jsx)(A,{}),Object(y.jsx)("div",{style:{overflow:"hidden"},className:"HrDashBG w-100",id:"main-area",children:Object(y.jsx)(Ba,{})})]})]})})})};a(234);const Ja={outline:"none",border:"none",height:"3rem"},Va={width:"250px",zIndex:"5",borderLeft:"5px solid white"};var Xa=e=>{const[t,a]=Object(s.useState)(null),[c,l]=Object(s.useState)(!1),o=[{icon:Object(y.jsx)(D.c,{}),name:"Dashboard",navLinks:[{to:"/hr/dashboard",label:"Dashboard"}]},{icon:Object(y.jsx)(f.k,{}),name:"Employee",navLinks:[{to:"/hr/employee",label:"Employee List"},{to:"/hr/salary",label:"Salary"}]},{icon:Object(y.jsx)(w.a,{}),name:"Attendance",navLinks:[{to:"/hr/attenDance",label:"Create Attendance"},{to:"/hr/todaysAttendance",label:"TodaysAttendance"},{to:"/hr/AttendanceRegister",label:"Attendance Register"},{to:"/hr/viewAttenDance",label:"View Attendance"},{to:"/hr/manualAttand",label:"All Emp Attendance"}]},{icon:Object(y.jsx)(C.a,{}),name:"Leave",navLinks:[{to:"/hr/hrLeave",label:"Apply Leave"},{to:"/hr/leaveApplication",label:"Pending "},{to:"/hr/leaveAccepted",label:"Accepted "},{to:"/hr/leaveRejected",label:"Rejected "}]},{icon:Object(y.jsx)(D.k,{}),name:"Task",navLinks:[{to:"/hr/newTask",label:"Assign New Task"},{to:"/hr/ActiveTask",label:"Active Task"},{to:"/hr/taskcancle",label:"Cancelled Task"},{to:"/hr/taskcomplete",label:"Completed Task"},{to:"/hr/rejectTask",label:"Rejected Task"}]},{icon:Object(y.jsx)(S.a,{}),name:"Access",navLinks:[{to:"/hr/role",label:"Role"},{to:"/hr/position",label:"Position"},{to:"/hr/department",label:"Department"}]},{icon:Object(y.jsx)(N.a,{}),name:"Company",navLinks:[{to:"/hr/company",label:"Company List"}]},{icon:Object(y.jsx)(f.a,{}),name:"Address",navLinks:[{to:"/hr/country",label:"Country"},{to:"/hr/state",label:"State"},{to:"/hr/city",label:"City"}]},{icon:Object(y.jsx)(D.f,{}),name:"Holiday",navLinks:[{to:"/hr/holiday",label:"Leave Calendar"}]},{icon:Object(y.jsx)(D.f,{}),name:"Profile",navLinks:[{to:"/hr/"+localStorage.getItem("_id")+"/profile",label:"Profile"}]}];return Object(y.jsxs)("div",{style:{minHeight:"100%",maxHeight:"100%",overflowY:"auto",overflow:"inherit",width:"fit-content",backgroundColor:"var(--primaryDashColorDark)"},className:"d-flex  flex-column gap-2 p-3",children:[Object(y.jsxs)("h3",{style:{borderBottom:"3px solid green"},className:"fw-bolder text-success justify-content-between py-2 d-flex gap-2",children:[Object(y.jsx)("p",{style:{display:c?"block":"none"},className:"my-auto",children:"HR"})," ",Object(y.jsx)("span",{onClick:()=>{l(!c)},style:{border:"none",outline:"none",cursor:"pointer",transform:"rotate(".concat(c?"0deg":"180deg",")")},className:"my-auto p-0 fs-2 text-white",children:Object(y.jsx)(D.g,{})})]}),o.map((e=>{let{icon:s,name:l,navLinks:o}=e;return Object(y.jsxs)("div",{onMouseEnter:()=>a(l),onMouseLeave:()=>a(null),className:"position-relative",children:[Object(y.jsxs)("button",{style:Ja,className:"btn p-0 text-white text-start fw-bold gap-2 justify-between w-100 d-flex justify-content-between",children:[Object(y.jsxs)("div",{style:{width:"fit-content"},className:"d-flex my-auto gap-2",children:[Object(y.jsx)("p",{style:{height:"30px",width:"30px",alignItems:"center",color:t===l?"#FF9209":"white"},className:"m-auto d-flex rounded-5  justify-content-center fs-3",children:s}),Object(y.jsx)("p",{style:{display:c?"block":"none"},className:"my-auto",children:l})]}),Object(y.jsx)("span",{style:{transform:"rotate(".concat(t===l?"135deg":"0deg",")"),transition:"1s ease",display:c?"block":"none"},className:"my-auto fs-4",children:"+"})]}),Object(y.jsx)("div",{style:{...Va,display:t===l?"flex":"none",backgroundColor:"var(--primaryDashColorDark)",width:"fit-content"},className:"flex-column position-absolute top-0 start-100 py-2 px-2 gap-2 mt-2  ",children:o.map((e=>Object(y.jsx)(n.b,{className:"text-decoration-none",to:e.to,children:Object(y.jsxs)("div",{className:"text-decoration-none flex-nowrap text-start fw-bolder gap-3 text-white d-flex justify-content-between ",children:[Object(y.jsxs)("div",{style:{borderBottom:"1px solid white"},className:"d-flex gap-1 flex-nowrap",children:[Object(y.jsx)("p",{className:"m-0",children:e.icon}),Object(y.jsx)("p",{style:{whiteSpace:"pre"},className:"m-auto",children:e.label})]}),Object(y.jsx)("span",{style:{},className:"my-auto ",children:"\u203a"})]})},e.to)))})]},l)}))]})};a(481);var Ka=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)([]),[o,n]=Object(s.useState)([]),[r,i]=Object(s.useState)([]),[j,m]=Object(s.useState)([]),[h,b]=Object(s.useState)([]);Object(s.useEffect)((()=>{x(),u(),O(),p()}),[]);const p=()=>{d.a.get("".concat(R,"/api/employee"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{Array.isArray(e.data)?(i([]),e.data.forEach((e=>{let t={Email:e.Email,Account:1===e.Account?1:2===e.Account?2:3===e.Account?3:4===e.Account?4:"",FirstName:e.FirstName,LastName:e.LastName,empID:e.empID};i((e=>[...e,t]))}))):console.error("Data received is not an array:",e.data)})).catch((e=>{console.log(e)}))},x=()=>{d.a.get("".concat(R,"/api/role"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(e.data)})).catch((e=>{console.log(e)}))},u=()=>{d.a.get("".concat(R,"/api/position"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{l(e.data)})).catch((e=>{console.log(e)}))},O=()=>{d.a.get("".concat(R,"/api/department"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{n(e.data)})).catch((e=>{console.log(e)}))};return console.log(h),Object(y.jsxs)("div",{className:"container-fluid",children:[Object(y.jsxs)("h4",{style:{position:"sticky",top:"-.5rem",zIndex:"5"},className:"text-muted d-flex gap-2 align-items-center bg-light py-3 text-capitalize fw-bold",children:[Object(y.jsx)(S.c,{}),"Create New Employee"]}),Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("div",{className:"col-4"}),Object(y.jsxs)("div",{className:"col-8",children:[" ",Object(y.jsx)(me.a,{id:"form",onSubmit:e.onEmployeeSubmit,className:" d-flex flex-column p-2 mb-5 rounded shadow-sm ",encType:"multipart/form-data",children:Object(y.jsx)("div",{style:{letterSpacing:".1rem"},className:"d-flex w-100 fw-bold text-muted flex-column rounded ",children:Object(y.jsxs)("div",{className:"row row-gap-1 ",children:[Object(y.jsxs)("div",{className:"form-group col-12 col-md-6 p-0",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:12,children:"Email"}),Object(y.jsx)(be.a,{sm:12,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"email",placeholder:"Email"})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6 p-0",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:12,children:"Password"}),Object(y.jsx)(be.a,{sm:12,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"password",placeholder:"Password"})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6 p-0",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:12,children:"Account access"}),Object(y.jsx)(be.a,{sm:12,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",onBlur:e=>(e=>{if(console.log(e),2===+e||4===+e||1===+e){const e=r.filter((e=>1===+e.Account));m(e)}else if(3===+e){const e=r.filter((e=>4===+e.Account));m(e)}const t=r.filter((e=>2===e.Account));b(t)})(e.target.value),children:[Object(y.jsx)("option",{value:"1",children:"Admin"}),Object(y.jsx)("option",{value:"2",children:"HR"}),Object(y.jsx)("option",{value:"3",children:"Employee"}),Object(y.jsx)("option",{value:"4",children:"Manager"})]})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6 p-0",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:12,children:"Role"}),Object(y.jsx)(be.a,{sm:12,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"role",children:[Object(y.jsx)("option",{disabled:!0,selected:!0,children:"Select your option"}),t.map(((e,t)=>Object(y.jsx)("option",{value:e._id,children:e.RoleName},t)))]})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6 p-0",children:[Object(y.jsx)(me.a.Label,{as:"legend",column:!0,sm:12,children:"Gender"}),Object(y.jsxs)(be.a,{className:"my-1",sm:12,children:[Object(y.jsx)(me.a.Check,{inline:!0,type:"radio",label:"Male",value:"male",name:"gender",onChange:e.onGenderChange}),Object(y.jsx)(me.a.Check,{inline:!0,type:"radio",label:"Female",value:"female",name:"gender",onChange:e.onGenderChange})]})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6 p-0",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:12,children:"First Name"}),Object(y.jsx)(be.a,{sm:12,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"First Name"})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6 p-0",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:12,children:"Last Name"}),Object(y.jsx)(be.a,{sm:12,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"Last Name"})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6 p-0",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:12,children:"DOB"}),Object(y.jsx)(be.a,{sm:12,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"date",placeholder:"DOB"})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6 p-0",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:12,children:"Contact No"}),Object(y.jsx)(be.a,{sm:12,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"Contact No "})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6 p-0",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:12,children:"Department"}),Object(y.jsx)(be.a,{sm:12,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"department",children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),o.map(((e,t)=>Object(y.jsx)("option",{value:e._id,children:e.DepartmentName},t)))]})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6 p-0",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:12,children:"Position"}),Object(y.jsx)(be.a,{sm:12,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"position",children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),c.map(((e,t)=>Object(y.jsx)("option",{value:e._id,children:e.PositionName},t)))]})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6 p-0",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:12,children:"Date Of Joining"}),Object(y.jsx)(be.a,{sm:12,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"date",placeholder:"Date Of Joining"})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6 p-0",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:12,children:"Profile Image"}),Object(y.jsx)(be.a,{sm:12,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"file"})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6 p-0",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:12,children:"Reporting Manager"}),Object(y.jsx)(be.a,{sm:12,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"role",children:[Object(y.jsx)("option",{selected:!0,children:"Select your option"}),j.map(((e,t)=>Object(y.jsx)("option",{value:e.Email,children:e.Email},t)))]})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6 p-0",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:12,children:"Reporting Hr"}),Object(y.jsx)(be.a,{sm:12,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"role",children:[Object(y.jsx)("option",{selected:!0,children:"Select your option"}),h.map(((e,t)=>Object(y.jsx)("option",{value:e.Email,children:e.Email},t)))]})})]}),Object(y.jsxs)("div",{className:"form-group col-12 d-flex  gap-5",id:"form-submit-button",children:[Object(y.jsx)(re.a,{className:"mx-2 px-5 rounded-5 fw-bold",style:{backgroundColor:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",border:"none",outline:"none"},type:"submit",children:"Submit"}),Object(y.jsx)("button",{className:"mx-2 px-5 fw-bold rounded-5 ",style:{backgroundColor:"red",color:"white",border:"none",outline:"none"},type:"reset",onClick:e.onFormClose,children:"cancel"})]}),Object(y.jsx)("div",{className:"form-group col-12 col-md-6 p-0",id:"form-cancel-button"})]})})})]})]})]})};a(482);var $a=e=>{const[t,a]=Object(s.useState)([]),[l,o]=Object(s.useState)([]),[n,r]=Object(s.useState)([]),[i,j]=Object(s.useState)([]),[m,h]=Object(s.useState)([]),[b,p]=Object(s.useState)([]),[x,u]=Object(s.useState)(e.editData.Gender),[O,g]=Object(s.useState)(e.editData.Email),[f,v]=Object(s.useState)(e.editData.FirstName),[N,w]=Object(s.useState)(e.editData.LastName),[D,S]=Object(s.useState)(e.editData.DOB.slice(0,10)),[k,C]=Object(s.useState)(e.editData.ContactNo),[E,L]=Object(s.useState)(e.editData.profile),[I,A]=Object(s.useState)(e.editData.EmployeeCode),[T,F]=Object(s.useState)(e.editData.DateOfJoining.slice(0,10));Object(s.useEffect)((()=>{M(),z(),B(),P()}),[]);const P=()=>{d.a.get("http://localhost:4000/api/employee",{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{Array.isArray(e.data)?(p([]),e.data.forEach((e=>{let t={Email:e.Email,Account:1===e.Account?1:2===e.Account?2:3===e.Account?3:4===e.Account?4:"",FirstName:e.FirstName,LastName:e.LastName,empID:e.empID};p((e=>[...e,t]))}))):console.error("Data received is not an array:",e.data)})).catch((e=>{console.log(e)}))},M=()=>{d.a.get("".concat(R,"/api/role"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(e.data)})).catch((e=>{console.log(e)}))},z=()=>{d.a.get("".concat(R,"/api/position"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{o(e.data)})).catch((e=>{console.log(e)}))},B=()=>{d.a.get("".concat(R,"/api/department"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{r(e.data)})).catch((e=>{console.log(e)}))};console.log(m);const _=t=>{u(t.target.value),e.onGenderChange(t)};return Object(y.jsxs)(c.a.Fragment,{style:{height:"100vh",width:"100%"},className:"registration-page py-4",children:[Object(y.jsx)("h2",{id:"role-form-title",className:"text-center text-black text-uppercase fw-bold my-4",children:"Edit Employee Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsx)(me.a,{id:"form",onSubmit:t=>e.onEmployeeEditUpdate(e.editData,t),children:Object(y.jsx)("div",{className:"d-flex w-100 flex-column gap-2 rounded ",children:Object(y.jsxs)("div",{className:"row row-gap-3 ",children:[Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Email"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"email",placeholder:"Email",required:!0,value:O,disabled:!0,onChange:e=>{g(e.target.value)}})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Account access"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",required:!0,onBlur:e=>(e=>{if(console.log(e),2===+e||4===+e||1===+e){const e=b.filter((e=>1===+e.Account));j(e)}else if(3===+e){const e=b.filter((e=>4===+e.Account));j(e)}const t=b.filter((e=>2===e.Account));h(t)})(e.target.value),children:[Object(y.jsx)("option",{value:"1",selected:1==e.editData.Account,children:"Admin"}),Object(y.jsx)("option",{value:"2",selected:2==e.editData.Account,children:"HR"}),Object(y.jsx)("option",{value:"3",selected:3==e.editData.Account,children:"Employee"}),Object(y.jsx)("option",{value:"4",selected:4==e.editData.Account,children:"Manager"})]})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Role"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"role",children:[Object(y.jsx)("option",{disabled:!0,selected:!0,children:"Select your option"}),t.map(((t,a)=>Object(y.jsx)("option",{value:t._id,selected:e.editData.role[0]._id==t._id,children:t.RoleName},a)))]})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{as:"legend",column:!0,sm:6,children:"Gender"}),Object(y.jsxs)(be.a,{sm:10,children:[Object(y.jsx)(me.a.Check,{inline:!0,type:"radio",label:"Male",value:"male",name:"gender",onChange:_,checked:"male"==x,required:!0}),Object(y.jsx)(me.a.Check,{inline:!0,type:"radio",label:"Female",value:"female",name:"gender",onChange:_,checked:"female"==x,required:!0})]})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"First Name"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"First Name",required:!0,value:f,onChange:e=>{v(e.target.value)}})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Last Name"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"Last Name",required:!0,value:N,onChange:e=>{w(e.target.value)}})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"DOB"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"date",placeholder:"DOB",required:!0,value:D,onChange:e=>{S(e.target.value)}})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Contact No"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"Contact No ",required:!0,value:k,onChange:e=>{C(e.target.value)}})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Department"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"department",required:!0,children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),n.map(((t,a)=>Object(y.jsx)("option",{value:t._id,selected:e.editData.department[0]._id==t._id,children:t.DepartmentName},a)))]})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Position"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"position",required:!0,children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),l.map(((t,a)=>Object(y.jsx)("option",{value:t._id,selected:e.editData.position[0]._id==t._id,children:t.PositionName},a)))]})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Date Of Joining"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"date",placeholder:"Date Of Joining",required:!0,value:T,onChange:e=>{F(e.target.value)}})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Profile Image"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"file"})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6 p-0",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:12,children:"Reporting Manager"}),Object(y.jsx)(be.a,{sm:12,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"role",children:[Object(y.jsx)("option",{selected:!0,children:"Select your option"}),i.map(((e,t)=>Object(y.jsx)("option",{value:e.Email,children:e.Email},t)))]})})]}),Object(y.jsxs)("div",{className:"form-group col-12 col-md-6 p-0",children:[Object(y.jsx)(me.a.Label,{column:!0,sm:12,children:"Reporting Hr"}),Object(y.jsx)(be.a,{sm:12,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",name:"role",children:[Object(y.jsx)("option",{selected:!0,children:"Select your option"}),m.map(((e,t)=>Object(y.jsx)("option",{value:e.Email,children:e.Email},t)))]})})]}),Object(y.jsx)("div",{className:"form-group col-12 col-md-6",id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Submit"})})}),Object(y.jsx)("div",{className:"form-group col-12 col-md-6",id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:()=>{e.onFormEditClose()},children:"cancel"})})})]})})})})]})};a(235);s.Component;a(483),a(484);var Za,Qa=a.p+"static/media/FloralAbstract.033bb0de.jpg",es=a(45);a(485);const ts=Object(V.a)(Za||(Za=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var as=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,n]=Object(s.useState)([]);Object(s.useEffect)((()=>{d.a.get("http://localhost:4000/api/education/"+localStorage.getItem("_id"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;console.log("response",e.data),a(t),l(!1);const s=t.education.map((e=>({data:e,SchoolUniversity:e.SchoolUniversity,Degree:e.Degree,Grade:e.Grade,PassingOfYear:e.PassingOfYear})));n(s)})).catch((e=>{console.log(e)}))}),[localStorage.getItem("_id")]);return Object(y.jsx)("div",{className:"container-fluid",children:Object(y.jsxs)(Na,{children:[Object(y.jsx)("div",{className:"py-1",children:Object(y.jsxs)(re.a,{variant:"primary",onClick:e.onAddEducation,children:[Object(y.jsx)(W.a,{icon:J.e,id:"plus-icon"}),"Add Details"]})}),Object(y.jsx)("div",{id:"clear-both"}),c?Object(y.jsx)("div",{id:"loading-bar",children:Object(y.jsx)(ne.a,{css:ts,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(y.jsx)("div",{children:Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},children:"School/University"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},children:"Degree"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},children:"Grade"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"text-center",children:"Passing Year"}),Object(y.jsx)("th",{style:{background:"linear-gradient(165deg, #700B97, 90%, #C84B31)",color:"white"},children:"Action"})]})}),Object(y.jsx)("tbody",{children:o.map(((t,a)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"text-uppercase fw-bold",children:t.SchoolUniversity}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"text-uppercase fw-bold",children:t.Degree}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"text-uppercase fw-bold",children:Object(y.jsx)("button",{className:"btn btn-success w-100 fw-bold py-0 rounded-5",children:t.Grade})}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"text-uppercase fw-bold text-center",children:t.PassingOfYear}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},children:Object(y.jsxs)("button",{onClick:()=>e.onEditEducation(t.data),style:{zIndex:"1",cursor:"pointer"},className:"d-flex btn py-0 px-3 shadow-sm justify-content-around align-items-center",children:[Object(y.jsx)(f.h,{className:"fs-4 text-primary bg-white p-1 rounded-5"}),Object(y.jsx)("span",{className:"fw-bold text-muted",children:"Update"})]})})]},a)))})]})})]})})};a(486);var ss=e=>Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Add Education Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:e.onEducationSubmit,children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"School / University"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"School / University ",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Degree"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Degree ",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Grade"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Grade",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Passing Of Year"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Passing Of Year",required:!0})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Submit"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:e.onFormClose,children:"cancel"})})})]})})]});var cs=e=>{const[t,a]=Object(s.useState)({SchoolUniversityData:e.editData.SchoolUniversity,DegreeData:e.editData.Degree,GradeData:e.editData.Grade,PassingOfYearData:e.editData.PassingOfYear});return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Edit Education Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:t=>e.onEducationEditUpdate(e.editData,t),children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"School / University"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"School / University ",required:!0,value:t.SchoolUniversityData,onChange:e=>(e=>{a({...t,SchoolUniversityData:e.target.value})})(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Degree"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Degree ",required:!0,value:t.DegreeData,onChange:e=>(e=>{a({...t,DegreeData:e.target.value})})(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Grade"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Grade",required:!0,value:t.GradeData,onChange:e=>(e=>{a({...t,GradeData:e.target.value})})(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Passing Of Year"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Passing Of Year",required:!0,value:t.PassingOfYearData,onChange:e=>(e=>{a({...t,PassingOfYearData:e.target.value})})(e)})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Update"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:e.onFormEditClose,children:"cancel"})})})]})})]})};var ls,os=e=>{const[t,a]=Object(s.useState)(!0),[c,l]=Object(s.useState)(!1),[o,n]=Object(s.useState)({});return Object(y.jsx)(y.Fragment,{children:t?c?Object(y.jsx)(cs,{onEducationEditUpdate:(e,t)=>{t.preventDefault();const s={SchoolUniversity:t.target[0].value,Degree:t.target[1].value,Grade:t.target[2].value,PassingOfYear:t.target[3].value};d.a.put("".concat(R,"/api/education/").concat(e._id),s,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{a(!1),a(!0)})).catch((e=>{console.log(e)})),l(!1)},onFormEditClose:()=>{l(!1)},editData:o}):Object(y.jsx)(as,{onAddEducation:()=>{a(!1)},onEditEducation:e=>{l(!0),n(e)},data:e.data,back:e.back}):Object(y.jsx)(ss,{onEducationSubmit:t=>{t.preventDefault(),a(!0);const s={SchoolUniversity:t.target[0].value,Degree:t.target[1].value,Grade:t.target[2].value,PassingOfYear:t.target[3].value};d.a.post("".concat(R,"/api/education/").concat(e.data._id),s,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{a(!1),a(!0)})).catch((e=>{console.log(e)}))},onFormClose:()=>{a(!0)}})})};a(487);const ns=Object(V.a)(ls||(ls=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var rs=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,r]=Object(s.useState)([]);let i=[],j=[];const m=()=>{d.a.get("".concat(R,"/api/work-experience/")+localStorage.getItem("_id"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{i=e.data,console.log("response",e.data),a(e.data),l(!1),j.length=0,i.workExperience.map((e=>{let t={data:e,CompanyName:e.CompanyName,Designation:e.Designation,FromDate:e.FromDate.slice(0,10),ToDate:e.ToDate.slice(0,10)};j.push(t)})),r(j)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{m()}),[]);return Object(y.jsxs)("div",{id:"table-outer-div-scroll",children:[Object(y.jsxs)("h2",{id:"role-title",children:["Employee Work Experience Details"," ",e.back?"of "+e.data.FirstName+" "+e.data.LastName:""]}),e.back?Object(y.jsx)(n.b,{to:"/hr/employee",children:Object(y.jsx)(re.a,{variant:"primary",id:"add-button",children:"Back"})}):Object(y.jsxs)(re.a,{variant:"primary",id:"add-button",onClick:e.onAddWorkExperience,children:[Object(y.jsx)(W.a,{icon:J.e,id:"plus-icon"}),"Add"]}),Object(y.jsx)("div",{id:"clear-both"}),c?Object(y.jsx)("div",{id:"loading-bar",children:Object(y.jsx)(ne.a,{css:ns,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(y.jsxs)("table",{className:"table table-striped",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{style:{background:"linear-gradient(165deg, #700B97, 90%, #C84B31)",color:"white"},children:"Company Name"}),Object(y.jsx)("th",{style:{background:"linear-gradient(165deg, #700B97, 90%, #C84B31)",color:"white"},children:"Designation"}),Object(y.jsx)("th",{style:{background:"linear-gradient(165deg, #700B97, 90%, #C84B31)",color:"white"},children:"FromDate"}),Object(y.jsx)("th",{style:{background:"linear-gradient(165deg, #700B97, 90%, #C84B31)",color:"white"},children:"ToDate"})]})}),Object(y.jsx)("tbody",{children:o.map(((e,t)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"text-uppercase",children:e.CompanyName}),Object(y.jsx)("td",{className:"text-uppercase",children:e.Designation}),Object(y.jsx)("td",{className:"text-uppercase",children:e.FromDate}),Object(y.jsx)("td",{className:"text-uppercase",children:e.ToDate})]},t)))})]})]})};a(488);var is=e=>Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Add WorkExperience Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:e.onWorkExperienceSubmit,children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Company Name"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"CompanyName",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Designation"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Designation",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"FromDate"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"date",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"ToDate"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"date",placeholder:"ToDate",required:!0})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Submit"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:e.onFormClose,children:"cancel"})})})]})})]});class ds extends s.Component{constructor(){super(...arguments),this.state={CompanyNameData:this.props.editData.CompanyName,DesignationData:this.props.editData.Designation,FromDateData:this.props.editData.FromDate.slice(0,10),ToDateData:this.props.editData.ToDate.slice(0,10)}}onCompanyNameDataChange(e){this.setState({CompanyNameData:e.target.value})}onDesignationDataChange(e){this.setState({DesignationData:e.target.value})}onFromDateDataChange(e){this.setState({FromDateData:e.target.value})}onToDateDataChange(e){this.setState({ToDateData:e.target.value})}componentWillMount(){}render(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Edit WorkExperience Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:e=>this.props.onWorkExperienceEditUpdate(this.props.editData,e),children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Company Name"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Company Name",required:!0,value:this.state.CompanyNameData,onChange:e=>this.onCompanyNameDataChange(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Designation"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Designation",required:!0,value:this.state.DesignationData,onChange:e=>this.onDesignationDataChange(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"FromDate"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"date",required:!0,value:this.state.FromDateData,onChange:e=>this.onFromDateDataChange(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"ToDate"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"date",required:!0,value:this.state.ToDateData,onChange:e=>this.onToDateDataChange(e)})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Update"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:this.props.onFormEditClose,children:"cancel"})})})]})})]})}}var js=ds;a(489);var ms,hs=e=>{const[t,a]=Object(s.useState)(!0),[l,o]=Object(s.useState)(!1),[n,r]=Object(s.useState)({});return Object(y.jsx)(c.a.Fragment,{children:t?l?Object(y.jsx)(js,{onWorkExperienceEditUpdate:(e,t)=>{t.preventDefault(),console.log("zero data",t.target[0].value);let s={CompanyName:t.target[0].value,Designation:t.target[1].value,FromDate:t.target[2].value,ToDate:t.target[3].value};console.log("update",s),d.a.put("".concat(R,"/api/work-experience/")+e._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(!1),a(!0)})).catch((e=>{console.log(e)})),o(!1)},onFormEditClose:()=>{console.log("clicked5"),o(!1)},editData:n}):Object(y.jsx)(rs,{onAddWorkExperience:()=>{console.log("clicked1"),a(!1)},onEditWorkExperience:e=>{console.log(e),console.log("clicked6"),o(!0),r(e)},data:e.data,back:e.back}):Object(y.jsx)(is,{onWorkExperienceSubmit:t=>{t.preventDefault(),console.log("id",t.target[0].value,t.target[1].value),a(!0);let s={CompanyName:t.target[0].value,Designation:t.target[1].value,FromDate:t.target[2].value,ToDate:t.target[3].value};d.a.post("".concat(R,"/api/work-experience/")+e.data._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(!1),a(!0)})).catch((e=>{console.log(e)}))},onFormClose:()=>{console.log("clicked1"),a(!0)},onGenderChange:()=>{}})})};a(490);const bs=Object(V.a)(ms||(ms=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var ps=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,r]=Object(s.useState)([]),i=[],j=()=>{d.a.get("".concat(R,"/api/family-info/")+localStorage.getItem("_id"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{i.push(e.data),console.log("response",e.data),a(e.data),l(!1);const t=e.data.familyInfo.map((e=>({data:e,Name:e.Name,Relationship:e.Relationship,DOB:e.DOB.slice(0,10),Occupation:e.Occupation})));r(t)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{j()}),[]);return Object(y.jsxs)(Na,{children:[Object(y.jsxs)("h2",{id:"role-title",children:["Employee Family Details"," ",e.back?"of "+e.data.FirstName+" "+e.data.LastName:""]}),e.back?Object(y.jsx)(n.b,{to:"/hr/employee",children:Object(y.jsx)(re.a,{variant:"primary",id:"add-button",children:"Back"})}):Object(y.jsxs)(re.a,{variant:"primary",id:"add-button",onClick:e.onAddFamilyInfo,children:[Object(y.jsx)(W.a,{icon:J.e,id:"plus-icon"}),"Add"]}),Object(y.jsx)("div",{id:"clear-both"}),c?Object(y.jsx)("div",{id:"loading-bar",children:Object(y.jsx)(ne.a,{css:bs,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(y.jsxs)("table",{className:"table table-striped",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{style:{background:"linear-gradient(165deg, #700B97, 90%, #C84B31)",color:"white"},children:"Name"}),Object(y.jsx)("th",{style:{background:"linear-gradient(165deg, #700B97, 90%, #C84B31)",color:"white"},children:"Relationship"}),Object(y.jsx)("th",{style:{background:"linear-gradient(165deg, #700B97, 90%, #C84B31)",color:"white"},children:"DOB"}),Object(y.jsx)("th",{style:{background:"linear-gradient(165deg, #700B97, 90%, #C84B31)",color:"white"},children:"Occupation"})]})}),Object(y.jsx)("tbody",{children:o.map(((e,t)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"text-uppercase",children:e.Name}),Object(y.jsx)("td",{className:"text-uppercase",children:e.Relationship}),Object(y.jsx)("td",{className:"text-uppercase",children:e.DOB}),Object(y.jsx)("td",{className:"text-uppercase",children:e.Occupation})]},t)))})]})]})};var xs=e=>Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Add FamilyInfo Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:e.onFamilyInfoSubmit,children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Name"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Name",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Relationship"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Relationship",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"DOB"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"date",required:!0})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Occupation"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Occupation",required:!0})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Submit"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:e.onFormClose,children:"cancel"})})})]})})]});var us=e=>{const[t,a]=Object(s.useState)(e.editData.Name),[c,l]=Object(s.useState)(e.editData.Relationship),[o,n]=Object(s.useState)(e.editData.DOB.slice(0,10)),[r,i]=Object(s.useState)(e.editData.Occupation);return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Edit FamilyInfo Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:t=>e.onFamilyInfoEditUpdate(e.editData,t),children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Name"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Name",required:!0,value:t,onChange:e=>(e=>{a(e.target.value)})(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Relationship"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Relationship",required:!0,value:c,onChange:e=>(e=>{l(e.target.value)})(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"DOB"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"date",placeholder:"DOB",required:!0,value:o,onChange:e=>(e=>{n(e.target.value)})(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Occupation"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Occupation",required:!0,value:r,onChange:e=>(e=>{i(e.target.value)})(e)})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Update"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:e.onFormEditClose,children:"Cancel"})})})]})})]})};var Os,gs=e=>{const[t,a]=Object(s.useState)(!0),[c,l]=Object(s.useState)(!1),[o,n]=Object(s.useState)({});return Object(y.jsx)(y.Fragment,{children:t?c?Object(y.jsx)(us,{onFamilyInfoEditUpdate:(e,t)=>{t.preventDefault(),console.log("zero data",t.target[0].value);let s={Name:t.target[0].value,Relationship:t.target[1].value,DOB:t.target[2].value,Occupation:t.target[3].value};console.log("update",s),d.a.put("".concat(R,"/api/family-info/")+e._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(!1),a(!0)})).catch((e=>{console.log(e)})),l(!1)},onFormEditClose:()=>{console.log("clicked5"),l(!1)},editData:o}):Object(y.jsx)(ps,{onAddFamilyInfo:()=>{console.log("clicked1"),a(!1)},onEditFamilyInfo:e=>{console.log(e),console.log("clicked6"),l(!0),n(e)},data:e.data,back:e.back}):Object(y.jsx)(xs,{onFamilyInfoSubmit:t=>{t.preventDefault(),console.log("id",t.target[0].value,t.target[1].value),a(!0);let s={Name:t.target[0].value,Relationship:t.target[1].value,DOB:t.target[2].value,Occupation:t.target[3].value};d.a.post("".concat(R,"/api/family-info/")+e.data._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(!1),a(!0)})).catch((e=>{console.log(e)}))},onFormClose:()=>{console.log("clicked1"),a(!0)},onGenderChange:()=>{}})})};const fs=Object(V.a)(Os||(Os=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var ys=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,r]=Object(s.useState)([]),[i,j]=Object(s.useState)("personalInfo"),[m,h]=Object(s.useState)(null),[b,p]=Object(s.useState)([]),x=()=>{d.a.get("".concat(R,"/api/personal-info/").concat(e.data._id),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;a(t),l(!1);const s={data:t,FirstName:t.FirstName||"Not Avaiable",MiddleName:t.MiddleName||"Not Avaiable",LastName:t.LastName||"Not Avaiable",empID:t.empID||"Not Avaiable",Gender:t.Gender||"Not Avaiable",ContactNo:t.ContactNo||"Not Avaiable",Email:t.Email||"Not Avaiable",PANcardNo:t.PANcardNo||"Not Avaiable",DOB:t.DOB.slice(0,10)||"Not Avaiable",BloodGroup:t.BloodGroup||"Not Avaiable",EmergencyContactNo:t.EmergencyContactNo||"Not Avaiable",Hobbies:t.Hobbies||"Not Avaiable",PresentAddress:t.PresentAddress||"Not Avaiable",PermanetAddress:t.PermanetAddress||"Not Avaiable",RoleName:t.role[0]?t.role[0].RoleName:"",DateOfJoining:t.DateOfJoining.slice(0,10),reportManager:t.reportManager||"Not Avaiable",reportHr:t.reportManager||"Not Avaiable",DepartmentName:t.department[0]?t.department[0].DepartmentName:"",Account:1===t.Account?"Admin":2===t.Account?"HR":3===t.Account?"Employee":4===t.Account?"Manager":"",PositionName:t.position[0]?t.position[0].PositionName:""};r([s])})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{x()}),[e.data]);const u=e=>{j(e)},O=[{docTitle:"Aadhar Card",docURL:"https://aadhar-uidai.in/wp-content/uploads/2018/07/main-qimg-4a3032007d087580af4a6eff50634659.png",docNumber:"123456789",docSize:"1.02"},{docTitle:"PAN Card",docURL:"https://images.livemint.com/img/2019/10/25/1600x900/pan_card_1565610340828_1572021543426.PNG",docNumber:"ADNPT5873H",docSize:"1.02"},{docTitle:"10th MarkSheet",docURL:"https://www.pastcart.com/wp-content/uploads/2019/07/10th-marksheet-1024x813.jpg",docNumber:"201535400",docSize:"1.02"},{docTitle:"12th MarkSheet",docURL:"https://cdn.slidesharecdn.com/ss_thumbnails/bac93f03-6b88-4390-8643-eddc0804e020-160807132546-thumbnail-4.jpg?cb=1470576360",docNumber:"545421000",docSize:"1.02"},{docTitle:"Graduation MarkSheet",docURL:Qa,docNumber:"212101215",docSize:"1.02"},{docTitle:"Graduation MarkSheet",docURL:Qa,docNumber:"212101215",docSize:"1.02"},{docTitle:"Graduation MarkSheet",docURL:Qa,docNumber:"212101215",docSize:"1.02"}];return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{id:"clear-both"}),c?Object(y.jsx)("div",{id:"loading-bar",children:Object(y.jsx)(ne.a,{css:fs,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(y.jsxs)("div",{style:{position:"relative"},className:"row",children:[Object(y.jsxs)("div",{style:{height:"25rem",background:"url(https://images.unsplash.com/photo-1621947081720-86970823b77a?q=80&w=1932&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)",backgroundPosition:"center",backgroundSize:"cover",marginTop:"-.5rem"},className:"col-12",children:[" ",Object(y.jsx)(n.b,{to:"/hr/employee",children:Object(y.jsxs)("button",{className:"btn fw-bold d-flex gap-3 ",style:{background:"white",color:"black"},id:"add-button",children:[Object(y.jsx)(es.a,{className:"my-auto fs-5"})," ",Object(y.jsx)("span",{"my-auto":!0,children:"Back"})]})})]}),Object(y.jsxs)("div",{style:{height:"35rem",position:"fixed",top:"20%",zIndex:"1"},className:"col-12 row mx-auto justify-content-center gap-4 w-100",children:[Object(y.jsx)("div",{style:{height:"33rem",background:"url(".concat(Qa,")"),backgroundPosition:"center",backgroundSize:"cover",overflow:"hidden"},className:"col-12 m-0 p-0 rounded-3 col-lg-3 bg-white shadow",children:o.map(((a,s)=>{var c,l,o,n;return Object(y.jsxs)("div",{style:{backgroundColor:"rgba(258,258,258,.95)",position:"relative"},className:"d-flex flex-column gap-3 py-2 h-100",children:[Object(y.jsxs)("div",{className:"d-flex flex-column gap-2",style:{width:"100%",padding:"1rem 1rem"},children:[Object(y.jsxs)("div",{className:"mx-auto",style:{height:"120px",width:"120px",border:"6px solid #39A7FF",borderRadius:"50%",position:"relative"},children:[Object(y.jsx)("img",{style:{height:"100%",width:"100%",borderRadius:"50%",objectFit:"cover"},src:null!==a&&void 0!==a&&null!==(c=a.data)&&void 0!==c&&null!==(l=c.profile)&&void 0!==l&&l.image_url?null===a||void 0===a||null===(o=a.data)||void 0===o||null===(n=o.profile)||void 0===n?void 0:n.image_url:"https://a.storyblok.com/f/191576/1200x800/215e59568f/round_profil_picture_after_.webp",alt:"employee"}),Object(y.jsx)("button",{style:{height:"30px",width:"30px",borderRadius:"50%",border:"3px solid white",position:"absolute",bottom:"0",right:"0"},className:"btn btn-primary text-white d-flex p-1 ",children:Object(y.jsx)(f.b,{className:"m-auto"})})]}),Object(y.jsx)("p",{style:{position:"absolute",top:"0",left:"0"},className:"btn btn-success px-2 py-0 m-2 rounded-5 fw-bold shadow",children:a.empID}),Object(y.jsxs)("h3",{className:"text-capitalize my-0 fw-bold text-muted text-center",children:[a.FirstName," ",t.LastName]}),Object(y.jsxs)("p",{className:"text-capitalize my-0 fw-bold text-center",children:[a.RoleName," ",a.DepartmentName]})]}),Object(y.jsxs)("div",{className:"d-flex flex-column justify-content-between gap-2",children:[Object(y.jsxs)("div",{className:"p-2 fw-bold mx-3 d-flex bg-white justify-content-between shadow rounded-5",children:[Object(y.jsxs)("span",{style:{alignItems:"center"},className:"my-auto d-flex gap-2 ",children:[Object(y.jsx)(g.a,{className:"text-primary fs-4"}),"Total Assigned Task"]})," ",Object(y.jsx)("span",{className:"fw-bold  text-primary my-auto",children:"123"})]}),Object(y.jsxs)("div",{className:"p-2 fw-bold mx-3 d-flex bg-white justify-content-between shadow rounded-5",children:[Object(y.jsxs)("span",{style:{alignItems:"center"},className:"my-auto d-flex gap-2 ",children:[Object(y.jsx)(g.a,{className:"text-warning fs-4"}),"Total Active Task"]})," ",Object(y.jsx)("span",{className:"fw-bold text-warning my-auto",children:"123"})]}),Object(y.jsxs)("div",{className:"p-2 fw-bold mx-3 d-flex  bg-white justify-content-between shadow rounded-5",children:[Object(y.jsxs)("span",{style:{alignItems:"center"},className:"my-auto d-flex gap-2 ",children:[" ",Object(y.jsx)(g.a,{className:"text-danger fs-4"}),"Total Cancelled Task"]})," ",Object(y.jsx)("span",{className:"fw-bold my-auto text-danger",children:"123"})]}),Object(y.jsxs)("div",{className:"p-2 fw-bold  bg-white mx-3 d-flex justify-content-between shadow rounded-5",children:[Object(y.jsxs)("span",{style:{alignItems:"center"},className:"my-auto d-flex gap-2 ",children:[Object(y.jsx)(g.a,{className:"text-success fs-4"}),"Total Completed Task"]})," ",Object(y.jsx)("span",{className:"fw-bold my-auto text-success",children:"123"})]})]}),Object(y.jsx)("span",{onClick:()=>e.onEditPersonalInfo(a.data),style:{borderBottom:"documentDetails"===i?"3px solid blue":"none",borderRadius:"0",position:"absolute",bottom:"0",left:"0",cursor:"pointer"},className:"btn px-3 w-100 fw-bold btn-primary ",children:"Update Details"})]},s)}))}),Object(y.jsxs)("div",{id:"personalinfo",style:{height:"33rem",overflow:"hidden"},className:"col-12 rounded col-lg-7 p-0 m-0 bg-white shadow",children:[Object(y.jsxs)("div",{className:"shift-pages w-100 shadow-sm d-flex gap-3 px-2 mb-1",children:[Object(y.jsx)("span",{onClick:()=>u("personalInfo"),style:{whiteSpace:"pre",borderBottom:"personalInfo"===i?"3px solid blue":"none",borderRadius:"0"},className:"btn py-3 px-2 fw-bold",children:"Personal Info"}),Object(y.jsx)("span",{onClick:()=>u("companyInfo"),style:{whiteSpace:"pre",borderBottom:"companyInfo"===i?"3px solid blue":"none",borderRadius:"0"},className:"btn py-3 px-2 fw-bold",children:"Company Info"}),Object(y.jsx)("span",{onClick:()=>u("Educationalinfo"),style:{whiteSpace:"pre",borderBottom:"Educationalinfo"===i?"3px solid blue":"none",borderRadius:"0"},className:"btn py-3 px-2 fw-bold",children:"Education Details"}),Object(y.jsx)("span",{onClick:()=>u("documentDetails"),style:{whiteSpace:"pre",borderBottom:"documentDetails"===i?"3px solid blue":"none",borderRadius:"0"},className:"btn py-3 px-2 fw-bold",children:"Documents"}),Object(y.jsxs)("span",{onClick:()=>u("WorkExperience"),style:{whiteSpace:"pre",borderBottom:"WorkExperience"===i?"3px solid blue":"none",borderRadius:"0"},className:"btn py-3 px-2 fw-bold",children:["Work Experience"," "]}),Object(y.jsx)("span",{onClick:()=>u("otherInfo"),style:{whiteSpace:"pre",borderBottom:"otherInfo"===i?"3px solid blue":"none",borderRadius:"0"},className:"btn py-3 px-3 fw-bold",children:"Dependents"})]}),"personalInfo"===i&&Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("div",{className:"pb-5",id:"companyinfo",style:{overflow:"hidden auto",height:"29rem",scrollbarWidth:"thin"},children:o.map(((e,t)=>Object(y.jsxs)("div",{className:"row justify-content-evenly py-3 row-gap-3",children:[Object(y.jsxs)("div",{className:"col-12 col-sm-5 d-flex flex-column",children:[Object(y.jsx)("label",{htmlFor:"",className:" fw-bold text-muted",children:"First Name"}),Object(y.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm text-capitalize",value:e.FirstName})]}),Object(y.jsxs)("div",{className:"col-12 col-sm-5 d-flex flex-column",children:[Object(y.jsx)("label",{htmlFor:"",className:" fw-bold text-muted",children:"Last Name"}),Object(y.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm text-capitalize",value:e.LastName})]}),Object(y.jsxs)("div",{className:"col-12 col-sm-5 d-flex flex-column",children:[Object(y.jsx)("label",{htmlFor:"",className:" fw-bold text-muted",children:"Phone Number"}),Object(y.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm",value:e.ContactNo})]}),Object(y.jsxs)("div",{className:"col-12 col-sm-5 d-flex flex-column",children:[Object(y.jsx)("label",{htmlFor:"",className:" fw-bold text-muted",children:"Emergency Contact"}),Object(y.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm",value:e.EmergencyContactNo})]}),Object(y.jsxs)("div",{className:"col-12 col-sm-5 d-flex flex-column",children:[Object(y.jsx)("label",{htmlFor:"",className:" fw-bold text-muted",children:"Email Address"}),Object(y.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm",value:e.Email})]}),Object(y.jsxs)("div",{className:"col-12 col-sm-5 d-flex flex-column",children:[Object(y.jsx)("label",{htmlFor:"",className:" fw-bold text-muted",children:"Date of Birth"}),Object(y.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm",value:e.DOB.slice(0,10)})]}),Object(y.jsxs)("div",{className:"col-12 col-sm-5 d-flex flex-column",children:[Object(y.jsx)("label",{htmlFor:"",className:" fw-bold text-muted",children:"Blood Group"}),Object(y.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm",value:e.BloodGroup})]}),Object(y.jsxs)("div",{className:"col-12 col-sm-5 d-flex flex-column",children:[Object(y.jsx)("label",{htmlFor:"",className:" fw-bold text-muted",children:"PAN Number"}),Object(y.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm text-uppercase",value:e.PANcardNo})]}),Object(y.jsxs)("div",{className:"col-12 col-sm-5 d-flex flex-column",children:[Object(y.jsx)("label",{htmlFor:"",className:" fw-bold text-muted",children:"Present Address"}),Object(y.jsx)("textarea",{type:"text",className:"form-control rounded-1 shadow-sm text-capitalize",value:e.PresentAddress})]}),Object(y.jsxs)("div",{className:"col-12 col-sm-5 d-flex flex-column",children:[Object(y.jsx)("label",{htmlFor:"",className:" fw-bold text-muted",children:"Permanent Address"}),Object(y.jsx)("textarea",{type:"text",className:"form-control rounded-1 shadow-sm text-capitalize",value:e.PermanetAddress})]})]})))})}),"companyInfo"===i&&Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("div",{style:{overflow:"hidden auto",height:"29rem",scrollbarWidth:"thin"},children:o.map(((e,t)=>Object(y.jsxs)("div",{className:"row justify-content-evenly py-3 row-gap-3",children:[Object(y.jsxs)("div",{className:"col-12 col-sm-5 d-flex flex-column",children:[Object(y.jsx)("label",{htmlFor:"",className:" fw-bold text-muted",children:"Employee ID"}),Object(y.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm text-uppercase",value:e.empID})]}),Object(y.jsxs)("div",{className:"col-12 col-sm-5 d-flex flex-column",children:[Object(y.jsx)("label",{htmlFor:"",className:" fw-bold text-muted",children:"Email"}),Object(y.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm",value:e.Email})]}),Object(y.jsxs)("div",{className:"col-12 col-sm-5 d-flex flex-column",children:[Object(y.jsx)("label",{htmlFor:"",className:" fw-bold text-muted",children:"Role"}),Object(y.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm text-capitalize",value:e.RoleName})]}),Object(y.jsxs)("div",{className:"col-12 col-sm-5 d-flex flex-column",children:[Object(y.jsx)("label",{htmlFor:"",className:" fw-bold text-muted",children:"Position"}),Object(y.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm text-capitalize",value:e.PositionName})]}),Object(y.jsxs)("div",{className:"col-12 col-sm-5 d-flex flex-column",children:[Object(y.jsx)("label",{htmlFor:"",className:" fw-bold text-muted",children:"Department"}),Object(y.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm text-capitalize",value:e.DepartmentName})]}),Object(y.jsxs)("div",{className:"col-12 col-sm-5 d-flex flex-column",children:[Object(y.jsx)("label",{htmlFor:"",className:" fw-bold text-muted",children:"Date of Joining"}),Object(y.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm",value:e.DateOfJoining})]}),Object(y.jsxs)("div",{className:"col-12 col-sm-5 d-flex flex-column",children:[Object(y.jsx)("label",{htmlFor:"",className:" fw-bold text-muted",children:"Account Access"}),Object(y.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm",value:e.Account})]}),Object(y.jsxs)("div",{className:"col-12 col-sm-5 d-flex flex-column",children:[Object(y.jsx)("label",{htmlFor:"",className:" fw-bold text-muted",children:"Reporting Manager"}),Object(y.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm",value:e.reportManager})]}),Object(y.jsxs)("div",{className:"col-12 col-sm-5 d-flex flex-column",children:[Object(y.jsx)("label",{htmlFor:"",className:" fw-bold text-muted",children:"Reporting HR"}),Object(y.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm",value:e.reportHr})]})]})))})}),"Educationalinfo"===i&&Object(y.jsx)("div",{className:"w-100 container ",children:Object(y.jsx)(os,{})}),"documentDetails"===i&&Object(y.jsxs)("div",{style:{overflow:"hidden auto",height:"27rem",scrollbarWidth:"thin"},children:[Object(y.jsx)("div",{className:"container-fluid",children:Object(y.jsxs)(re.a,{variant:"primary",onClick:e.onAddFamilyInfo,children:[Object(y.jsx)(W.a,{icon:J.e,id:"plus-icon"}),"Add Document"]})}),Object(y.jsx)("div",{className:"row mx-2 pb-3 column-gap-4 row-gap-4",children:O.reverse().map(((e,t)=>Object(y.jsxs)("div",{onMouseEnter:()=>h("name"),onMouseLeave:()=>h(null),className:"d-flex flex-column gap-2 rounded px-2 py-1 shadow",style:{height:"190px",width:"250px"},children:[Object(y.jsxs)("div",{style:{height:"150px",width:"100%",overflow:"hidden",background:"url(".concat(e.docURL,")"),backgroundPosition:"center",backgroundSize:"cover",opacity:"85%",boxShadow:"0 0 10px 1px rgba(192, 185, 185, 0.758) inset"},className:"bg-primary m-auto position-relative ",children:[Object(y.jsxs)("div",{style:{height:"100%",width:"100%",position:"absolute",top:"0",left:"0",background:"rgba(0,0,0,.4)",display:m?"flex":"none",justifyContent:"center",alignItems:"center",gap:"1rem"},children:[Object(y.jsx)("a",{target:"_blank",href:e.docURL,style:{height:"40px",width:"40px"},className:"btn p-0 btn bg-white text-primary shadow d-flex",children:Object(y.jsx)(es.d,{className:"m-auto fs-4"})}),Object(y.jsx)("a",{download:e.docURL,href:e.docURL,style:{height:"40px",width:"40px"},className:"btn p-0 btn bg-white text-primary shadow d-flex",children:Object(y.jsx)(X.c,{className:"m-auto fs-4"})})]}),Object(y.jsxs)("div",{style:{height:"30px",width:"30px",position:"absolute",bottom:"0",right:"0",opacity:"100%"},className:"bg-white d-flex shadow-sm text-danger",children:[e.docURL.toLowerCase().endsWith(".pdf")&&Object(y.jsx)(f.j,{className:"m-auto fs-3 text-black"}),(e.docURL.toLowerCase().endsWith(".jpeg")||e.docURL.toLowerCase().endsWith(".jpg"))&&Object(y.jsx)(f.d,{className:"m-auto fs-3"}),e.docURL.toLowerCase().endsWith(".png")&&Object(y.jsx)(f.i,{className:"m-auto fs-3"}),e.docURL.toLowerCase().endsWith(".mp3")&&Object(y.jsx)(f.c,{className:"m-auto fs-3"})]})]}),Object(y.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(y.jsx)("p",{style:{fontSize:".9rem"},className:"text-muted fw-bold m-0",children:e.docTitle})," ",Object(y.jsxs)("p",{style:{fontSize:".7rem"},className:"text-primary fw-bold m-0",children:[e.docSize," MB"]})]})]},t)))})]}),"WorkExperience"===i&&Object(y.jsx)("div",{className:"w-100 container ",children:Object(y.jsx)(hs,{})}),"otherInfo"===i&&Object(y.jsx)("div",{className:"w-100 container ",children:Object(y.jsx)(gs,{})})]})]})]})]})},vs=(a(491),a.p+"static/media/Personalinfo.309589af.svg");var Ns=e=>{const[t,a]=Object(s.useState)({GenderData:e.editData.Gender,EmailData:e.editData.Email,FirstNameData:e.editData.FirstName,MiddleNameData:e.editData.MiddleName,LastNameData:e.editData.LastName,DOBData:e.editData.DOB.slice(0,10),ContactNoData:e.editData.ContactNo,EmergencyContactNoData:e.editData.EmergencyContactNo||"",PANcardNoData:e.editData.PANcardNo||"",HobbiesData:e.editData.Hobbies||"",PresentAddressData:e.editData.PresentAddress||"",PermanetAddressData:e.editData.PermanetAddress||"",presonalEmail:e.editData.presonalEmail||"",role:e.editData.role||""}),c=s=>{a({...t,GenderData:s.target.value}),e.onGenderChange(s)};return Object(y.jsx)("div",{className:"container-fluid position-relative",children:Object(y.jsxs)("div",{style:{marginTop:"-.5rem",minHeight:"95vh"},className:"row bg-light p-2",children:[Object(y.jsx)("div",{className:"col-md-4 col-0",children:Object(y.jsx)("img",{src:vs,alt:""})}),Object(y.jsx)("div",{className:"col-md-8 col-0 ",children:Object(y.jsx)("div",{className:"",children:Object(y.jsxs)(me.a,{style:{overflow:"auto",maxHeight:"600px"},className:"row row-gap-2 rounded-2 shadow-sm m-auto justify-content-between bg-white",onSubmit:t=>e.onPersonalInfoEditUpdate(e.editData,t),children:[Object(y.jsx)("h4",{style:{position:"sticky",top:"0",zIndex:"2"},className:"fw-bold text-muted py-3 w-100 bg-light ",children:"Edit Employee info"}),Object(y.jsxs)(me.a.Group,{className:"col-12 col-md-6 d-flex flex-column gap-1",as:he.a,children:[Object(y.jsx)(me.a.Label,{className:"fw-bold text-muted",column:!0,children:"First Name"}),Object(y.jsx)(be.a,{className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"First Name",required:!0,disabled:!0,value:t.FirstNameData})})]}),Object(y.jsxs)(me.a.Group,{className:"col-12 col-md-6 d-flex flex-column gap-1",as:he.a,children:[Object(y.jsx)(me.a.Label,{className:"fw-bold text-muted",column:!0,children:"Middle Name"}),Object(y.jsx)(be.a,{className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"Middle Name",required:!0,disabled:!0,value:t.MiddleNameData})})]}),Object(y.jsxs)(me.a.Group,{className:"col-12 col-md-6 d-flex flex-column gap-1",as:he.a,children:[Object(y.jsx)(me.a.Label,{className:"fw-bold text-muted",column:!0,children:"Last Name"}),Object(y.jsx)(be.a,{className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"Last Name",disabled:!0,required:!0,value:t.LastNameData})})]}),Object(y.jsxs)(me.a.Group,{className:"col-12 col-md-6 d-flex flex-column gap-1",as:he.a,children:[Object(y.jsx)(me.a.Label,{className:"fw-bold text-muted",as:"legend",column:!0,children:"Gender"}),Object(y.jsxs)(be.a,{className:"d-flex gap-3",children:[Object(y.jsx)(me.a.Check,{inline:!0,type:"radio",label:"Male",value:"male",name:"gender",className:"d-flex gap-1 shadow-sm py-1 px-5 rounded-5",onChange:c,checked:"male"==t.GenderData,required:!0}),Object(y.jsx)(me.a.Check,{inline:!0,type:"radio",label:"Female",value:"female",name:"gender",className:"d-flex gap-1 shadow-sm py-1 px-5 rounded-5",onChange:c,checked:"female"==t.GenderData,required:!0})]})]}),Object(y.jsxs)(me.a.Group,{className:"col-12 col-md-6 d-flex flex-column gap-1",as:he.a,children:[Object(y.jsx)(me.a.Label,{className:"fw-bold text-muted",column:!0,children:"Contact No"}),Object(y.jsx)(be.a,{className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"Contact No ",required:!0,value:t.ContactNoData,onChange:e=>{return s=e,void a({...t,ContactNoData:s.target.value});var s}})})]}),Object(y.jsxs)(me.a.Group,{className:"col-12 col-md-6 d-flex flex-column gap-1",as:he.a,children:[Object(y.jsx)(me.a.Label,{className:"fw-bold text-muted",column:!0,children:"Emergency Contact"}),Object(y.jsx)(be.a,{className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"Emergency Contact No",required:!0,value:t.EmergencyContactNoData,onChange:e=>{return s=e,void a({...t,EmergencyContactNoData:s.target.value});var s}})})]}),Object(y.jsxs)(me.a.Group,{className:"col-12 col-md-6 d-flex flex-column gap-1",as:he.a,children:[Object(y.jsx)(me.a.Label,{className:"fw-bold text-muted",column:!0,children:"Work Email"}),Object(y.jsx)(be.a,{className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"email",placeholder:"Email",disabled:!0,required:!0,value:t.EmailData,onChange:e=>{return s=e,void a({...t,EmailData:s.target.value});var s}})})]}),Object(y.jsxs)(me.a.Group,{className:"col-12 col-md-6 d-flex flex-column gap-1",as:he.a,children:[Object(y.jsx)(me.a.Label,{className:"fw-bold text-muted",column:!0,children:"PAN Card No"}),Object(y.jsx)(be.a,{className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"PAN Card No",required:!0,value:t.PANcardNoData,onChange:e=>{return s=e,void a({...t,PANcardNoData:s.target.value});var s}})})]}),Object(y.jsxs)(me.a.Group,{className:"col-12 col-md-6 d-flex flex-column gap-1",as:he.a,children:[Object(y.jsx)(me.a.Label,{className:"fw-bold text-muted",column:!0,children:"Presonal Email"}),Object(y.jsx)(be.a,{className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"Presonal Email",required:!0,value:t.presonalEmail,onChange:e=>{a({presonalEmail:e.target.value})}})})]}),Object(y.jsxs)(me.a.Group,{className:"col-12 col-md-6 d-flex flex-column gap-1",as:he.a,children:[Object(y.jsx)(me.a.Label,{className:"fw-bold text-muted",column:!0,children:"DOB"}),Object(y.jsx)(be.a,{className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"date",placeholder:"DOB",required:!0,value:t.DOBData,onChange:e=>{return s=e,console.log(s.target.value),void a({...t,DOBData:s.target.value});var s}})})]}),Object(y.jsxs)(me.a.Group,{className:"col-12 col-md-6 d-flex flex-column gap-1",as:he.a,children:[Object(y.jsx)(me.a.Label,{className:"fw-bold text-muted",column:!0,children:"Blood Group"}),Object(y.jsx)(be.a,{className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",required:!0,children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),Object(y.jsx)("option",{value:"A+",selected:"A+"==e.editData.BloodGroup,children:"A+"}),Object(y.jsx)("option",{value:"A-",selected:"A-"==e.editData.BloodGroup,children:"A-"}),Object(y.jsx)("option",{value:"B+",selected:"B+"==e.editData.BloodGroup,children:"B+"}),Object(y.jsx)("option",{value:"B-",selected:"B-"==e.editData.BloodGroup,children:"B-"}),Object(y.jsx)("option",{value:"AB+",selected:"AB+"==e.editData.BloodGroup,children:"AB+"}),Object(y.jsx)("option",{value:"AB-",selected:"AB-"==e.editData.BloodGroup,children:"AB-"}),Object(y.jsx)("option",{value:"O+",selected:"O+"==e.editData.BloodGroup,children:"O+"}),Object(y.jsx)("option",{value:"O-",selected:"O-"==e.editData.BloodGroup,children:"O-"})]})})]}),Object(y.jsxs)(me.a.Group,{className:"col-12 col-md-6 d-flex flex-column gap-1",as:he.a,children:[Object(y.jsx)(me.a.Label,{className:"fw-bold text-muted",column:!0,children:"Hobbies"}),Object(y.jsx)(be.a,{className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"text",placeholder:"Hobbies",required:!0,value:t.HobbiesData,onChange:e=>{return s=e,void a({...t,HobbiesData:s.target.value});var s}})})]}),Object(y.jsxs)(me.a.Group,{className:"col-12 col-md-6 d-flex flex-column gap-1",as:he.a,children:[Object(y.jsx)(me.a.Label,{className:"fw-bold text-muted",column:!0,children:"Present Address"}),Object(y.jsx)(be.a,{className:"form-input",children:Object(y.jsx)(me.a.Control,{as:"textarea",rows:"3",plassholder:"Present Address",required:!0,value:t.PresentAddressData,onChange:e=>{return s=e,void a({...t,PresentAddressData:s.target.value});var s}})})]}),Object(y.jsxs)(me.a.Group,{className:"col-12 col-md-6 d-flex flex-column gap-1",as:he.a,children:[Object(y.jsx)(me.a.Label,{className:"fw-bold text-muted",column:!0,children:"Permanet Address"}),Object(y.jsx)(be.a,{className:"form-input",children:Object(y.jsx)(me.a.Control,{as:"textarea",rows:"3",plassholder:" Permanet Address",value:t.PermanetAddressData,onChange:e=>{return s=e,void a({...t,PermanetAddressData:s.target.value});var s}})})]}),Object(y.jsxs)("div",{className:"d-flex m-0 gap-3 py-2",children:[Object(y.jsx)("button",{className:"btn btn-primary px-5",type:"submit",children:"Submit"}),Object(y.jsx)("button",{className:"btn btn-danger px-5",type:"reset",onClick:e.onFormEditClose,children:"cancel"})]})]})})})]})})};a(492);var ws=e=>{let{data:t,back:a}=e;const[l,o]=Object(s.useState)(!0),[n,r]=Object(s.useState)(!1),[i,j]=Object(s.useState)({}),[m,h]=Object(s.useState)(""),b=e=>{console.log(e),console.log("clicked6"),r(!0),j(e),h(e.Gender)};return Object(y.jsx)(c.a.Fragment,{children:l?n?Object(y.jsx)(Ns,{onPersonalInfoEditUpdate:(e,t)=>{t.preventDefault(),console.log("zero data",t.target[0].value);const a={Gender:m,ContactNo:t.target[5].value,EmergencyContactNo:t.target[6].value,Email:t.target[7].value,PANcardNo:t.target[8].value,DOB:t.target[9].value,BloodGroup:t.target[10].value,Hobbies:t.target[11].value,PresentAddress:t.target[12].value,PermanetAddress:t.target[13].value,presonalEmail:t.target[14].value};console.log("update",a),d.a.put("".concat(R,"/api/personal-info/").concat(e._id),a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{o(!1),o(!0)})).catch((e=>{console.log(e)})),r(!1)},onFormEditClose:()=>{console.log("clicked5"),r(!1)},editData:i,onGenderChange:e=>{h(e.currentTarget.value)}}):Object(y.jsx)(ys,{onAddPersonalInfo:b,onEditPersonalInfo:b,data:t,back:a}):Object(y.jsx)("div",{})})};var Ds=()=>{const[e,t]=Object(s.useState)(!0),[a,c]=Object(s.useState)(!1),[l,o]=Object(s.useState)({}),[i,j]=Object(s.useState)(""),[m,h]=Object(s.useState)(""),[b,p]=Object(s.useState)({}),[x,u]=Object(s.useState)(!1),O=e=>{p(e),u(!0)},g=()=>{u(!1)},f=async e=>{e.preventDefault();const a=new FormData;a.append("Email",e.target[0].value),a.append("Password",e.target[1].value),a.append("Account",e.target[2].value),a.append("RoleID",e.target[3].value),a.append("Gender",i),a.append("FirstName",e.target[6].value),a.append("LastName",e.target[7].value),a.append("DOB",e.target[8].value),a.append("ContactNo",e.target[9].value),a.append("DepartmentID",e.target[10].value),a.append("PositionID",e.target[11].value),a.append("DateOfJoining",e.target[12].value),a.append("profile",e.target[13].files[0]),a.append("reportManager",e.target[14].value),a.append("reportHr",e.target[15].value),await d.a.post("".concat(R,"/api/employee"),a,{headers:{"Content-Type":"multipart/form-data",authorization:localStorage.getItem("token")||""}}).then((e=>{t(!0),console.log(e)})).catch((e=>{console.log(e.response),400===e.response.status&&alert(e.response.data)}))},v=()=>{t(!1)},N=e=>{c(!0),o(e),h(e.Gender)},w=()=>{t(!0)},D=()=>{c(!1)},S=(e,a)=>{a.preventDefault(),a.target[9].value;const s=new FormData;s.append("Email",a.target[0].value),s.append("Account",a.target[1].value),s.append("RoleID",a.target[2].value),s.append("Gender",m),s.append("FirstName",a.target[5].value),s.append("LastName",a.target[6].value),s.append("DOB",a.target[7].value),s.append("ContactNo",a.target[8].value),s.append("DepartmentID",a.target[9].value),s.append("PositionID",a.target[10].value),s.append("DateOfJoining",a.target[11].value),s.append("profile",a.target[12].files[0]),s.append("reportManager",a.target[13].value),d.a.put("".concat(R,"/api/employee/").concat(e._id),s,{headers:{authorization:localStorage.getItem("token")||"","Content-Type":"multipart/form-data"}}).then((e=>{t(!1),t(!0),c(!1)})).catch((e=>{400===e.response.status&&alert(e.response.data)}))},k=e=>{j(e.currentTarget.value)},C=e=>{h(e.currentTarget.value)};return Object(y.jsxs)(n.a,{children:[Object(y.jsx)(r.Route,{exact:!0,path:"/hr/employee",render:t=>Object(y.jsx)(y.Fragment,{children:e?a?Object(y.jsx)($a,{onEmployeeEditUpdate:S,onFormEditClose:D,editData:l,onGenderChange:C}):Object(y.jsx)(y.Fragment,{children:x?Object(y.jsx)(ws,{data:b,onBack:g}):Object(y.jsx)(gt,{onAddEmployee:v,onEditEmployee:N,onEmpInfo:O})}):Object(y.jsx)(Ka,{onEmployeeSubmit:f,onFormClose:w,onGenderChange:k})})}),Object(y.jsx)(r.Route,{exact:!0,path:"/hr/employee/info/personal-info",render:e=>Object(y.jsx)(ws,{data:b,back:!0})}),Object(y.jsx)(r.Route,{exact:!0,path:"/hr/employee/info/education",render:e=>Object(y.jsx)(os,{data:b,back:!0})}),Object(y.jsx)(r.Route,{exact:!0,path:"/hr/employee/info/family-info",render:e=>Object(y.jsx)(gs,{data:b,back:!0})}),Object(y.jsx)(r.Route,{exact:!0,path:"/hr/employee/info/work-experience",render:e=>Object(y.jsx)(hs,{data:b,back:!0})})]})};a(493);var Ss,ks=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)([]),[l,o]=Object(s.useState)(!0),[n,r]=Object(s.useState)(null);Object(s.useEffect)((()=>(d.a.get("".concat(R,"/api/employee"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{Array.isArray(e.data)?t(e.data.map((e=>{var t;return(null===(t=e.department[0])||void 0===t?void 0:t.DepartmentName)||""}))):console.error("Data received is not an array:",e.data)})).catch((e=>{console.log(e)})),(async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"));c(e.data)}catch(n){console.error("Error fetching tasks:",n.message),r("Error fetching tasks. Please try again later.")}finally{o(!1)}})(),()=>clearTimeout())),[]);const i={};e.forEach((e=>{i[e]=(i[e]||0)+1}));const j={Total:a.length,Completed:a.filter((e=>"Completed"===e.status)).length,Rejected:a.filter((e=>"Rejected"===e.status)).length,Canceled:a.filter((e=>"Canceled"===e.status)).length,Active:a.filter((e=>"Active"===e.status)).length,Pending:a.filter((e=>"Pending"===e.status)).length,Overdue:a.filter((e=>"Overdue"===e.status)).length},m=(Object.values(i),Object.keys(i),{options:{chart:{id:"task-status-chart",type:"bar"},fill:{colors:["var(--primaryDashColorDark)"]},xaxis:{categories:Object.keys(j),title:{text:"Task Status"}},yaxis:{title:{text:"Number of Tasks"}}},series:[{name:"Task Status",data:Object.values(j)}]});return Object(y.jsxs)("div",{style:{height:"fit-content"},className:"ChartCard p-2 pb-0",children:[Object(y.jsx)("div",{className:"ChartHeader",children:Object(y.jsx)("h6",{style:{width:"fit-content",boxShadow:"0 0 10px 1px rgba(0,0,0,.2) inset",color:"var(--primaryDashColorDark)"},className:"fw-bolder d-flex px-3 rounded-5 py-1",children:"Task Progress Report"})}),Object(y.jsx)("div",{className:"chartBody",children:Object(y.jsx)(z.a,{options:m.options,series:m.series,type:"bar",height:"340px"})})]})};Object(V.a)(Ss||(Ss=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var Cs,Es=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,r]=Object(s.useState)(""),[i,j]=Object(s.useState)(0),[m,h]=Object(s.useState)(null),[b,p]=Object(s.useState)("asc"),[x,u]=Object(s.useState)([]);let O=[],g=[];const f=()=>{d.a.get("".concat(R,"/api/leave-application-hr/"),{headers:{authorization:localStorage.getItem("token")||""}}).then((t=>{O=t.data,console.log("response",t.data),a(t.data),l(!1),g=[],O.map((e=>{let t={data:e,empID:e.employee&&e.employee[0]&&e.employee[0].empID,Name:e.employee&&e.employee[0]&&e.employee[0].FirstName+" "+e.employee[0].LastName,Leavetype:e.Leavetype,FromDate:e.FromDate.slice(0,10),ToDate:e.ToDate.slice(0,10),Reasonforleave:e.Reasonforleave,Status:v(e.Status)};g.push(t)})),u(g),j(t.data.length),e.updateTotalLeaves(t.data.length)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{f()}),[]);const v=e=>1==e?"Pending":2==e?"Approved":3==e?"Rejected":"Unknown",N=x.filter((e=>"Pending"===e.Status)).length,w=x.filter((e=>"Approved"===e.Status)).length,D=x.filter((e=>"Rejected"===e.Status)).length;return Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:"container-fluid",children:Object(y.jsxs)("div",{className:"row row-gap-4",children:[Object(y.jsx)("div",{className:"col-md-4",children:Object(y.jsx)("div",{style:{backgroundColor:"#FED2AA"},className:" DashboardCard position-relative",children:Object(y.jsxs)("div",{className:" d-flex flex-column gap-3",children:[Object(y.jsxs)("div",{className:"d-flex justify-content-between align-items-center  flex-nowrap",children:[Object(y.jsx)("p",{className:"fw-bold my-auto pt-2 text-muted",children:"On Pending Leaves"}),Object(y.jsx)("span",{className:"fw-bolder text-info",style:{fontSize:"35px"},children:N})]}),Object(y.jsxs)(n.b,{className:" moreInfoLink text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-1  aline-items-center fw-bold text-info  aline-center",to:"/hr/leaveApplication",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})}),Object(y.jsx)("div",{className:"col-md-4",children:Object(y.jsx)("div",{style:{backgroundColor:"#DFFFD8"},className:"DashboardCard position-relative",children:Object(y.jsxs)("div",{className:"d-flex flex-column gap-3",children:[Object(y.jsxs)("div",{className:"d-flex justify-content-between align-items-center  flex-nowrap",children:[Object(y.jsxs)("p",{className:"fw-bold my-auto pt-2 text-muted",children:["On Approved Leaves"," "]}),Object(y.jsx)("span",{className:"fw-bolder text-info",style:{fontSize:"35px"},children:w})]}),Object(y.jsxs)(n.b,{className:" moreInfoLink text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-1  aline-items-center fw-bold text-info  aline-center",to:"/hr/leaveAccepted",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})}),Object(y.jsx)("div",{className:"col-md-4",children:Object(y.jsx)("div",{style:{backgroundColor:"#FEBBCC"},className:"DashboardCard position-relative",children:Object(y.jsxs)("div",{className:"d-flex flex-column gap-3",children:[Object(y.jsxs)("div",{className:"d-flex justify-content-between align-items-center  flex-nowrap",children:[Object(y.jsx)("p",{className:"fw-bold my-auto pt-2 text-muted",children:"On Rejected Leaves"}),Object(y.jsx)("span",{className:"fw-bolder text-info",style:{fontSize:"35px"},children:D})]}),Object(y.jsxs)(n.b,{className:" moreInfoLink text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-1  aline-items-center fw-bold text-info  aline-center",to:"/hr/leaveRejected",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})})]})})})};Object(V.a)(Cs||(Cs=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var Ls=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,r]=Object(s.useState)([]),[i,j]=Object(s.useState)(""),[m,h]=Object(s.useState)(!1),[b,p]=Object(s.useState)(!0),[x,u]=Object(s.useState)([]),[O,g]=Object(s.useState)(""),f=()=>{d.a.get("".concat(R,"/api/employee"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{Array.isArray(e.data)?(a(e.data),l(!1),r([]),e.data.forEach((e=>{let t={data:e,Email:e.Email,Password:e.Password,Account:1===e.Account?"Admin":2===e.Account?"HR":3===e.Account?"Employee":4===e.Account?"Manager":"",RoleName:e.role[0]?e.role[0].RoleName:"",FirstName:e.FirstName,MiddleName:e.MiddleName,LastName:e.LastName,DOB:e.DOB.slice(0,10),ContactNo:e.ContactNo,empID:e.empID,DepartmentName:e.department[0]?e.department[0].DepartmentName:"",PositionName:e.position[0]?e.position[0].PositionName:"",DateOfJoining:e.DateOfJoining.slice(0,10)};r((e=>[...e,t]))}))):console.error("Data received is not an array:",e.data)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{f()}),[]);Object(s.useEffect)((()=>{(()=>{const e=new Date,t=o.filter((t=>{const a=new Date(t.DOB);a.setFullYear(e.getFullYear());const s=a-e,c=Math.ceil(s/864e5);return c>=0&&c<=7}));u(t)})()}),[o]);let v=o.filter((e=>{const t=!m||e.empID.toLowerCase()===i.toLowerCase(),a=e.FirstName.toLowerCase().includes(i.toLowerCase());return t&&a}));v=v.sort(((e,t)=>{const a=e.empID.toLowerCase(),s=t.empID.toLowerCase();return b?a.localeCompare(s):s.localeCompare(a)}));const N=v.filter((e=>"Admin"===e.Account)).length,w=v.filter((e=>"HR"===e.Account)).length,D=v.filter((e=>"Manager"===e.Account)).length,S=v.filter((e=>"Employee"===e.Account)).length;return Object(y.jsx)("div",{className:"",children:Object(y.jsx)("div",{className:"container-fluid",children:Object(y.jsxs)("div",{className:"row row-gap-4",children:[Object(y.jsx)("div",{className:"col-6 col-md-3 ",children:Object(y.jsx)("div",{style:{backgroundColor:"#FED2AA"},className:" DashboardCard position-relative",children:Object(y.jsxs)("div",{className:" d-flex flex-column gap-3",children:[Object(y.jsxs)("div",{className:"d-flex justify-content-between align-items-center  flex-nowrap",children:[Object(y.jsxs)("p",{className:"fw-bold my-auto pt-2 text-muted",children:["Total ",Object(y.jsx)("br",{})," Admins"]}),Object(y.jsx)("span",{className:"fw-bolder text-info",style:{fontSize:"35px"},children:N})]}),Object(y.jsxs)(n.b,{className:"moreInfoLink text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-1  aline-items-center fw-bold text-info  aline-center",to:"/hr/employee",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})}),Object(y.jsx)("div",{className:"col-6 col-md-3",children:Object(y.jsx)("div",{style:{backgroundColor:"#DFFFD8"},className:"DashboardCard position-relative",children:Object(y.jsxs)("div",{className:"d-flex flex-column gap-3",children:[Object(y.jsxs)("div",{className:"d-flex justify-content-between align-items-center  flex-nowrap",children:[Object(y.jsxs)("p",{className:"fw-bold my-auto pt-2 text-muted",children:["Total ",Object(y.jsx)("br",{})," HR"," "]}),Object(y.jsx)("span",{className:"fw-bolder text-info",style:{fontSize:"35px"},children:w})]}),Object(y.jsxs)(n.b,{className:"moreInfoLink text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-1  aline-items-center fw-bold text-info  aline-center",to:"/hr/employee",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})}),Object(y.jsx)("div",{className:"col-6 col-md-3",children:Object(y.jsx)("div",{style:{backgroundColor:"#FEBBCC"},className:"DashboardCard position-relative",children:Object(y.jsxs)("div",{className:"d-flex flex-column gap-3",children:[Object(y.jsxs)("div",{className:"d-flex justify-content-between align-items-center  flex-nowrap",children:[Object(y.jsxs)("p",{className:"fw-bold my-auto pt-2 text-muted",children:["Total ",Object(y.jsx)("br",{})," Manager"]}),Object(y.jsx)("span",{className:"fw-bolder text-info",style:{fontSize:"35px"},children:D})]}),Object(y.jsxs)(n.b,{className:" moreInfoLink text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-1  aline-items-center fw-bold text-info  aline-center",to:"/hr/employee",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})}),Object(y.jsx)("div",{className:"col-6 col-md-3",children:Object(y.jsx)("div",{style:{backgroundColor:"#BCCEF8"},className:"DashboardCard position-relative",children:Object(y.jsxs)("div",{className:"d-flex flex-column gap-3",children:[Object(y.jsxs)("div",{className:"d-flex justify-content-between align-items-center  flex-nowrap",children:[Object(y.jsxs)("p",{className:"fw-bold my-auto pt-2 text-muted",children:["Total ",Object(y.jsx)("br",{})," Employee"]}),Object(y.jsx)("span",{className:"fw-bolder text-info",style:{fontSize:"35px"},children:S})]}),Object(y.jsxs)(n.b,{className:" moreInfoLink text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-1  aline-items-center fw-bold text-info  aline-center",to:"/hr/employee",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})})]})})})};var Is=()=>{const[e,t]=Object(s.useState)([]),{socket:a}=Object(s.useContext)(te),c=localStorage.getItem("_id"),l=()=>{d.a.get("".concat(R,"/api/particularEmployee/").concat(c),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{console.log(e.data.Notice),t(e.data.Notice)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{l()}),[]),Object(s.useEffect)((()=>{console.log("Socket:",null===a||void 0===a?void 0:a.id),a&&(a.on("notice",(e=>{t((t=>[e,...t]))})),a.on("noticeDelete",(e=>{e&&l()})))}),[a]);return Object(y.jsx)("div",{className:"container box-shadow: 0 4px 10px 0 rgb(137 137 137 / 25%); p-0 h-100",children:Object(y.jsxs)("div",{className:"birthday shadow position-relative",children:[Object(y.jsxs)("h5",{style:{position:"sticky",top:"0",backgroundColor:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"fw-bolder pb-3 px-3 pt-3 d-flex justify-content-between gap-0 text-center",children:["Notice Board ",Object(y.jsxs)("span",{className:"text-primary",children:["(",e.length,")"]})]}),Object(y.jsx)("div",{className:"mainbirth",style:{maxWidth:"100%",overflowX:"auto"},children:e.filter(((e,t,a)=>a.findIndex((t=>t.noticeId===e.noticeId))===t)).length>0?Object(y.jsxs)("table",{className:"table table-striped mt-3",children:[Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{children:Object(y.jsx)("th",{className:"cursor-pointer",style:{width:"100%"},children:"Notice"})})}),Object(y.jsx)("tbody",{children:e.filter(((e,t,a)=>a.findIndex((t=>t.noticeId===e.noticeId))===t)).map((e=>Object(y.jsx)("tr",{style:{cursor:"pointer"},children:Object(y.jsx)("td",{onClick:()=>{return t=e.attachments,void window.open("".concat(R,"/").concat(t),"_blank","noreferrer");var t},children:"".concat(e.notice)})},e.noticeId)))})]}):Object(y.jsxs)("div",{className:"d-flex flex-column justify-content-center aline-items-center gap-3",style:{height:"100%",width:"100%"},children:[Object(y.jsx)("img",{style:{height:"70%",width:"60%"},className:"mx-auto",src:ae,alt:"Happy Birthday"}),Object(y.jsx)("p",{style:{opacity:"60%",fontSize:"13px"},className:"text-center w-75 mx-auto  fw-bold text-muted ",children:"Notice Not Assigned"})]})})]})})};var As=()=>Object(y.jsxs)("div",{className:"hrdashgrid-container container-fluid py-3",children:[Object(y.jsx)("div",{className:"hrdashgrid dash-1",children:Object(y.jsx)(Ls,{})}),Object(y.jsx)("div",{className:"hrdashgrid dash-3",children:Object(y.jsx)(Es,{})}),Object(y.jsx)("div",{className:"hrdashgrid dash-7 px-3",children:Object(y.jsx)(ce,{})}),Object(y.jsx)("div",{className:"hrdashgrid dash-5 px-3",children:Object(y.jsx)(_,{})}),Object(y.jsx)("div",{className:"hrdashgrid dash-4 px-3",children:Object(y.jsx)(ks,{})}),Object(y.jsx)("div",{className:"hrdashgrid dash-2",children:Object(y.jsx)(Is,{})}),Object(y.jsx)("div",{className:"hrdashgrid dash-6",children:Object(y.jsx)(q,{title:"Holiday List",newFolderLink:"/hr/holiday",holidayIcons:Object(y.jsx)(D.b,{})})}),Object(y.jsx)("div",{className:"hrdashgrid dash-8",children:Object(y.jsx)(P,{})})]}),Ts=a(76),Fs=a.p+"static/media/AttendanceNotAvailable.5519bd8b.svg";var Rs=()=>{const[e,t]=Object(s.useState)(""),[a,c]=Object(s.useState)([]),[l,o]=Object(s.useState)(null),[n,r]=Object(s.useState)((new Date).getFullYear()),[i,j]=Object(s.useState)((new Date).getMonth()+1),[m,h]=Object(s.useState)(null),[b,p]=Object(s.useState)(!1),x=()=>{p(!0)},u=()=>{p(!1)};Object(s.useEffect)((()=>{g()}),[]);const g=async()=>{try{const e=await d.a.get("".concat(R,"/api/employee"),{headers:{authorization:localStorage.getItem("token")||""}});c(e.data)}catch(e){console.error("Error fetching employees:",e)}},f=e=>{switch(e){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return""}},v=()=>{if(l&&l.years){const e=(new Date).getFullYear();return l.years.filter((t=>t.year<=e))}return[]},N=e=>{const t=e&&e.loginTime[0];if(t){const[e,a]=t.split(":").map(Number);if(e>9||9===e&&a>45)return"Half Day";if(e>9||9===e&&a>30)return"Late"}return t?"Present":"Absent"};function D(e){return Math.floor(e/60)+" Hrs "+e%60+" Min"}return Object(y.jsxs)("div",{className:"container-fluid d-flex py-3 flex-column gap-3",children:[Object(y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(y.jsx)("h5",{className:"fw-bold text-muted text-uppercase",children:"Employee Wise Attendance"}),Object(y.jsxs)("div",{className:"d-flex gap-3 ",children:[Object(y.jsx)("div",{children:Object(y.jsxs)("select",{className:"form-select w-100 shadow-sm text-muted",id:"employeeId",value:e,onChange:e=>{t(e.target.value)},children:[Object(y.jsx)("option",{value:"",disabled:!0,children:"--SELECT ANY EMPLOYEE--"}),a.sort(((e,t)=>e.empID-t.empID)).map((e=>Object(y.jsxs)("option",{className:"text-uppercase",value:e._id,children:["\ud83e\udeaa (",e.empID,") ",e.FirstName.toUpperCase(),"-",e.LastName.toUpperCase()]},e._id)))]})}),Object(y.jsx)("button",{className:"btn shadow btn-dark fw-bolder",style:{width:"fit-content"},onClick:async()=>{try{let t=(await d.a.get("".concat(R,"/api/attendance/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")||"")}})).data.filter((t=>t.employeeObjID&&t.employeeObjID._id===e));o(t.length>0?t[0]:null)}catch(t){console.error("Error fetching attendance data:",t)}},children:"Fetch Attendance"})]})]}),l&&Object(y.jsxs)("div",{className:"d-flex gap-3",children:[Object(y.jsxs)("div",{className:"w-25",children:[Object(y.jsx)("label",{htmlFor:"year",children:"Select Year:"}),Object(y.jsx)("select",{className:"form-select shadow",id:"year",value:n,onChange:e=>r(parseInt(e.target.value)),children:v().map((e=>Object(y.jsx)("option",{value:e.year,children:e.year},e.year)))})]}),Object(y.jsxs)("div",{className:"w-25",children:[Object(y.jsx)("label",{htmlFor:"month",children:"Select Month:"}),Object(y.jsx)("select",{className:"form-select shadow",id:"month",value:i,onChange:e=>j(parseInt(e.target.value)),children:(S=n,S===(new Date).getFullYear()?Array.from({length:(new Date).getMonth()+1},((e,t)=>t+1)):Array.from({length:12},((e,t)=>t+1))).map((e=>Object(y.jsx)("option",{value:e,children:f(e)},e)))})]})]}),l&&Object(y.jsx)("div",{style:{overflow:"auto",height:"80vh"},children:Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{style:{position:"sticky",top:"0",zIndex:"3"},className:"shadow-sm",children:[Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",cursor:"pointer"},children:"Date | Day"}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",cursor:"pointer"},children:"Status"}),Object(y.jsxs)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",cursor:"pointer"},children:[Object(y.jsx)(Ts.a,{}),"Login Time"]}),Object(y.jsxs)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",cursor:"pointer"},children:["Logout Time ",Object(y.jsx)(Ts.b,{})]}),Object(y.jsxs)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",cursor:"pointer"},children:[Object(y.jsx)(O.b,{}),"Log Count"]}),Object(y.jsxs)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",cursor:"pointer"},children:[Object(y.jsx)(w.d,{}),"Total Login"]})]})}),Object(y.jsx)("tbody",{children:v().map((e=>e.months.filter((e=>e.month===i)).map((e=>e.dates.sort(((e,t)=>e.date-t.date)).map((e=>{return Object(y.jsxs)("tr",{className:"shadow-sm",id:"attendance-row-".concat(e.date),onMouseEnter:()=>(e=>{h(e)})(e.date),onMouseLeave:()=>{h(null)},children:[Object(y.jsx)("td",{className:"d-flex",children:Object(y.jsxs)("div",{style:{overflow:"hidden",boxShadow:"0 0 3px 2px rgba(180, 179, 179, 0.863) inset"},className:"d-flex rounded-5 justify-content-center align-items-center bg-white border",children:[Object(y.jsx)("span",{style:{height:"30px",width:"30px"},className:"fw-bold d-flex justify-content-center align-items-center bg-primary shadow-sm text-white",children:String(e.date).padStart(2,"0")}),Object(y.jsx)("span",{style:{width:"3rem"},className:"fw-bold px-1 text-muted",children:(t=e.day,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t])})]})}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"text-start",children:Object(y.jsx)("span",{style:{fontSize:".8rem"},className:"py-1 px-3 rounded-5 shadow-sm fw-bold ".concat("Present"===N(e)?"bg-success text-white":"Late"===N(e)?"bg-info text-white":"Half Day"===N(e)?"bg-warning text-white":"bg-danger text-white"),children:N(e)})}),Object(y.jsx)("td",{className:"text-uppercase",children:e.loginTime[0]}),Object(y.jsx)("td",{className:"text-uppercase",children:e.logoutTime[e.logoutTime.length-1]}),Object(y.jsxs)("td",{className:"position-relative bg-white",children:[Object(y.jsxs)("div",{style:{display:"flex ",justifyContent:"start",alignItems:"center"},className:"fs-6 gap-2 ",onMouseEnter:x,onMouseLeave:u,children:[Object(y.jsxs)("span",{style:{fontSize:".9rem"},className:"fw-bold text-muted",children:["( ",e.loginTime.length," )"]}),Object(y.jsx)(X.d,{style:{fontSize:"1.1rem"},className:"text-dark "})]}),Object(y.jsx)("div",{style:{zIndex:"5",right:"0%",maxHeight:"30vh",overflow:"auto"},className:"position-absolute",children:b&&m===e.date&&Object(y.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"shadow-sm",children:[Object(y.jsx)("th",{style:{whiteSpace:"pre",backgroundColor:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},children:"Login"}),Object(y.jsx)("th",{style:{whiteSpace:"pre",backgroundColor:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},children:"Logout"}),Object(y.jsx)("th",{style:{whiteSpace:"pre",backgroundColor:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},children:"Total Login"})]})}),Object(y.jsx)("tbody",{children:e.loginTime.map(((t,a)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:t}),Object(y.jsx)("td",{children:e.logoutTime[a]}),Object(y.jsx)("td",{children:D(e.LogData[a])})]},a)))})]})})]}),Object(y.jsx)("td",{children:D(e.totalLogAfterBreak)})]},e.date);var t}))))))})]})}),null===l&&Object(y.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"1rem"},children:[Object(y.jsx)("div",{style:{height:"15rem",width:"15rem"},children:Object(y.jsx)("img",{style:{height:"100%",width:"100%"},src:Fs,alt:"img"})}),Object(y.jsx)("p",{className:"text-muted",children:"User not selected. To view data, please select a user."})]})]});var S};var Ps=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!0),[l,o]=Object(s.useState)(null),[,n]=Object(s.useState)(!1),[,r]=Object(s.useState)(!1),i=Object(vt.a)(),j=localStorage.getItem("Email"),{socket:m}=Object(s.useContext)(te),h=e=>{const t=new Date;let a=new Date(e)-t;if(a<0)return a=Math.abs(a),{delay:!0,days:0,hours:0,minutes:0};return{delay:!1,days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.floor(a%36e5/6e4)}},b=async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"));console.log(e.data),t(e.data)}catch(l){console.error("Error fetching tasks:",l.message),o("Error fetching tasks. Please try again later.")}finally{c(!1)}};Object(s.useEffect)((()=>(b(),()=>clearTimeout())),[]);const x=async e=>{try{r(!0);const t=prompt("Enter remarks for Reject Task:");if(null===t)return void r(!1);await d.a.put("".concat(R,"/api/tasks/").concat(e),{status:"Rejected",comment:t}),p.toast.success("Task Rejected"),b()}catch(l){console.error("Error Rejecting task:",l.message),p.toast.error("Failed to Reject task. Please try again.")}finally{r(!1)}};return Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsx)("h1",{className:"fs-2 text-muted fw-bolder text-uppercase",children:"\u2b50 New Task"}),Object(y.jsx)("p",{className:"text-muted",children:"You can view all New task here!"})," ",Object(y.jsx)("h1",{className:"fs-3 fw-bolder text-uppercase "}),a&&Object(y.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(y.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(y.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),Object(y.jsx)("div",{style:{overflowY:"scroll",height:"80vh",scrollbarWidth:"thin",scrollbarGutter:"stable",scrollMargin:"1rem"},children:e.filter((e=>"Assigned"===e.status&&e.managerEmail===j)).map(((e,t)=>Object(y.jsxs)("details",{style:{boxShadow:"-1px 1px 10px gray"},className:"p-1 position-relative mt-3 fs-4 rounded mx-3",children:[Object(y.jsxs)("summary",{style:{height:"fit-content",background:"linear-gradient(165deg,#11009E, #700B97, 90%, #C84B31)"},className:"d-flex justify-content-between aline-center form-control text-white ",children:[Object(y.jsxs)("div",{className:"fw-bold fs-5 d-flex justify-content-center flex-column",children:["# Task ",t+1," : ",e.Taskname]}),Object(y.jsx)("div",{style:{position:"absolute",top:"-10px",left:"20px"},className:"fw-bold bg-white rounded-5 px-3 text-primary fs-6 d-flex justify-content-center aline-center flex-column",children:e.department}),Object(y.jsxs)("div",{className:"d-flex gap-2 RemainingTimeHandel justify-content-between ",children:[h(e.endDate).delay?Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control  fw-bold p-0",children:[h(e.endDate).days," "]})," ",Object(y.jsx)("div",{children:"Day"})]}),Object(y.jsx)("h5",{className:"btn btn-danger p-1 px-3 fw-bold",children:"Late"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[h(e.endDate).days," "]})," ",Object(y.jsx)("div",{children:"Day"})]}),h(e.endDate).delay?Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control  fw-bold p-0",children:[h(e.endDate).hours," "]})," ",Object(y.jsx)("div",{children:"Min"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[h(e.endDate).hours," "]})," ",Object(y.jsx)("div",{children:"Hrs"})]}),h(e.endDate).delay?Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control fw-bold p-0",children:[h(e.endDate).minutes," "]})," ",Object(y.jsx)("div",{children:"Min"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[h(e.endDate).minutes," "]})," ",Object(y.jsx)("div",{children:"Min"})]})]})]}),Object(y.jsx)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:Object(y.jsxs)("div",{style:{height:"fit-content"},className:"form-control",children:[Object(y.jsxs)("p",{style:{height:"fit-content"},className:"text-start fs-6 form-control",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Task Discription"})," ",e.description]}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Task Durations ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[e.duration," days"]})," "]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Created By ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:e.managerEmail})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Start Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.startDate).toLocaleDateString()})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["End Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.endDate).toLocaleDateString()})]}),Object(y.jsx)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:Object(y.jsxs)("span",{children:["Task Status ",Object(y.jsx)("br",{})," ",e.status]})})]}),Object(y.jsx)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{className:"fw-bold",children:"Remarks : "})," ",e.comment]})}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("button",{className:"btn btn-info col-2 d-flex justify-center aline-center gap-2",onClick:()=>(async(e,t,a)=>{try{n(!0);const s=prompt("Enter remarks for Accept Task:");if(null===s)return void n(!1);await d.a.put("".concat(R,"/api/tasks/").concat(e),{status:"Pending",comment:s}),p.toast.success("Task Accepteed successfully!");const c={taskId:i,status:"unseen",path:"taskstatus",senderMail:j,taskName:t,message:"".concat(t," Accepted by ").concat(j),adminMail:a,Account:1,taskStatus:"Accepted"};m.emit("adminTaskNotification",c),b()}catch(l){console.error("Error canceling task:",l.message),p.toast.error("Failed to cancel task. Please try again.")}finally{n(!1)}})(e._id,e.Taskname,e.adminMail),children:[Object(y.jsx)(es.c,{}),"Accept"]}),Object(y.jsxs)("button",{className:"btn btn-primary col-2 d-flex justify-center aline-center gap-2",onClick:()=>x(e._id,e.Taskname,e.adminMail),children:[Object(y.jsx)(N.b,{}),"View Docs"]}),Object(y.jsxs)("button",{className:"btn btn-primary col-2 d-flex justify-center aline-center gap-2",onClick:()=>x(e._id),children:[Object(y.jsx)(D.a,{}),"Reject"]})]})]})})]},e.id)))})]})};var Ms=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!0),[l,o]=Object(s.useState)(null);return Object(s.useEffect)((()=>{(async()=>{await(async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"),{params:{status:"Cancelled"}});t(e.data)}catch(l){console.error("Error fetching cancelled tasks:",l.message),o("Error fetching cancelled tasks. Please try again later.")}finally{c(!1)}})()})()}),[]),Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsx)("h1",{className:"fs-2 text-muted fw-bolder text-uppercase",children:"\u274c Cancelled Task"}),Object(y.jsx)("p",{className:"text-muted",children:"You can view all Cancelled task here!"})," ",a&&Object(y.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(y.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(y.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),Object(y.jsx)("div",{style:{overflowY:"scroll",height:"80vh",scrollbarWidth:"thin",scrollbarGutter:"stable",scrollMargin:"1rem"},children:e.filter((e=>"Cancelled"===e.status)).map(((e,t)=>Object(y.jsxs)("details",{style:{boxShadow:"-1px 1px 10px gray"},className:"p-1 position-relative mt-3 fs-4 rounded mx-3",children:[Object(y.jsxs)("summary",{style:{height:"fit-content",background:"linear-gradient(165deg,#11009E, #700B97, 90%, #C84B31)"},className:"d-flex justify-content-between aline-center form-control text-white",children:[Object(y.jsxs)("div",{className:"fw-bold fs-5 d-flex justify-content-center flex-column",children:["# Task ",t+1," : ",e.Taskname]}),Object(y.jsx)("div",{style:{position:"absolute",top:"-10px",left:"20px"},className:"fw-bold bg-white rounded-5 px-3 text-danger fs-6 d-flex justify-content-center aline-center flex-column",children:e.department}),Object(y.jsx)("div",{className:"",children:Object(y.jsx)("p",{className:"btn btn-danger m-auto fw-bold",children:"Cancelled"})})]}),Object(y.jsxs)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:[Object(y.jsx)("div",{style:{width:"99.4%",height:"100%",zIndex:"5",backgroundColor:"rgba(128, 128, 128, 0.422)",textShadow:"-5px 5px 5px rgba(128, 128, 128, 0.422)"},className:"watermark form-control position-absolute d-flex justify-content-center aline-center",children:Object(y.jsx)("h1",{className:"text-uppercase text-light fw-bolder",children:"c a n c e l l e d"})}),Object(y.jsx)("div",{style:{height:"fit-content"},className:"form-control",children:Object(y.jsxs)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:[Object(y.jsx)("div",{style:{width:"99.4%",height:"100%",zIndex:"5",backgroundColor:"rgba(128, 128, 128, 0.422)",textShadow:"-5px 5px 5px rgba(128, 128, 128, 0.422)"},className:"watermark form-control   position-absolute d-flex justify-content-center aline-center",children:Object(y.jsx)("h1",{className:"text-uppercase text-light fw-bolder",children:"c a n c e l l e d"})}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"form-control",children:[Object(y.jsxs)("p",{style:{height:"fit-content"},className:"text-start fs-6 form-control",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Task Discription"})," ",e.description]}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Task Durations ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[e.duration," days"]})," "]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Created By ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[" ",e.managerEmail]})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Start Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.startDate).toLocaleDateString()})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["End Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.endDate).toLocaleDateString()})]}),Object(y.jsx)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:Object(y.jsxs)("span",{children:["Task Status ",Object(y.jsx)("br",{})," ",e.status]})})]}),Object(y.jsx)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{className:"fw-bold",children:"Remarks : "})," ",e.comment]})})]})]})})]})]},e.id)))})]})};var zs=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!0),[l,o]=Object(s.useState)(null);return Object(s.useEffect)((()=>((async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"),{params:{status:"Completed"}});t(e.data)}catch(l){console.error("Error fetching completed tasks:",l.message),o("Error fetching completed tasks. Please try again later.")}finally{c(!1)}})(),()=>clearTimeout())),[]),Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsxs)("h1",{className:"fs-2 text-muted fw-bolder text-uppercase",children:["\u2705 Completed Tasks (",e.filter((e=>"Completed"===e.status)).length,")"]}),Object(y.jsx)("p",{className:"text-muted",children:"You can view all Completed task here!"})," ",a&&Object(y.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(y.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(y.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),Object(y.jsx)("div",{style:{overflowY:"scroll",height:"80vh",scrollbarWidth:"thin",scrollbarGutter:"stable",scrollMargin:"1rem"},className:"d-flex flex-column gap-3",children:e.filter((e=>"Completed"===e.status)).map(((e,t)=>Object(y.jsxs)("details",{style:{boxShadow:"-1px 1px 10px gray"},className:"p-1 position-relative mt-3 fs-4 rounded mx-3",children:[Object(y.jsxs)("summary",{style:{height:"fit-content",background:"linear-gradient(165deg,#11009E, #700B97, 90%, #C84B31)"},className:"d-flex justify-content-between aline-center form-control text-white",children:[Object(y.jsxs)("div",{className:"fw-bold fs-5 d-flex justify-content-center flex-column",children:["# Task ",t+1," : ",e.Taskname]}),Object(y.jsx)("div",{style:{position:"absolute",top:"-10px",left:"20px"},className:"fw-bold bg-white rounded-5 px-3 text-success fs-6 d-flex justify-content-center aline-center flex-column",children:e.department}),Object(y.jsx)("div",{className:"",children:Object(y.jsx)("p",{className:"btn btn-success m-auto fw-bold",children:"Completed"})})]}),Object(y.jsxs)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:[Object(y.jsx)("div",{style:{width:"99.4%",height:"100%",zIndex:"5",backgroundColor:"rgba(0, 128, 0, 0.384)",textShadow:"-5px 5px 5px rgba(128, 128, 128, 0.422)"},className:"watermark form-control   position-absolute d-flex justify-content-center aline-center",children:Object(y.jsx)("h1",{className:"text-uppercase text-light fw-bolder",children:"C O M P L E T E D"})}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"form-control",children:[Object(y.jsxs)("p",{style:{height:"fit-content"},className:"text-start fs-6 form-control",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Task Discription"})," ",e.description]}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Task Durations ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[e.duration," days"]})," "]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Created By ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:e.managerEmail})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Start Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.startDate).toLocaleDateString()})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["End Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.endDate).toLocaleDateString()})]}),Object(y.jsx)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:Object(y.jsxs)("span",{children:["Task Status ",Object(y.jsx)("br",{})," ",e.status]})})]}),Object(y.jsx)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{className:"fw-bold",children:"Remarks : "})," ",e.comment]})})]})]})]},e.id)))})]})};var Bs=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!0),[l,o]=Object(s.useState)(null);return Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"),{params:{status:"Completed"}});t(e.data)}catch(l){console.error("Error fetching completed tasks:",l.message),o("Error fetching completed tasks. Please try again later.")}finally{c(!1)}})()}),[]),Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsx)("h1",{className:"fs-2 text-muted fw-bolder text-uppercase",children:"\ud83d\udd34 Rejected Tasks"}),Object(y.jsx)("p",{className:"text-muted",children:"You can view all rejected task here!"})," ",a&&Object(y.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(y.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(y.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),Object(y.jsx)("div",{style:{overflowY:"scroll",height:"80vh",scrollbarWidth:"thin",scrollbarGutter:"stable",scrollMargin:"1rem"},className:"d-flex flex-column gap-3",children:e.filter((e=>"Rejected"===e.status)).map(((e,t)=>Object(y.jsxs)("details",{style:{boxShadow:"-1px 1px 10px gray"},className:"p-1 position-relative mt-3 fs-4 rounded mx-3",children:[Object(y.jsxs)("summary",{style:{height:"fit-content"},className:"d-flex justify-content-between aline-center form-control bg-black text-white",children:[Object(y.jsxs)("div",{className:"fw-bold fs-5 d-flex justify-content-center flex-column",children:["# Task ",t+1," : ",e.Taskname]}),Object(y.jsx)("div",{style:{position:"absolute",top:"-10px",left:"20px"},className:"fw-bold bg-white rounded-5 px-3 text-success fs-6 d-flex justify-content-center aline-center flex-column",children:e.department}),Object(y.jsx)("div",{children:Object(y.jsx)("p",{className:"btn btn-light m-auto py-1 px-3 fw-bold",children:"Rejected"})})]}),Object(y.jsxs)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:[Object(y.jsx)("div",{style:{width:"99.4%",height:"100%",zIndex:"5",backgroundColor:"rgba(5, 128, 8, 0.384)",textShadow:"-5px 5px 5px rgba(128, 128, 128, 0.422)"},className:"watermark form-control   position-absolute d-flex justify-content-center aline-center",children:Object(y.jsx)("h1",{className:"text-uppercase text-light fw-bolder",children:"R E J E C T E D"})}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"form-control",children:[Object(y.jsxs)("p",{style:{height:"fit-content"},className:"text-start fs-6 form-control",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Task Discription"})," ",e.description]}),Object(y.jsxs)("div",{className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Task Durations ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[e.duration," days"]})," "]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Created By ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[" ",e.managerEmail]})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Start Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.startDate).toLocaleDateString()})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["End Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.endDate).toLocaleDateString()})]}),Object(y.jsx)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:Object(y.jsxs)("span",{children:["Task Status ",Object(y.jsx)("br",{})," ",e.status]})})]}),Object(y.jsx)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{className:"fw-bold",children:"Remarks : "})," ",e.comment]})})]})]})]},e.id)))})]})},_s=a(90);var Gs=()=>{const[e,t]=c.a.useState(!1),[a,l]=Object(s.useState)([]),[o,n]=Object(s.useState)(!0),[r,i]=Object(s.useState)(null),[,j]=Object(s.useState)(!1),[m,h]=Object(s.useState)([]),[b,x]=Object(s.useState)([]),[u,O]=Object(s.useState)(""),[g,f]=Object(s.useState)([]),[v,S]=Object(s.useState)(null),[k,C]=Object(s.useState)(!1),[E,L]=Object(s.useState)(!0),[I,A]=Object(s.useState)([]),[T,F]=Object(s.useState)(""),[P,M]=Object(s.useState)([]),[z,B]=Object(s.useState)(null),[_,G]=Object(s.useState)(!1),[H,U]=Object(s.useState)("");Object(s.useEffect)((()=>{d.a.get("http://localhost:4000/api/employee",{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;console.log("response",e.data),A(t),n(!1);const a=t.map((e=>({data:e,Email:e.Email,department:e.department[0].DepartmentName,FirstName:e.FirstName+""+e.LastName,ContactNo:e.ContactNo,PositionName:e.position[0]?e.position[0].PositionName:""})));console.log(a),M(a)})).catch((e=>{console.log(e)}))}),[]);const q=e=>{const t=new Date;let a=new Date(e)-t;if(a<0)return a=Math.abs(a),{delay:!0,days:0,hours:0,minutes:0};return{delay:!1,days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.floor(a%36e5/6e4)}},Y=async()=>{try{const e=await d.a.get("http://localhost:4000/api/tasks");l(e.data),i(null)}catch(r){console.error("Error fetching tasks:",r.message),i("Error fetching tasks. Please try again later.")}finally{n(!1)}};Object(s.useEffect)((()=>{Y()}),[]),Object(s.useEffect)((()=>{console.log("getEmployee:",m)}),[m]);const W=e=>{const t=e.employees.length-e.employees.filter((e=>"Rejected"===e.emptaskStatus)).length;return e.employees.filter((e=>"Completed"===e.emptaskStatus)).length/t*100};return Object(y.jsxs)("div",{className:"py-2",children:[Object(y.jsx)("h1",{className:"fs-3 fw-bolder text-uppercase mb-4",children:"All Active Tasks"}),o&&Object(y.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(y.jsx)("div",{className:"spinner-grow text-primary",role:"status"}),Object(y.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),r&&Object(y.jsx)("p",{className:"text-danger",children:r}),Object(y.jsx)("div",{className:"overflow-auto",style:{maxHeight:"80vh"},children:a.filter((e=>"Pending"===e.status)).map(((e,a)=>Object(y.jsxs)("details",{style:{boxShadow:"-1px 1px 10px gray"},className:"p-1 position-relative mt-3 fs-4 rounded mx-3",children:[Object(y.jsxs)("summary",{style:{height:"fit-content"},className:"d-flex justify-content-between aline-center form-control bg-dark  text-white",children:[Object(y.jsxs)("div",{className:"fw-bold fs-5 d-flex justify-content-center flex-column",children:["# Task ",a+1," : ",e.Taskname]}),Object(y.jsx)("div",{style:{position:"absolute",top:"-10px",left:"20px"},className:"fw-bold bg-white rounded-5 px-3 text-primary fs-6 d-flex justify-content-center aline-center flex-column",children:e.department}),Object(y.jsxs)("div",{className:"d-flex gap-2 RemainingTimeHandel justify-content-between ",children:[q(e.endDate).delay?Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control  fw-bold p-0",children:[q(e.endDate).days," "]})," ",Object(y.jsx)("div",{children:"Day"})]}),Object(y.jsx)("h5",{className:"btn btn-danger p-1 px-3 fw-bold",children:"Late"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[q(e.endDate).days," "]})," ",Object(y.jsx)("div",{children:"Day"})]}),q(e.endDate).delay?Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control  fw-bold p-0",children:[q(e.endDate).hours," "]})," ",Object(y.jsx)("div",{children:"Min"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[q(e.endDate).hours," "]})," ",Object(y.jsx)("div",{children:"Hrs"})]}),q(e.endDate).delay?Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control fw-bold p-0",children:[q(e.endDate).minutes," "]})," ",Object(y.jsx)("div",{children:"Min"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[q(e.endDate).minutes," "]})," ",Object(y.jsx)("div",{children:"Min"})]})]})]}),Object(y.jsx)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:Object(y.jsxs)("div",{style:{height:"fit-content"},className:"form-control",children:[Object(y.jsxs)("div",{style:{height:"fit-content"},className:"text-start fs-6 form-control",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Task Discription"}),Object(y.jsxs)("div",{className:"row justify-between",children:[Object(y.jsx)("div",{className:"col-10",children:e.description}),Object(y.jsx)("div",{className:"col-2 d-flex",style:{width:"6rem",borderRadius:"50%"},children:Object(y.jsx)(_s.a,{className:"fw-bold",value:W(e),text:"".concat(W(e).toFixed(2),"%"),styles:Object(_s.b)({pathColor:"#28a745",textColor:"#28a745"})})})]})]}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Task Durations ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[e.duration," days"]})," "]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Created By ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:e.managerEmail})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Start Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.startDate).toLocaleDateString()})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["End Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.endDate).toLocaleDateString()})]}),Object(y.jsx)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:Object(y.jsxs)("span",{children:["Task Status ",Object(y.jsx)("br",{})," ",e.status]})})]}),Object(y.jsx)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{className:"fw-bold",children:"Remarks : "})," ",e.comment]})}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Forwarded Members Status"}),Object(y.jsxs)(ve.a,{striped:!0,bordered:!0,hover:!0,children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"S. No"}),Object(y.jsx)("th",{children:"Name"}),Object(y.jsx)("th",{children:"Email"}),Object(y.jsx)("th",{children:"Designation"}),Object(y.jsx)("th",{children:"Task Status"}),Object(y.jsx)("th",{children:"Remarks"})]})}),Object(y.jsx)("tbody",{children:e.employees.map(((e,t)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{style:{backgroundColor:"Completed"===e.emptaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.emptaskStatus?"rgba(214, 92, 44, 0.636)":"inherit"},children:t+1}),Object(y.jsx)("td",{style:{backgroundColor:"Completed"===e.emptaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.emptaskStatus?"rgba(214, 92, 44, 0.636)":"inherit"},children:e.empname}),Object(y.jsx)("td",{style:{backgroundColor:"Completed"===e.emptaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.emptaskStatus?"rgba(214, 92, 44, 0.636)":"inherit"},children:e.empemail}),Object(y.jsx)("td",{style:{backgroundColor:"Completed"===e.emptaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.emptaskStatus?"rgba(214, 92, 44, 0.636)":"inherit"},children:e.empdesignation}),Object(y.jsx)("td",{style:{backgroundColor:"Completed"===e.emptaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.emptaskStatus?"rgba(214, 92, 44, 0.636)":"inherit"},children:e.emptaskStatus}),Object(y.jsx)("td",{style:{backgroundColor:"Completed"===e.emptaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.emptaskStatus?"rgba(214, 92, 44, 0.636)":"inherit"},children:e.empTaskComment})]},t)))})]})]}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("button",{className:"btn btn-primary col-2 d-flex justify-center aline-center gap-2",onClick:()=>(async(e,a)=>{let s=P.filter((e=>e.department===a));M(s),U(a),S(e),t(!0)})(e._id,e.department),children:[Object(y.jsx)(es.c,{})," Forward Task"]}),Object(y.jsxs)("button",{className:"btn btn-warning col-2 d-flex justify-center aline-center gap-2",onClick:()=>(async e=>{})(e._id),children:[Object(y.jsx)(N.b,{})," Ask Status"]}),Object(y.jsxs)("button",{className:"btn btn-success col-2 d-flex justify-center aline-center gap-2",onClick:()=>(async e=>{try{j(!0);const t=prompt("Enter remarks to Complete Task:");if(null===t)return void j(!1);await d.a.put("".concat(R,"/api/tasks/").concat(e),{status:"Completed",comment:t}),p.toast.success("Task completed successfully!"),Y()}catch(r){console.error("Error completing task:",r.message),test.error("Failed to complete task. Please try again.")}finally{j(!1)}})(e._id),disabled:100!==W(e),children:[Object(y.jsx)(w.b,{}),"Complete Task"]})]})]})})]},e.id)))}),Object(y.jsxs)(wt.a,{fullscreen:!0,show:e,onHide:()=>t(!1),children:[Object(y.jsx)(wt.a.Header,{closeButton:!0,children:Object(y.jsx)(wt.a.Title,{children:"Forward Task to Employees"})}),Object(y.jsx)(wt.a.Body,{children:Object(y.jsxs)("div",{className:"row",children:[Object(y.jsxs)("form",{className:"d-flex col-8 flex-column gap-3",children:[Object(y.jsx)("input",{className:"w-100 py-1 px-2 rounded-5 border",type:"search",name:"",placeholder:"Search...",id:"",value:u,onChange:e=>{(e=>{O(e.target.value)})(e),(e=>{const t=e.target.value.toLowerCase();if(""===t)h(g);else{const e=g.filter((e=>e.name.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.designation.toLowerCase().includes(t)));h(e)}})(e)}}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:" p-2",children:[" ",Object(y.jsx)("input",{type:"checkbox",name:"",id:"",onChange:()=>{C(!k),x(k?[]:[...P])},checked:k})," ",Object(y.jsx)("span",{children:"Select All"})]}),Object(y.jsxs)("table",{class:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"col",children:"Select"}),Object(y.jsx)("th",{scope:"col",children:"Name"}),Object(y.jsx)("th",{scope:"col",children:"Email"}),Object(y.jsx)("th",{scope:"col",children:"Contact"}),Object(y.jsx)("th",{scope:"col",children:"Designation"})]})}),Object(y.jsx)("tbody",{children:P.map(((e,t)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"row",children:Object(y.jsx)("input",{type:"checkbox",name:"",id:"",onChange:()=>(e=>{const t=b.some((t=>t.Email===e.Email));x(t?t=>t.filter((t=>t.Email!==e.Email)):[...b,e]),b.length<0?L(!0):L(!1),O("")})(e),checked:b.some((t=>t.Email===e.Email))})}),Object(y.jsx)("td",{children:e.FirstName}),Object(y.jsx)("td",{children:e.Email}),Object(y.jsx)("td",{children:e.ContactNo}),Object(y.jsx)("td",{children:e.PositionName})]},t)))})]})]})]}),Object(y.jsxs)("div",{className:"d-flex flex-column col-4 gap-2",children:[Object(y.jsx)("div",{className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:"fw-bold",children:"Selected Employees:"}),b.map(((e,t)=>Object(y.jsx)("div",{className:"d-flex",children:Object(y.jsxs)("span",{style:{boxShadow:"-3px 3px 5px rgba(204, 201, 201, 0.767)",width:"fit-content"},className:"selected-employee-email d-flex btn gap-2 aline-center  btn-light py-1 px-2 m-1",onClick:()=>{return t=e.Email,void x(b.filter((e=>e.Email!==t)));var t},children:[e.FirstName," - ",e.PositionName,Object(y.jsx)("span",{className:"text-danger d-none",children:Object(y.jsx)(D.d,{})})]})},t)))]})}),Object(y.jsx)("button",{className:"btn  btn-primary",onClick:()=>(async e=>{try{for(const t of b)try{const a={empname:t.FirstName,empemail:t.Email,empdesignation:t.PositionName,emptaskStatus:"Task Assigned"};await d.a.post("".concat(R,"/api/tasks/").concat(e,"/employees"),{employees:[a]})}catch(r){console.error("Error forwarding task to ".concat(t.FirstName,":"),r.message)}Y(),x([]),t(!1)}catch(r){console.error("Error forwarding task:",r.message),p.toast.error("Failed to forward task. Please try again.")}})(v),disabled:E,children:"Forward Task to Employees"}),Object(y.jsx)("button",{className:"btn btn-secondary",onClick:()=>t(!1),children:"Cancel"})]})]})})]})]})};const Hs=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(null),[l,o]=Object(s.useState)((new Date).getFullYear()),[n,r]=Object(s.useState)((new Date).getMonth()+1),[i,j]=Object(s.useState)(!1),[m,h]=Object(s.useState)(null),[b,p]=Object(s.useState)(!1),x=localStorage.getItem("Email"),u=localStorage.getItem("_id"),O=()=>{p(!0)},g=()=>{p(!1)};Object(s.useEffect)((()=>{(async()=>{try{let e=(await d.a.get("http://localhost:4000/api/attendance/".concat(u),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")||"")}})).data.filter((e=>e.employeeObjID&&e.employeeObjID.Email===x));c((()=>e.length>0?e[0]:null))}catch(e){console.error("Error fetching attendance data:",e)}})()}),[u,x]);const f=e=>{switch(e){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return""}},v=()=>{if(a&&a.years){const e=(new Date).getFullYear();return a.years.filter((t=>t.year<=e))}return[]},N=e=>{const t=Math.floor(e),a=Math.floor(e/1e3),s=Math.floor(a/60),c=Math.floor(s/60),l=String(c).padStart(2,"0"),o=String(s%60).padStart(2,"0"),n=String(a%60).padStart(2,"0"),r=String(t%60).padStart(2,"0");return"".concat(l,":").concat(o,":").concat(n,":").concat(r)},D=e=>{const t=e&&e.loginTime[0];if(t){const[e,a]=t.split(":").map(Number);if(e>9||9===e&&a>45)return"H";if(e>9||9===e&&a>30)return"L"}return t?"P":"A"};return Object(y.jsxs)("div",{className:"d-flex flex-column p-5 gap-3",children:[Object(y.jsx)("div",{className:"d-flex gap-3 justify-content-between"}),Object(y.jsx)("h1",{children:"Attendance List"}),a&&Object(y.jsxs)("div",{className:"d-flex gap-3",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"year",children:"Select a year:"}),Object(y.jsx)("select",{className:"form-select shadow",id:"year",value:l,onChange:e=>o(parseInt(e.target.value)),children:v().map((e=>Object(y.jsx)("option",{value:e.year,children:e.year},e.year)))})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"month",children:"Select a month:"}),Object(y.jsx)("select",{className:"form-select shadow",id:"month",value:n,onChange:e=>r(parseInt(e.target.value)),children:(S=l,S===(new Date).getFullYear()?Array.from({length:(new Date).getMonth()+1},((e,t)=>t+1)):Array.from({length:12},((e,t)=>t+1))).map((e=>Object(y.jsx)("option",{value:e,children:f(e)},e)))})]})]}),a&&Object(y.jsx)("div",{style:{overflow:"auto",height:"80vh"},children:Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"shadow-sm",children:[Object(y.jsx)("th",{className:"bg-dark text-white text-center",children:"Date"}),Object(y.jsx)("th",{className:"bg-dark text-white text-center",children:"Status"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Login Time"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Logout Time"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Break"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Total Login"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Status"})]})}),Object(y.jsx)("tbody",{children:v().map((e=>e.months.filter((e=>e.month===n)).map((e=>e.dates.sort(((e,t)=>e.date-t.date)).map((e=>Object(y.jsxs)("tr",{className:"shadow-sm",id:"attendance-row-".concat(e.date),onMouseEnter:()=>(e=>{h(e)})(e.date),onMouseLeave:()=>{h(null)},children:[Object(y.jsx)("td",{className:"text-center",children:Object(y.jsx)("span",{className:"fw-bold bg-info py-1 px-2  shadow-sm text-white",children:e.date})}),Object(y.jsx)("td",{style:{whiteSpace:"pre",textAlign:"center"},children:D(e)}),Object(y.jsx)("td",{className:"text-uppercase",children:e.loginTime[0]}),Object(y.jsx)("td",{className:"text-uppercase",children:e.logoutTime[e.logoutTime.length-1]}),Object(y.jsxs)("td",{className:"position-relative bg-white",children:[Object(y.jsxs)("div",{style:{display:"flex ",justifyContent:"start",alignItems:"center"},className:"fs-6 gap-2 ",onMouseEnter:O,onMouseLeave:g,children:[Object(y.jsx)("span",{style:{scale:"0.7"},className:"bg-warning py-0  text-white  px-2 rounded-5 my-auto",children:e.breakTime.length}),Object(y.jsx)("span",{className:"fw-bold text-dark fs-6",children:N(e.totalBrake)})," ",Object(y.jsx)(w.c,{style:{fontSize:".9rem"},className:"text-info "})]}),Object(y.jsx)("div",{style:{zIndex:"5",right:"0%"},className:"position-absolute",children:b&&m===e.date&&Object(y.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"shadow-sm p-0",children:[Object(y.jsx)("th",{className:"bg-info  py-0 text-white",children:"Break"}),Object(y.jsx)("th",{className:"bg-info  py-0 text-white",children:"Resume"}),Object(y.jsx)("th",{className:"text-end  py-0 bg-info text-white",style:{whiteSpace:"pre"},children:"Total Break"})]})}),Object(y.jsx)("tbody",{children:e.breakTime.map(((t,a)=>Object(y.jsxs)("tr",{className:"shadow-sm",children:[Object(y.jsx)("td",{className:"text-uppercase  py-1 text-center",style:{whiteSpace:"pre"},children:t}),Object(y.jsx)("td",{className:"text-uppercase  py-1 text-center",style:{whiteSpace:"pre"},children:e.ResumeTime[a]}),Object(y.jsx)("td",{className:"text-end py-1 ",style:{whiteSpace:"pre"},children:N(e.BreakData[a])})]},a)))})]})})]}),Object(y.jsx)("td",{children:N(e.totalLogAfterBreak)}),Object(y.jsx)("td",{children:e.status})]},e.date)))))))})]})}),null===a&&Object(y.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"1rem"},children:[Object(y.jsx)("div",{className:"fs-2 fw-bolder",children:Object(y.jsx)(E.b,{className:"spinner-border text-info"})}),Object(y.jsx)("p",{className:"text-muted",children:"User not selected. To view data, please select a user."})]})]});var S};var Us=Object(s.memo)(Hs);var qs=function(e){const[t,a]=Object(s.useState)(null),{employees:c,setEmployees:l,selectedEmployee:o,setSelectedEmployee:n,attencenceID:r,setAttencenceID:i,message:j,setMessage:m}=Object(s.useContext)(te);return Object(s.useEffect)((()=>{(async e=>{await d.a.get("".concat(R,"/api/employee"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{let t=e.data.filter((e=>2===e.Account));l(t)})).catch((e=>{console.log(e)}))})()}),[]),Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get("".concat(R,"/api/personal-info/")+localStorage.getItem("_id"),{headers:{authorization:localStorage.getItem("token")||""}});console.log(e.data.FirstName),a(e.data.FirstName)}catch(e){console.error("Error fetching employees:",e)}})()}),[]),console.log(c),Object(y.jsxs)("div",{className:"App row",children:[Object(y.jsx)("h1",{className:"text-center text-uppercase my-3",children:"Attendance System"}),Object(y.jsxs)("div",{className:"form-control d-flex  gap-3 p-3 m-3",style:{height:"fit-content"},children:[Object(y.jsx)("input",{value:t,style:{display:"none"}}),Object(y.jsxs)("div",{className:"d-flex gap-3",children:[Object(y.jsx)("button",{className:"btn btn-success",onClick:async()=>{let e=c.filter((e=>e.FirstName===t));console.log(e);let a=e[0].attendanceObjID,s=e[0]._id;try{if(!t)return void m("Please select a user");const e=Math.round((new Date).getTime()/1e3/60),c=Tt()().format("LT");await d.a.post("".concat(R,"/api/attendance/").concat(a),{employeeId:s,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),loginTime:[c],loginTimeMs:[e],status:"Login"}),m("Login time recorded successfully")}catch(l){console.error("Error recording login time:",l),m("Error recording login time")}},children:"Mark Attendance"}),Object(y.jsx)("button",{className:"btn btn-danger",onClick:async()=>{let e=c.filter((e=>e.FirstName===t)),a=e[0].attendanceObjID,s=e[0]._id;try{if(!t)return void m("Please select an employee");const e=Math.round((new Date).getTime()/1e3/60),c=Tt()().format("HH:mm:ss");await d.a.post("".concat(R,"/api/attendance/").concat(a),{employeeId:s,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),logoutTime:[c],logoutTimeMs:[e],status:"Logout"}),m("Logout time recorded successfully")}catch(l){console.error("Error recording logout time:",l),m("Error recording logout time")}},children:"Logout"}),Object(y.jsxs)("div",{className:"d-flex gap-3",children:[Object(y.jsx)("button",{className:"btn btn-warning",onClick:async()=>{let e=localStorage.getItem("Email");if(c){let a=c.filter((t=>t.Email===e));console.log(e);let s=a[0].attendanceObjID,l=a[0]._id;try{if(!a)return void m("Please select an employee");const e=Tt()().format("HH:mm:ss"),t=(new Date).getTime(),c=Math.round(t);await d.a.post("".concat(R,"/api/attendance/").concat(s),{employeeId:l,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),breakTime:[e],breakTimeMs:[c],status:"Break"}),m("Break time recorded successfully")}catch(t){console.error("Error recording break time:",t),m("Error recording break time")}}},children:"Break"}),Object(y.jsx)("button",{className:"btn btn-primary",onClick:async()=>{let e=localStorage.getItem("Email");if(c){let a=c.filter((t=>t.Email===e)),s=a[0].attendanceObjID,l=a[0]._id;try{if(!a)return void m("Please select an employee");const e=Tt()().format("HH:mm:ss"),t=(new Date).getTime(),c=Math.round(t);await d.a.post("".concat(R,"/api/attendance/").concat(s),{employeeId:l,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),ResumeTime:[e],resumeTimeMS:[c],status:"Login"}),m("Resumed time recorded successfully")}catch(t){console.error("Error recording resume time:",t),m("Error recording resume time")}}},children:"Resume"})]})]})]}),j&&Object(y.jsx)("p",{children:j}),Object(y.jsx)("div",{className:"view",children:Object(y.jsx)(Us,{})})]})},Ys=a(157),Ws=a(91);var Js=()=>{const[e,t]=Object(s.useState)(null),[a,c]=Object(s.useState)([]),[l,o]=Object(s.useState)(""),[r,i]=Object(s.useState)(null),[j,m]=Object(s.useState)("asc");Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get("".concat(R,"/api/todays-attendance"));c(e.data)}catch(e){console.error("Error fetching today's attendance data:",e)}})()}),[]);const h=new Date,b=h.getFullYear();let p=h.getMonth()+1,x=h.getDate();x<10&&(x="0"+x),p<10&&(p="0"+p);let u=h.getDay();const g=e=>{if(!e||!e.attendance)return"Absent";const t=e.attendance.loginTime&&e.attendance.loginTime[0];if("string"!==typeof t)return"Absent";const[a,s]=t.split(":").map(Number);return isNaN(a)||isNaN(s)?"Absent":a>9||9===a&&s>45?"Half Day":a>9||9===a&&s>30?"Late":t?"Present":"Absent"},f=a.slice().filter((e=>e.FirstName.toLowerCase().includes(l.toLowerCase()))).sort(((e,t)=>{if(r){const a=e[r],s=t[r];return"string"===typeof a&&"string"===typeof s?"asc"===j?a.localeCompare(s):s.localeCompare(a):"asc"===j?a-s:s-a}return 0}));function v(e){return Math.floor(e/60)+" Hrs "+e%60+" Min"}return Object(y.jsxs)("div",{className:"container-fluid pb-5",children:[Object(y.jsxs)("div",{className:"d-flex justify-content-between py-3",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("h4",{className:"fw-bolder my-auto text-success mb-2",children:"Today's Attendance"}),Object(y.jsxs)("div",{className:"d-flex gap-2",children:[Object(y.jsx)("input",{value:l,onChange:e=>{o(e.target.value)},type:"search",className:"form-control rounded-5",placeholder:"Search by employee name"})," ",Object(y.jsxs)("button",{style:{whiteSpace:"pre"},className:"btn p-0 px-3 shadow-sm rounded-5",onClick:()=>{const e=a.map((e=>({"Employee ID":e.empID.toUpperCase(),"Employee Name":e.FirstName.toUpperCase()+" "+e.LastName.toUpperCase(),"Login Time (24Hrs)":e.attendance?e.attendance.loginTime[0]:"--","Logout Time (24Hrs)":e.attendance?e.attendance.logoutTime[e.attendance.logoutTime.length-1]:"--","Total Login Time":e.attendance?v(e.attendance.totalLogAfterBreak).toUpperCase():"--",Mark:g(e).toUpperCase()}))),t=Ws.a.json_to_sheet(e);Ws.a.sheet_add_aoa(t,[["Kasper","123 New Delhi 110044"]],{origin:-1});const s=Ws.a.book_new();Ws.a.book_append_sheet(s,t,"Attendance"),Ws.b(s,"attendance.xlsx")},children:[" ",Object(y.jsx)(Ys.a,{className:"text-success"})," Export XLSX"]})]})]}),Object(y.jsxs)("span",{className:"p-0 fw-bolder fs-6 text-muted d-flex flex-column ",children:[Object(y.jsxs)("span",{className:"m-0 p-0 fs-6 text-center bg-white shadow-sm rounded-5 px-2",children:[" ",Object(y.jsx)("span",{className:"fw-bold",children:x}),"-",Object(y.jsx)("span",{className:"fw-bold",children:p}),"-",Object(y.jsx)("span",{className:"fw-bold",children:b})]}),Object(y.jsx)("span",{className:"text-uppercase m-0 p-0 text-primary fs-4 text-center",children:(S=u,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][S])})]})]}),Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{style:{position:"sticky",top:"0",zIndex:"1"},children:[Object(y.jsxs)("th",{onClick:()=>{return i(e="FirstName"),void m((t=>r===e&&"asc"===t?"desc":"asc"));var e},style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},children:[Object(y.jsx)(O.a,{})," Employee ",(N="FirstName",r===N?"asc"===j?"\u25b4":"\u25be":null)]}),Object(y.jsxs)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"text-center",children:[" ",Object(y.jsx)(Ts.a,{})," Login Time"," "]}),Object(y.jsxs)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"text-center",children:[" ","Logout Time ",Object(y.jsx)(Ts.b,{})," "]}),Object(y.jsxs)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"text-center",children:[" ",Object(y.jsx)(O.b,{})," Log Count"," "]}),Object(y.jsxs)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"text-center",children:[" ",Object(y.jsx)(w.d,{})," Total Login"," "]}),Object(y.jsxs)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"text-center",children:[" ","Status ",Object(y.jsx)(Ts.c,{})]}),Object(y.jsxs)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"text-center",children:[" ",Object(y.jsx)(es.b,{})," Mark"," "]}),Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"}})]})}),Object(y.jsx)("tbody",{children:f.length>0?f.map((a=>{const s=g(a);return Object(y.jsxs)("tr",{style:{position:"sticky",top:"0"},children:[Object(y.jsx)("td",{className:"fw-bold",children:Object(y.jsxs)("div",{className:"d-flex w-100 align-items-center gap-2",children:[Object(y.jsx)("div",{style:{height:"43px",width:"43px",overflow:"hidden"},children:Object(y.jsx)("img",{style:{height:"100%",width:"100%",objectFit:"cover",overflow:"hidden",borderRadius:"50%"},src:"https://tse3.mm.bing.net/th?id=OIP.-d8GY5axNJZYoXsNOUJ4iwAAAA&pid=Api&P=0&h=180",alt:""})}),Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{style:{fontSize:".75rem"},className:"p-0 m-0 w-100 text-muted",children:a.empID}),Object(y.jsxs)("p",{style:{fontSize:".80rem"},className:"p-0 m-0 w-100 text-uppercase",children:[a.FirstName," ",a.LastName]})]})]})}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"text-uppercase text-center",children:a.attendance?a.attendance.loginTime[0]:"--"}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"text-uppercase text-center",children:a.attendance?a.attendance.logoutTime[a.attendance.logoutTime.length-1]:"--"}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"text-uppercase text-center",children:a.attendance?a.attendance.logoutTime.length:"--"}),Object(y.jsx)("td",{style:{verticalAlign:"middle",textAlign:"center"},children:a.attendance?v(a.attendance.totalLogAfterBreak):null}),Object(y.jsx)("td",{className:"text-capitalize text-center",style:{verticalAlign:"middle"},children:a.attendance?a.attendance.status:"--"}),Object(y.jsx)("td",{style:{verticalAlign:"middle"},className:"text-center",children:Object(y.jsx)("span",{style:{fontSize:".8rem"},className:"py-1 px-3 rounded-5 shadow-sm fw-bold ".concat("Present"===s?"bg-success text-white":"Late"===s?"bg-info text-white":"Half Day"===s?"bg-warning text-white":"bg-danger text-white"),children:s})}),Object(y.jsxs)("td",{style:{zIndex:"1",verticalAlign:"middle"},className:"text-center",children:[Object(y.jsxs)("button",{onMouseEnter:()=>t(a),onMouseLeave:()=>t(null),className:" btn p-0 fw-bold fs-5 position-relative",children:[Object(y.jsx)(k.b,{})," ",Object(y.jsx)("span",{style:{display:e===a?"flex":"none"},children:Object(y.jsx)(n.b,{to:"/hr/viewAttenDance",style:{position:"absolute",whiteSpace:"pre",right:"70%",bottom:"-50%",zIndex:"2"},className:"shadow px-2 py-0  fs-6 bg-white rounded-5",children:"Detailed"})})]})," "]})]},a.userId)})):Object(y.jsx)("tr",{children:Object(y.jsxs)("td",{colSpan:"10",style:{height:"30vh",width:"94%",position:"absolute"},className:"d-flex flex-column justify-content-center align-items-center gap-1",children:[Object(y.jsxs)("span",{className:"fw-bolder ",style:{fontSize:"2rem"},children:[Object(y.jsx)(D.h,{className:"text-danger",style:{fontSize:"2.3rem"}})," ","OOPS!"]}),Object(y.jsx)("h6",{className:"p-0 m-0",children:"Record not found."})]})})})]})]});var N,S};var Vs=function(){const{employees:e,setEmployees:t,selectedEmployee:a,setSelectedEmployee:c,attencenceID:l,setAttencenceID:o,message:n,setMessage:r}=Object(s.useContext)(te);Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get("".concat(R,"/api/employee"),{headers:{authorization:localStorage.getItem("token")||""}});t(e.data)}catch(e){console.error("Error fetching employees:",e)}})()}),[]);const i=async e=>{try{const t=await d.a.get("".concat(R,"/api/attendance/").concat(e)),a=t.data[t.data.length-1];r(a?"Status: ".concat(a.years[0].months[0].dates[0].status):"")}catch(t){console.error("Error fetching attendance data:",t)}};return console.log(e),Object(y.jsxs)("div",{className:"App row",children:[Object(y.jsx)("h1",{className:"text-center text-uppercase my-3",children:"Attendance System"}),Object(y.jsxs)("div",{className:"form-control d-flex  gap-3 p-3 m-3",style:{height:"fit-content"},children:[Object(y.jsxs)("select",{className:"form-select mx-2 w-25 ",onChange:t=>(t=>{const a=e.find((e=>e._id===t));a&&(o(a.attendanceObjID),c(t),i(t))})(t.target.value),children:[Object(y.jsx)("option",{value:"",children:"-- Select User --"}),e.map((e=>Object(y.jsxs)("option",{value:e._id,children:[e.FirstName,e.empID]},e._id)))]}),Object(y.jsxs)("div",{className:"d-flex gap-3",children:[Object(y.jsx)("button",{className:"btn btn-success",onClick:async()=>{try{if(!a)return void r("Please select a user");const e=(new Date).toLocaleTimeString();await d.a.post("".concat(R,"/api/attendance/").concat(l),{employeeId:a,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),loginTime:[e],status:"login"}),r("Login time recorded successfully")}catch(e){console.error("Error recording login time:",e),r("Error recording login time")}},children:"Login"}),Object(y.jsx)("button",{className:"btn btn-danger",onClick:async()=>{try{if(!a)return void r("Please select an employee");const e=(new Date).toLocaleTimeString();await d.a.post("".concat(R,"/api/attendance/").concat(l),{employeeId:a,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),logoutTime:[e],status:"logout"}),r("Logout time recorded successfully")}catch(e){console.error("Error recording logout time:",e),r("Error recording logout time")}},children:"Logout"}),Object(y.jsxs)("div",{className:"d-flex gap-3",children:[Object(y.jsx)("button",{className:"btn btn-warning",onClick:async()=>{try{if(!a)return void r("Please select an employee");const e=(new Date).toLocaleTimeString(),t=Math.round((new Date).getTime()/1e3/60);await d.a.post("".concat(R,"/api/attendance/").concat(l),{employeeId:a,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),breakTime:[e],breakTimeMs:[t],status:"break"}),r("Break time recorded successfully")}catch(e){console.error("Error recording break time:",e),r("Error recording break time")}},children:"Break"}),Object(y.jsx)("button",{className:"btn btn-primary",onClick:async()=>{try{if(!a)return void r("Please select an employee");const e=(new Date).toLocaleTimeString(),t=Math.round((new Date).getTime()/1e3/60);await d.a.post("".concat(R,"/api/attendance/").concat(l),{employeeId:a,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),ResumeTime:[e],resumeTimeMS:[t],status:"resume"}),r("Resumed time recorded successfully")}catch(e){console.error("Error recording resume time:",e),r("Error recording resume time")}},children:"Resume"})]})]})]}),n&&Object(y.jsx)("p",{children:n})]})};var Xs=function(){const e=new Date,t=e.getFullYear(),a=e.getMonth()+1,[c,l]=Object(s.useState)(a),[o,n]=Object(s.useState)(t),[r,i]=Object(s.useState)([]),[j,m]=Object(s.useState)([]);Object(s.useEffect)((()=>{h()}),[o,c]);const h=async()=>{try{const e=await d.a.get("".concat(R,"/api/attendance"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")||"")}});i(e.data)}catch(e){console.error("Error fetching attendance data:",e)}},b=new Date(o,c,0).getDate(),p=e=>{if(e&&0!==e.length){const t=parseInt(e.split(":")[0]),a=parseInt(e.split(":")[1]);return t<9||9===t&&a<30?{status:"P",color:"#6BCB77"}:9===t&&a<45?{status:"L",color:"#41C9E2"}:t<14||14===t&&0===a?{status:"H",color:"#FDA403"}:{status:"A",color:"#EF4040"}}return{status:"--",color:"rgba(219, 216, 216, .8)"}},x=Array.from(new Set(r.flatMap((e=>e.years.map((e=>e.year)))))),u=Array.from(new Set(r.flatMap((e=>e.years.filter((e=>e.year===o)).flatMap((e=>e.months.map((e=>e.month)))))))),O=e=>{switch(e){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return""}},g=e=>{let t=0;return r.forEach((a=>{var s,l,n;const r=a.years.findIndex((e=>e.year===o)),i=null===(s=a.years[r])||void 0===s?void 0:s.months.findIndex((e=>e.month===c));((null===(l=a.years[r])||void 0===l||null===(n=l.months[i])||void 0===n?void 0:n.dates)||[]).forEach((a=>{const s=a.loginTime[0];p(s).status===e&&t++}))})),t};return console.log(r[0]),Object(y.jsxs)("div",{className:"container-fluid pb-5",children:[Object(y.jsxs)("div",{className:"d-flex justify-content-between py-3",children:[Object(y.jsx)("h5",{className:"my-auto",children:"Employee Monthly Attendance"}),Object(y.jsxs)("div",{className:"d-flex gap-3",children:[Object(y.jsxs)("div",{className:"",children:[Object(y.jsx)("label",{children:"Filter Year"}),Object(y.jsxs)("select",{className:"form-select",value:o,onChange:e=>n(parseInt(e.target.value)),children:[Object(y.jsx)("option",{value:"",children:"--Select Year--"}),x.sort((function(e,t){return e-t})).map(((e,t)=>Object(y.jsx)("option",{value:e,children:e},t)))]})]}),Object(y.jsxs)("div",{className:"",children:[Object(y.jsx)("label",{children:"Filter Month"}),Object(y.jsxs)("select",{className:"form-select",value:c,onChange:e=>l(parseInt(e.target.value)),children:[Object(y.jsx)("option",{value:"",children:"--Select Month--"}),u.sort((function(e,t){return e-t})).map(((e,t)=>Object(y.jsx)("option",{value:e,children:O(e)},t)))]})]})]})]}),Object(y.jsx)("div",{style:{overflow:"scroll auto",maxHeight:"80vh",position:"relative"},className:"border border-1 employee-attendence-table mt-3",children:Object(y.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{style:{position:"sticky",top:"-2px"},children:[Object(y.jsx)("th",{style:{whiteSpace:"pre",backgroundColor:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",position:"sticky",left:"0",top:"0"},children:"S.No"}),Object(y.jsx)("th",{style:{whiteSpace:"pre",backgroundColor:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",position:"sticky",left:"0",top:"0"},children:"Employee ID"}),Object(y.jsx)("th",{style:{whiteSpace:"pre",backgroundColor:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",position:"sticky",left:"-1px",top:"0"},children:"Employee Name"}),[...Array(b)].map(((e,t)=>Object(y.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"text-center",children:(t+1).toString().padStart(2,"0")},t))),Object(y.jsx)("th",{className:"text-white",style:{whiteSpace:"pre",backgroundColor:"#EF4040"},children:"Total Absent"}),Object(y.jsx)("th",{className:"text-white",style:{whiteSpace:"pre",backgroundColor:"#6BCB77"},children:"Total Present"}),Object(y.jsx)("th",{className:"text-white",style:{whiteSpace:"pre",backgroundColor:"#41C9E2"},children:"Total Late"}),Object(y.jsx)("th",{className:"text-white",style:{whiteSpace:"pre",backgroundColor:"#FDA403"},children:"Total Halfday"})]})}),Object(y.jsx)("tbody",{children:r.map(((e,t)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"text-center",children:(t+1).toString().padStart(2,"0")}),Object(y.jsx)("td",{children:e.employeeObjID.empID}),Object(y.jsxs)("td",{children:[e.employeeObjID.FirstName," ",e.employeeObjID.LastName]}),[...Array(b)].map(((t,a)=>{var s,l,n;const r=x.indexOf(o),i=u.indexOf(c),d=null===(s=e.years[r])||void 0===s||null===(l=s.months[i])||void 0===l||null===(n=l.dates[a])||void 0===n?void 0:n.loginTime[0],{status:j,color:m}=p(d);return Object(y.jsx)("td",{className:"fw-bold",style:{whiteSpace:"pre",backgroundColor:m,color:"white"},children:j},a)})),Object(y.jsx)("td",{className:"text-center",children:g("Absent")}),Object(y.jsx)("td",{className:"text-center",children:g("Present")}),Object(y.jsx)("td",{className:"text-center",children:g("Late")}),Object(y.jsx)("td",{className:"text-center",children:g("Halfday")})]},e.userId)))})]})})]})};a(494);var Ks=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)([]),[l,o]=Object(s.useState)(null),{socket:n}=Object(s.useContext)(te),r=localStorage.getItem("_id"),i=localStorage.getItem("Email"),j=()=>{d.a.get("".concat(R,"/api/particularEmployee/").concat(r),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{o(e.data.Notification)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{j()}),[]),Object(s.useEffect)((()=>{n&&n.on("taskNotificationReceived",(()=>{j()}))}),[n]),Object(s.useEffect)((()=>{t(l&&a.length===l.length)}),[a,l]);return console.log(l),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("form",{className:"d-flex col-8 flex-column gap-3",children:Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"p-2",children:[" ",Object(y.jsx)("input",{type:"checkbox",name:"",id:"",onChange:()=>{t(!e),c(e?[]:[...l])},checked:e})," ",Object(y.jsx)("span",{children:"Select All"})]}),Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"col",children:"Select"}),Object(y.jsx)("th",{scope:"col",children:"task Name"}),Object(y.jsx)("th",{scope:"col",children:"Sender"}),Object(y.jsx)("th",{scope:"col",children:"Status"}),Object(y.jsx)("th",{scope:"col",children:"Action"})]})}),Object(y.jsx)("tbody",{children:l&&l.map(((e,t)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"row",children:Object(y.jsx)("input",{type:"checkbox",name:"",id:"",onChange:()=>(e=>{const t=a.some((t=>t.taskId===e.taskId));c(t?t=>t.filter((t=>t.taskId!==e.taskId)):[...a,e])})(e),checked:a.some((t=>t.taskId===e.taskId))})}),Object(y.jsx)("td",{children:e.taskName}),Object(y.jsx)("td",{children:e.senderMail}),"unseen"===e.status?Object(y.jsx)("td",{children:"Unread"}):Object(y.jsx)("td",{children:"read"}),Object(y.jsx)("td",{children:Object(y.jsx)(Pa.a,{onClick:()=>(e=>{console.log(e),d.a.post("".concat(R,"/api/notificationDeleteHandler/").concat(e),{email:i},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{o(e.data.result.Notification),c([]),console.log("emittted"),n.emit("notificationPageUpdate",!0)})).catch((e=>{console.log(e)}))})(e.taskId),className:"bin"})})]},t)))})]})]})})}),Object(y.jsx)("button",{className:"Notification_delete",onClick:()=>{if(a.length>0){const t=a.map((e=>e.taskId)),s={employeeMail:i,tasks:t};e?l.length>0&&(console.log("clearALL"),d.a.post("".concat(R,"/api/selectedNotificationDelete"),{email:i},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{console.log(e),o(e.data.result.Notification),n.emit("notificationPageUpdate",!0)})).catch((e=>{console.log(e)}))):d.a.post("".concat(R,"/api/multiSelectedNotificationDelete"),s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{o(e.data.result.Notification),c([]),console.log("emittted"),n.emit("notificationPageUpdate",!0)})).catch((e=>{console.log(e)}))}},children:"Delete"})]})};var $s=()=>Object(y.jsx)(Na,{children:Object(y.jsxs)("div",{id:"main-area",children:[Object(y.jsx)("div",{id:"sidebar-top-content"}),Object(y.jsxs)(r.Switch,{children:[Object(y.jsx)(r.Route,{path:"/hr/employee",component:Ds}),Object(y.jsx)(r.Route,{path:"/hr/salary",exact:!0,component:jt}),Object(y.jsx)(r.Route,{path:"/hr/company",exact:!0,component:ya}),Object(y.jsx)(r.Route,{path:"/hr/role",component:ye}),Object(y.jsx)(r.Route,{path:"/hr/position",exact:!0,component:Le}),Object(y.jsx)(r.Route,{path:"/hr/department",exact:!0,component:Me}),Object(y.jsx)(r.Route,{path:"/hr/country",exact:!0,component:Xt}),Object(y.jsx)(r.Route,{path:"/hr/state",exact:!0,component:ca}),Object(y.jsx)(r.Route,{path:"/hr/city",exact:!0,component:ha}),Object(y.jsx)(r.Route,{path:"/hr/leaveApplication",exact:!0,component:xt}),Object(y.jsx)(r.Route,{path:"/hr/city",exact:!0,component:ha}),Object(y.jsx)(r.Route,{path:"/hr/dashboard",exact:!0,component:As}),Object(y.jsx)(r.Route,{path:"/hr/newTask",exact:!0,component:Ps}),Object(y.jsx)(r.Route,{path:"/hr/ActiveTask",exact:!0,component:Gs}),Object(y.jsx)(r.Route,{path:"/hr/taskcancle",exact:!0,component:Ms}),Object(y.jsx)(r.Route,{path:"/hr/taskcomplete",exact:!0,component:zs}),Object(y.jsx)(r.Route,{path:"/hr/rejectTask",exact:!0,component:Bs}),Object(y.jsx)(r.Route,{path:"/hr/attenDance",exact:!0,component:qs}),Object(y.jsx)(r.Route,{path:"/hr/viewAttenDance",exact:!0,component:Rs}),Object(y.jsx)(r.Route,{path:"/hr/AttendanceRegister",exact:!0,component:Xs}),Object(y.jsx)(r.Route,{path:"/hr/holiday",exact:!0,component:Bt}),Object(y.jsx)(r.Route,{path:"/hr/todaysAttendance",exact:!0,component:Js}),Object(y.jsx)(r.Route,{path:"/hr/hrLeave",exact:!0,component:La}),Object(y.jsx)(r.Route,{path:"/hr/leaveAccepted",exact:!0,component:Ta}),Object(y.jsx)(r.Route,{path:"/hr/leaveRejected",exact:!0,component:Ra}),Object(y.jsx)(r.Route,{path:"/hr/notification",exact:!0,component:Ks}),Object(y.jsx)(r.Route,{path:"/hr/manualAttand",exact:!0,component:Vs}),Object(y.jsx)(r.Route,{exact:!0,path:"/hr/:id/profile",render:e=>Object(y.jsx)(ws,{})}),Object(y.jsx)(r.Route,{render:()=>Object(y.jsx)(yt,{})})]})]})});const Zs=Object(s.createContext)(),Qs=e=>{let{children:t}=e;const[a,c]=Object(s.useState)(!1);return Object(y.jsx)(Zs.Provider,{value:{isOpen:a,toggleSidebar:()=>{c(!a)}},children:t})},ec=()=>Object(s.useContext)(Zs);var tc=e=>{const[t,a]=Object(s.useState)(!0),{isOpen:c}=ec();return Object(y.jsx)(Ya,{children:Object(y.jsx)(n.a,{children:Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{children:[Object(y.jsx)(qa,{loginInfo:e.data,checked:t,handleChange:()=>{console.log("switch"),t?document.getElementById("sidebar").setAttribute("class","display-none"):document.getElementById("sidebar").setAttribute("class","display-block"),a(!t)},onLogout:e.onLogout})," "]}),Object(y.jsxs)("div",{className:"d-flex",children:[Object(y.jsx)(Xa,{}),Object(y.jsx)("div",{className:"p-0 w-100",children:Object(y.jsx)($s,{})})]})]})})})};const ac={outline:"none",border:"none",height:"3rem"},sc={width:"250px",zIndex:"5",borderLeft:"5px solid white"};var cc,lc=e=>{let{navigation:t}=e;const[a,c]=Object(s.useState)(null),[l,o]=Object(s.useState)(!0);return Object(y.jsxs)("div",{style:{minHeight:"100%",maxHeight:"100%",overflowY:"auto",overflow:"inherit",width:"fit-content",backgroundColor:"var(--primaryDashColorDark)"},className:"d-flex  flex-column gap-2 p-3",children:[Object(y.jsxs)("h3",{style:{borderBottom:"3px solid green"},className:"fw-bolder text-success justify-content-between py-2 d-flex gap-2",children:[Object(y.jsx)("p",{style:{display:l?"block":"none"},className:"my-auto",children:"EMPLOYEE"})," ",Object(y.jsx)("span",{onClick:()=>{o(!l)},style:{border:"none",outline:"none",cursor:"pointer",transform:"rotate(".concat(l?"0deg":"180deg",")")},className:"my-auto p-0 fs-2 text-white",children:Object(y.jsx)(D.g,{})})]}),t.map((e=>{let{icon:t,name:s,navLinks:o}=e;return Object(y.jsxs)("div",{onMouseEnter:()=>c(s),onMouseLeave:()=>c(null),className:"position-relative",children:[Object(y.jsxs)("button",{style:ac,className:"btn p-0 text-white text-start fw-bold gap-2 justify-between w-100 d-flex justify-content-between",children:[Object(y.jsxs)("div",{style:{width:"fit-content"},className:"d-flex my-auto gap-2",children:[Object(y.jsx)("p",{style:{height:"30px",width:"30px",alignItems:"center",color:a===s?"#FF9209":"white"},className:"m-auto d-flex rounded-5  justify-content-center fs-3",children:t}),Object(y.jsx)("p",{style:{display:l?"block":"none"},className:"my-auto",children:s})]}),Object(y.jsx)("span",{style:{transform:"rotate(".concat(a===s?"135deg":"0deg",")"),transition:"1s ease",display:l?"block":"none"},className:"my-auto fs-4",children:"+"})]}),Object(y.jsx)("div",{style:{...sc,display:a===s?"flex":"none",backgroundColor:"var(--primaryDashColorDark)",width:"fit-content"},className:"flex-column position-absolute top-0 start-100 py-2 px-2 gap-2 mt-2  ",children:o.map((e=>Object(y.jsx)(n.b,{className:"text-decoration-none",to:e.to,children:Object(y.jsxs)("div",{className:"text-decoration-none flex-nowrap text-start fw-bolder gap-3 text-white d-flex justify-content-between ",children:[Object(y.jsxs)("div",{style:{borderBottom:"1px solid white"},className:"d-flex gap-1 flex-nowrap",children:[Object(y.jsx)("p",{className:"m-0",children:e.icon}),Object(y.jsx)("p",{style:{whiteSpace:"pre"},className:"m-auto",children:e.label})]}),Object(y.jsx)("span",{style:{},className:"my-auto ",children:"\u203a"})]})},e.to)))})]},s)}))]})};a(495);const oc=Object(V.a)(cc||(cc=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var nc=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,n]=Object(s.useState)([]),r=(e.data&&e.data._id,()=>{d.a.get("".concat(R,"/api/leave-application-emp/").concat(e.data._id),{headers:{authorization:localStorage.getItem("token")||""}}).then((t=>{const s=t.data;console.log("response",t.data),a(t.data),l(!1);const c=s.leaveApplication.map((e=>({data:e,Leavetype:e.Leavetype,FromDate:e.FromDate.slice(0,10),ToDate:e.ToDate.slice(0,10),Reasonforleave:e.Reasonforleave,Status:e.Status})));n(c),e.updateTotalLeaves(c.length)})).catch((e=>{console.log(e)}))});return Object(s.useEffect)((()=>{r()}),[e.leaveRequestDone]),Object(y.jsxs)(Na,{children:[Object(y.jsx)("h2",{id:"role-title",children:" Leave Application"}),Object(y.jsxs)(re.a,{variant:"primary",id:"add-button",onClick:e.onAddLeaveApplicationEmp,children:[Object(y.jsx)(W.a,{icon:J.e,id:"plus-icon"}),"Add"]}),Object(y.jsx)("div",{id:"clear-both"}),c?Object(y.jsx)("div",{id:"loading-bar",children:Object(y.jsx)(ne.a,{css:oc,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(y.jsx)("div",{children:Object(y.jsxs)(ve.a,{className:"table table-bordered",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{className:"bg-success text-white",children:"Leave Type"}),Object(y.jsx)("th",{className:"bg-success text-white",children:"Start Date"}),Object(y.jsx)("th",{className:"bg-success text-white",children:"End Date"}),Object(y.jsx)("th",{className:"bg-success text-white",children:"Remarks"}),Object(y.jsx)("th",{className:"bg-success text-white",children:"Status"})]})}),Object(y.jsx)("tbody",{children:o.map(((e,t)=>{return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.Leavetype}),Object(y.jsx)("td",{children:e.FromDate}),Object(y.jsx)("td",{children:e.ToDate}),Object(y.jsx)("td",{children:e.Reasonforleave}),Object(y.jsx)("td",{children:(a=e.Status,1==a?"Pending":2==a?"Approved":3==a?"Rejected":"Unknown Status")})]},t);var a}))})]})})]})},rc=(a(496),a.p+"static/media/Leave.cde90f6b.svg");var ic=e=>{const t=localStorage.getItem("_id"),[a,c]=Object(s.useState)([]);return Object(s.useEffect)((()=>{d.a.get("".concat(R,"/api/particularEmployee/").concat(t),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{console.log(e.data),c(e.data)})).catch((e=>{console.log(e)}))}),[]),Object(y.jsx)(Na,{children:Object(y.jsxs)("div",{style:{overflow:"auto"},className:"row",children:[Object(y.jsx)("div",{className:"col-5",children:Object(y.jsx)("img",{style:{width:"130%"},src:rc,alt:""})}),Object(y.jsx)("div",{className:"col-6",children:Object(y.jsxs)("form",{className:"text-white shadow bg-dark px-3 py-4 rounded row",onSubmit:e.onLeaveApplicationEmpSubmit,children:[Object(y.jsx)("h4",{className:"fw-bolder text-white mb-5",children:"Create Leave Request"}),Object(y.jsxs)("div",{className:"mb-3 col-12",children:[Object(y.jsx)("label",{htmlFor:"leaveType",className:"form-label",children:"Select Leave Type"}),Object(y.jsxs)("select",{className:"form-select",id:"leaveType",name:"leaveType",children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"-- Select --"}),Object(y.jsx)("option",{value:"Sick Leave",children:"Sick Leave"}),Object(y.jsx)("option",{value:"Casual Leave",children:"Casual Leave"}),Object(y.jsx)("option",{value:"Privilege Leave",children:"Privilege Leave"})]})]}),Object(y.jsxs)("div",{className:"mb-3 col-6",children:[Object(y.jsx)("label",{htmlFor:"startDate",className:"form-label",children:"Start Date:"}),Object(y.jsx)("input",{type:"date",className:"form-control",id:"startDate",name:"startDate",required:!0})]}),Object(y.jsxs)("div",{className:"mb-3 col-6",children:[Object(y.jsx)("label",{htmlFor:"endDate",className:"form-label",children:"End Date:"}),Object(y.jsx)("input",{type:"date",className:"form-control",id:"endDate",name:"endDate",required:!0})]}),Object(y.jsxs)("div",{className:"mb-3 col-12",children:[Object(y.jsx)("label",{htmlFor:"leaveType",className:"form-label",children:"Leave Status"}),Object(y.jsx)("select",{className:"form-select",id:"leaveStatus",name:"leaveStatus",children:Object(y.jsx)("option",{value:"1",selected:!0,children:"Pending"})})]}),Object(y.jsxs)("div",{className:"mb-3",children:[Object(y.jsx)("label",{htmlFor:"manager",className:"form-label",children:"Reporting Manager:"}),Object(y.jsx)("input",{className:"form-control",id:"manager",name:"manager",value:a.reportManager,required:!0,disabled:!0,placeholder:a.reportManager})]}),Object(y.jsxs)("div",{className:"mb-3",children:[Object(y.jsx)("label",{htmlFor:"hr",className:"form-label",children:"Reporting Hr:"}),Object(y.jsx)("input",{className:"form-control",id:"hr",name:"hr",value:a.reportHr,required:!0,disabled:!0,placeholder:a.reportHr})]}),Object(y.jsxs)("div",{className:"mb-3",children:[Object(y.jsx)("label",{htmlFor:"reason",className:"form-label",children:"Reason:"}),Object(y.jsx)("textarea",{className:"form-control",id:"reason",name:"reason",required:!0,placeholder:"Please mention the reason for leave"})]}),Object(y.jsxs)("div",{className:"row mt-3 mx-1 justify-content-between",children:[Object(y.jsx)("button",{type:"submit",className:"btn btn-primary col-5 ",children:"Submit"}),Object(y.jsx)("button",{type:"reset",className:"btn btn-danger col-5",onClick:e.onFormClose,children:"Cancel"})]})]})})]})})};var dc=e=>{const[t,a]=Object(s.useState)(e.editData.FromDate.slice(0,10)),[c,l]=Object(s.useState)(e.editData.ToDate.slice(0,10)),[o,n]=Object(s.useState)(e.editData.Reasonforleave);return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{id:"role-form-title",children:"Edit LeaveApplicationEmp Details"}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsxs)(me.a,{id:"form",onSubmit:t=>e.onLeaveApplicationEmpEditUpdate(e.editData,t),children:[Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Leave Type"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",required:!0,children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),Object(y.jsx)("option",{value:"Sick Leave",selected:"Sick Leave"===e.editData.Leavetype,children:"Sick Leave"}),Object(y.jsx)("option",{value:"Casual Leave",selected:"Casual Leave"===e.editData.Leavetype,children:"Casual Leave"}),Object(y.jsx)("option",{value:"Privilege Leave",selected:"Privilege Leave"===e.editData.Leavetype,children:"Privilege Leave"})]})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"FromDate"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"date",required:!0,value:t,onChange:e=>(e=>{a(e.target.value)})(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"ToDate"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"date",required:!0,value:c,onChange:e=>(e=>{l(e.target.value)})(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Reason for leave"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"Text",placeholder:"Reason for leave",required:!0,value:o,onChange:e=>(e=>{n(e.target.value)})(e)})})]}),Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:2,children:"Leave Status"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{as:"select",required:!0,children:Object(y.jsx)("option",{value:"1",selected:!0,disabled:!0,children:"Pending"})})})]}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-submit-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},children:Object(y.jsx)(re.a,{type:"submit",children:"Update"})})}),Object(y.jsx)(me.a.Group,{as:he.a,id:"form-cancel-button",children:Object(y.jsx)(be.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(y.jsx)(re.a,{type:"reset",onClick:e.onFormEditClose,children:"cancel"})})})]})})]})};var jc=e=>{const[t,a]=Object(s.useState)(!0),[l,o]=Object(s.useState)(!1),[n,r]=Object(s.useState)({}),[i,j]=Object(s.useState)(!1),m=localStorage.getItem("Email"),{socket:h}=Object(s.useContext)(te);return Object(y.jsx)(c.a.Fragment,{children:t?l?Object(y.jsx)(dc,{onLeaveApplicationEmpEditUpdate:(e,t)=>{t.preventDefault(),console.log("zero data",t.target[0].value);let s={Leavetype:t.target[0].value,FromDate:t.target[1].value,ToDate:t.target[2].value,Status:t.target[3].value,managerEmail:t.target[4].value,hrEmail:t.target[5].value,Reasonforleave:t.target[6].value};console.log("update",s),d.a.put("".concat(R,"/api/leave-application-emp/")+e._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(!1),a(!0)})).catch((e=>{console.log(e)})),o(!1)},onFormEditClose:()=>{console.log("clicked5"),o(!1)},editData:n}):Object(y.jsx)(nc,{onAddLeaveApplicationEmp:()=>{console.log("clicked1"),a(!1)},onEditLeaveApplicationEmp:e=>{console.log(e),console.log("clicked6"),o(!0),r(e)},data:e.data,leaveRequestDone:i}):Object(y.jsx)(ic,{onLeaveApplicationEmpSubmit:t=>{t.preventDefault(),console.log("id",t.target[0].value,t.target[1].value),a(!0);let s={Leavetype:t.target[0].value,FromDate:t.target[1].value,ToDate:t.target[2].value,Status:t.target[3].value,managerEmail:t.target[4].value,hrEmail:t.target[5].value,Reasonforleave:t.target[6].value};console.log(s),d.a.post("".concat(R,"/api/leave-application-emp/")+e.data._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(!1),a(!0),j(!i);const t={taskId:Object(vt.a)(),managerEmail:s.managerEmail,hrEmail:s.hrEmail,message:"Leave request by ".concat(m),status:"unseen",path:"leaveApplication"};h.emit("leaveNotification",t)})).catch((e=>{console.log(e)}))},onFormClose:()=>{console.log("clicked1"),a(!0)},onGenderChange:()=>{}})})};var mc=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!0),[l,o]=Object(s.useState)(null),[n,r]=Object(s.useState)(!1),[i,j]=Object(s.useState)(null),m=localStorage.getItem("Email"),{socket:h}=(Object(vt.a)(),Object(s.useContext)(te)),b=localStorage.getItem("_id");Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get("".concat(R,"/api/personal-info/")+b,{headers:{authorization:localStorage.getItem("token")||""}});j(e.data.Email)}catch(l){console.error("Error fetching employees:",l)}})()}),[]);const x=e=>{const t=new Date;let a=new Date(e)-t;if(a<0)return a=Math.abs(a),{delay:!0,days:0,hours:0,minutes:0};return{delay:!1,days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.floor(a%36e5/6e4)}},u=async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"));t(e.data)}catch(l){console.error("Error fetching tasks:",l.message),o("Error fetching tasks. Please try again later.")}finally{c(!1)}};Object(s.useEffect)((()=>{u()}),[]);const O=e.filter((e=>e.employees.some((e=>"Task Assigned"===e.emptaskStatus)))).length;return console.log("Total Task Assigned: ",O),Object(y.jsxs)("div",{children:[Object(y.jsxs)("h1",{className:"fs-3 fw-bolder text-uppercase ",children:["\ud83c\udf1fNew Task (",") "]}),a&&Object(y.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(y.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(y.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),l&&Object(y.jsx)("p",{className:"text-danger",children:l}),Object(y.jsx)("div",{style:{overflowY:"scroll",height:"80vh",scrollbarWidth:"thin",scrollbarGutter:"stable",scrollMargin:"1rem"},children:i&&e.filter((e=>"Pending"===e.status&&e.employees.some((e=>e.empemail===i)))).reverse().map(((e,t)=>Object(y.jsxs)("details",{style:{boxShadow:"-1px 1px 10px gray"},className:"p-1 position-relative mt-3 fs-4 rounded mx-3",children:[Object(y.jsxs)("summary",{style:{height:"fit-content"},className:"d-flex justify-content-between aline-center form-control bg-danger ",children:[Object(y.jsxs)("div",{className:"fw-bold fs-5 d-flex justify-content-center flex-column",children:["# Task ",t+1," : ",e.Taskname]}),Object(y.jsx)("div",{style:{position:"absolute",top:"-10px",left:"20px"},className:"fw-bold bg-white rounded-5 px-3 text-primary fs-6 d-flex justify-content-center aline-center flex-column",children:e.department}),Object(y.jsxs)("div",{className:"d-flex gap-2 RemainingTimeHandel justify-content-between ",children:[x(e.endDate).delay?Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control  fw-bold p-0",children:[x(e.endDate).days," "]})," ",Object(y.jsx)("div",{children:"Day"})]}),Object(y.jsx)("h5",{className:"btn btn-danger p-1 px-3 fw-bold",children:"Late"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[x(e.endDate).days," "]})," ",Object(y.jsx)("div",{children:"Day"})]}),x(e.endDate).delay?Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control  fw-bold p-0",children:[x(e.endDate).hours," "]})," ",Object(y.jsx)("div",{children:"Min"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[x(e.endDate).hours," "]})," ",Object(y.jsx)("div",{children:"Hrs"})]}),x(e.endDate).delay?Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control fw-bold p-0",children:[x(e.endDate).minutes," "]})," ",Object(y.jsx)("div",{children:"Min"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[x(e.endDate).minutes," "]})," ",Object(y.jsx)("div",{children:"Min"})]})]})]}),Object(y.jsx)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:Object(y.jsxs)("div",{style:{height:"fit-content"},className:"form-control",children:[Object(y.jsxs)("p",{style:{height:"fit-content"},className:"text-start fs-6 form-control",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Task Discription"})," ",e.description]}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:[Object(y.jsx)("b",{children:"Task Durations"})," ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[e.duration," days"]})," "]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:[Object(y.jsx)("b",{children:" Manager"})," ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:e.managerEmail})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:[Object(y.jsx)("b",{children:"Start Date"})," ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.startDate).toLocaleDateString()})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:[Object(y.jsx)("b",{children:"End Date"})," ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.endDate).toLocaleDateString()})]}),Object(y.jsx)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:Object(y.jsxs)("span",{children:[Object(y.jsx)("b",{children:"Task Status"})," ",Object(y.jsx)("br",{})," ",e.status]})})]}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex my-1 pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Project Members"}),Object(y.jsxs)(ve.a,{striped:!0,bordered:!0,hover:!0,children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{className:"bg-dark text-white",children:"S. No"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Name"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Email"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Designation"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Action"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Task Status"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Remarks"})]})}),Object(y.jsx)("tbody",{children:i&&e.employees.filter((e=>e.empemail===i)).map(((t,a)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:a+1}),Object(y.jsx)("td",{children:t.empname}),Object(y.jsx)("td",{children:t.empemail}),Object(y.jsx)("td",{children:t.empdesignation}),Object(y.jsxs)("td",{className:"row justify-content-center gap-2 ",children:[Object(y.jsx)("button",{className:"btn col-3 btn-primary py-1",onClick:()=>(async(e,t,a)=>{try{const s=prompt("Enter remarks for accepting the task:");if(null===s)return;await d.a.put("".concat(R,"/api/tasks/").concat(e,"/employees/").concat(t),{emptaskStatus:"Accepted",empTaskComment:s}),p.toast.success("Task accepted successfully!");const c=a.employees.map((e=>{if("Rejected"!==e.emptaskStatus&&e.empemail!==i)return e.empemail})),l={senderMail:m,employeesEmail:[...c,a.managerEmail],taskId:e,status:"unseen",taskName:a.Taskname,message:"".concat(a.Taskname," is Accepted by ").concat(m),taskStatus:"Accepted",Account:3,path:"activeTask"};h.emit("employeeTaskUpdateNotification",l),u()}catch(l){console.error("Error accepting task:",l.message),p.toast.error("Failed to accept task. Please try again.")}})(e._id,t.empemail,e),disabled:"Accepted"===t.emptaskStatus||"Rejected"===t.emptaskStatus||"Completed"===t.emptaskStatus,children:"Accept"}),Object(y.jsx)("button",{className:"btn col-3 py-1 btn-danger",onClick:()=>(async(e,t,a)=>{try{const s=prompt("Enter remarks for rejecting the task:");if(null===s)return;await d.a.put("".concat(R,"/api/tasks/").concat(e,"/employees/").concat(t),{emptaskStatus:"Rejected",empTaskComment:s}),p.toast.success("Task rejected successfully!");const c={senderMail:m,employeesEmail:[a.managerEmail],taskId:e,status:"unseen",taskName:a.Taskname,message:"".concat(a.Taskname," is Rejected by ").concat(m),taskStatus:"Rejected",Account:3,path:"activeTask"};console.log(c),h.emit("employeeTaskUpdateNotification",c),u()}catch(l){console.error("Error rejecting task:",l.message),p.toast.error("Failed to reject task. Please try again.")}})(e._id,t.empemail,e),disabled:"Accepted"===t.emptaskStatus||"Rejected"===t.emptaskStatus||"Completed"===t.emptaskStatus,children:"Reject"}),Object(y.jsx)("button",{className:"btn col-3 py-1 btn-success",onClick:()=>(async(e,t,a)=>{try{const s=prompt("Enter remarks for complete the task:");if(null===s)return;await d.a.put("".concat(R,"/api/tasks/").concat(e,"/employees/").concat(t),{emptaskStatus:"Completed",empTaskComment:s}),p.toast.success("Task Completed successfully!");const c=a.employees.map((e=>{if("Rejected"!==e.emptaskStatus&&e.empemail!==i)return e.empemail})),l={senderMail:m,employeesEmail:[...c,a.managerEmail],taskId:e,status:"unseen",taskName:a.Taskname,taskStatus:"Completed",message:"".concat(a.Taskname," is Completed by ").concat(m),Account:3,path:"activeTask"};console.log(l),h.emit("employeeTaskUpdateNotification",l),u()}catch(l){console.error("Error Completing task:",l.message),p.toast.error("Failed to Complete task. Please try again.")}})(e._id,t.empemail,e),disabled:"Completed"===t.emptaskStatus,children:"Complete"}),Object(y.jsxs)("button",{className:"btn col-3 btn-info py-1",children:[Object(y.jsx)(N.b,{})," View Docs"]})]}),Object(y.jsxs)("td",{children:[t.emptaskStatus," "]}),Object(y.jsx)("td",{style:{maxWidth:"10rem",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:t.empTaskComment})]},a)))})]})]})]})})]},e.id)))})]})};var hc=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!0),[l,o]=Object(s.useState)(null),[n,r]=Object(s.useState)(!1),[i,j]=Object(s.useState)(!1),[m,h]=Object(s.useState)(!1),[b,p]=Object(s.useState)(!1),x=e=>{const t=new Date;let a=new Date(e)-t;if(a<0)return a=Math.abs(a),{delay:!0,days:0,hours:0,minutes:0};return{delay:!1,days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.floor(a%36e5/6e4)}},u=async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"));t(e.data)}catch(l){console.error("Error fetching tasks:",l.message),o("Error fetching tasks. Please try again later.")}finally{c(!1)}};Object(s.useEffect)((()=>{u()}),[]);return Object(y.jsxs)("div",{className:"py-2",children:[Object(y.jsx)("h1",{className:"fs-3 fw-bolder text-uppercase ",children:"\ud83c\udf1f Active Task"}),a&&Object(y.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(y.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(y.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),Object(y.jsx)("div",{style:{overflowY:"scroll",height:"80vh",scrollbarWidth:"thin",scrollbarGutter:"stable",scrollMargin:"1rem"},children:e.filter((e=>"Pending"===e.status)).map(((e,t)=>Object(y.jsxs)("details",{style:{boxShadow:"-1px 1px 10px gray"},className:"p-1 position-relative mt-3 fs-4 rounded mx-3",children:[Object(y.jsxs)("summary",{style:{height:"fit-content"},className:"d-flex justify-content-between aline-center form-control bg-danger ",children:[Object(y.jsxs)("div",{className:"fw-bold fs-5 d-flex justify-content-center flex-column",children:["# Task ",t+1," : ",e.Taskname]}),Object(y.jsx)("div",{style:{position:"absolute",top:"-10px",left:"20px"},className:"fw-bold bg-white rounded-5 px-3 text-primary fs-6 d-flex justify-content-center aline-center flex-column",children:e.department}),Object(y.jsxs)("div",{className:"d-flex gap-2 RemainingTimeHandel justify-content-between ",children:[x(e.endDate).delay?Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control  fw-bold p-0",children:[x(e.endDate).days," "]})," ",Object(y.jsx)("div",{children:"Day"})]}),Object(y.jsx)("h5",{className:"btn btn-danger p-1 px-3 fw-bold",children:"Late"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[x(e.endDate).days," "]})," ",Object(y.jsx)("div",{children:"Day"})]}),x(e.endDate).delay?Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control  fw-bold p-0",children:[x(e.endDate).hours," "]})," ",Object(y.jsx)("div",{children:"Min"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[x(e.endDate).hours," "]})," ",Object(y.jsx)("div",{children:"Hrs"})]}),x(e.endDate).delay?Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control fw-bold p-0",children:[x(e.endDate).minutes," "]})," ",Object(y.jsx)("div",{children:"Min"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[x(e.endDate).minutes," "]})," ",Object(y.jsx)("div",{children:"Min"})]})]})]}),Object(y.jsx)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:Object(y.jsxs)("div",{style:{height:"fit-content"},className:"form-control",children:[Object(y.jsxs)("p",{style:{height:"fit-content"},className:"text-start fs-6 form-control",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Task Discription"})," ",e.description]}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:[Object(y.jsx)("b",{children:"Task Durations"})," ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[e.duration," days"]})," "]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:[Object(y.jsx)("b",{children:" Manager"})," ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[" ",e.managerEmail]})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:[Object(y.jsx)("b",{children:"Start Date"})," ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.startDate).toLocaleDateString()})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:[Object(y.jsx)("b",{children:"End Date"})," ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.endDate).toLocaleDateString()})]}),Object(y.jsx)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:Object(y.jsxs)("span",{children:[Object(y.jsx)("b",{children:"Task Status"})," ",Object(y.jsx)("br",{})," ",e.status]})})]}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex my-1 pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Project Members"}),Object(y.jsxs)(ve.a,{striped:!0,bordered:!0,hover:!0,children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"S. No"}),Object(y.jsx)("th",{children:"Name"}),Object(y.jsx)("th",{children:"Email"}),Object(y.jsx)("th",{children:"Designation"}),Object(y.jsx)("th",{children:"Task Status"}),Object(y.jsx)("th",{children:"Remarks"})]})}),Object(y.jsx)("tbody",{children:e.employees.filter((e=>"Accepted"===e.emptaskStatus||"Completed"===e.emptaskStatus)).map(((e,t)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{style:{backgroundColor:"Completed"===e.emptaskStatus?"rgba(25, 201, 84, 0.436)":"inherit"},children:t+1}),Object(y.jsx)("td",{style:{backgroundColor:"Completed"===e.emptaskStatus?"rgba(25, 201, 84, 0.436)":"inherit"},children:e.empname}),Object(y.jsx)("td",{style:{backgroundColor:"Completed"===e.emptaskStatus?"rgba(25, 201, 84, 0.436)":"inherit"},children:e.empemail}),Object(y.jsx)("td",{style:{backgroundColor:"Completed"===e.emptaskStatus?"rgba(25, 201, 84, 0.436)":"inherit"},children:e.empdesignation}),Object(y.jsx)("td",{style:{backgroundColor:"Completed"===e.emptaskStatus?"rgba(25, 201, 84, 0.436)":"inherit"},children:e.emptaskStatus}),Object(y.jsx)("td",{style:{backgroundColor:"Completed"===e.emptaskStatus?"rgba(25, 201, 84, 0.436)":"inherit"},children:e.empTaskComment})]},t)))})]})]})]})})]},e.id)))})]})};var bc=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!0),[l,o]=Object(s.useState)(null),n=localStorage.getItem("Email");return Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"),{params:{status:"Completed"}});t(e.data)}catch(l){console.error("Error fetching completed tasks:",l.message),o("Error fetching completed tasks. Please try again later.")}finally{c(!1)}})()}),[]),Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsx)("h1",{className:"fs-2 text-muted fw-bolder text-uppercase",children:"\u2705 Completed Tasks"}),Object(y.jsx)("p",{className:"text-muted",children:"You can view all Completed task here!"})," ",a&&Object(y.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(y.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(y.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),Object(y.jsx)("div",{style:{overflowY:"scroll",height:"80vh",scrollbarWidth:"thin",scrollbarGutter:"stable",scrollMargin:"1rem"},className:"d-flex flex-column gap-3",children:e.filter((e=>"Completed"===e.status&&e.employees.some((e=>e.empemail===n)))).map(((e,t)=>Object(y.jsxs)("details",{style:{boxShadow:"-1px 1px 10px gray"},className:"p-1 position-relative mt-3 fs-4 rounded mx-3",children:[Object(y.jsxs)("summary",{style:{height:"fit-content",background:"linear-gradient(165deg,#11009E, #700B97, 90%, #C84B31)"},className:"d-flex justify-content-between aline-center form-control text-white",children:[Object(y.jsxs)("div",{className:"fw-bold fs-5 d-flex justify-content-center flex-column",children:["# Task ",t+1," : ",e.Taskname]}),Object(y.jsx)("div",{style:{position:"absolute",top:"-10px",left:"20px"},className:"fw-bold bg-white rounded-5 px-3 text-success fs-6 d-flex justify-content-center aline-center flex-column",children:e.department}),Object(y.jsx)("div",{className:"",children:Object(y.jsx)("p",{className:"btn btn-success m-auto fw-bold",children:"Completed"})})]}),Object(y.jsxs)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:[Object(y.jsx)("div",{style:{width:"99.4%",height:"100%",zIndex:"5",backgroundColor:"rgba(0, 128, 0, 0.384)",textShadow:"-5px 5px 5px rgba(128, 128, 128, 0.422)"},className:"watermark form-control   position-absolute d-flex justify-content-center aline-center",children:Object(y.jsx)("h1",{className:"text-uppercase text-light fw-bolder",children:"C O M P L E T E D"})}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"form-control",children:[Object(y.jsxs)("p",{style:{height:"fit-content"},className:"text-start fs-6 form-control",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Task Discription"})," ",e.description]}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Task Durations ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[e.duration," days"]})," "]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Created By ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[" ",e.managerEmail]})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Start Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.startDate).toLocaleDateString()})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["End Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.endDate).toLocaleDateString()})]}),Object(y.jsx)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:Object(y.jsxs)("span",{children:["Task Status ",Object(y.jsx)("br",{})," ",e.status]})})]}),Object(y.jsx)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{className:"fw-bold",children:"Remarks : "})," ",e.comment]})})]})]})]},e.id)))})]})};var pc=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!0),[l,o]=Object(s.useState)(null),n=localStorage.getItem("Email");return Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"),{params:{status:"Completed"}});t(e.data)}catch(l){console.error("Error fetching completed tasks:",l.message),o("Error fetching completed tasks. Please try again later.")}finally{c(!1)}})()}),[]),Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsx)("h1",{className:"fs-2 text-muted fw-bolder text-uppercase",children:"\ud83d\udd34 Rejected Tasks"}),Object(y.jsx)("p",{className:"text-muted",children:"You can view all rejected task here!"})," ",a&&Object(y.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(y.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(y.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),Object(y.jsx)("div",{style:{overflowY:"scroll",height:"80vh",scrollbarWidth:"thin",scrollbarGutter:"stable",scrollMargin:"1rem"},className:"d-flex flex-column gap-3",children:e.filter((e=>"Rejected"===e.status&&e.employees.some((e=>e.empemail===n)))).map(((e,t)=>Object(y.jsxs)("details",{style:{boxShadow:"-1px 1px 10px gray"},className:"p-1 position-relative mt-3 fs-4 rounded mx-3",children:[Object(y.jsxs)("summary",{style:{height:"fit-content"},className:"d-flex justify-content-between aline-center form-control bg-black text-white",children:[Object(y.jsxs)("div",{className:"fw-bold fs-5 d-flex justify-content-center flex-column",children:["# Task ",t+1," : ",e.Taskname]}),Object(y.jsx)("div",{style:{position:"absolute",top:"-10px",left:"20px"},className:"fw-bold bg-white rounded-5 px-3 text-success fs-6 d-flex justify-content-center aline-center flex-column",children:e.department}),Object(y.jsx)("div",{children:Object(y.jsx)("p",{className:"btn btn-light m-auto py-1 px-3 fw-bold",children:"Rejected"})})]}),Object(y.jsxs)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:[Object(y.jsx)("div",{style:{width:"99.4%",height:"100%",zIndex:"5",backgroundColor:"rgba(5, 128, 8, 0.384)",textShadow:"-5px 5px 5px rgba(128, 128, 128, 0.422)"},className:"watermark form-control   position-absolute d-flex justify-content-center aline-center",children:Object(y.jsx)("h1",{className:"text-uppercase text-light fw-bolder",children:"R E J E C T E D"})}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"form-control",children:[Object(y.jsxs)("p",{style:{height:"fit-content"},className:"text-start fs-6 form-control",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Task Discription"})," ",e.description]}),Object(y.jsxs)("div",{className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Task Durations ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[e.duration," days"]})," "]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Created By ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[" ",e.managerEmail]})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Start Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.startDate).toLocaleDateString()})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["End Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.endDate).toLocaleDateString()})]}),Object(y.jsx)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:Object(y.jsxs)("span",{children:["Task Status ",Object(y.jsx)("br",{})," ",e.status]})})]}),Object(y.jsx)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{className:"fw-bold",children:"Remarks : "})," ",e.comment]})})]})]})]},e.id)))})]})};var xc=function(e){const[t,a]=Object(s.useState)(null),{employees:c,setEmployees:l,selectedEmployee:o,setSelectedEmployee:n,attencenceID:r,setAttencenceID:i,message:j,setMessage:m}=Object(s.useContext)(te);return Object(s.useEffect)((()=>{(async()=>{try{const t=await d.a.get("".concat(R,"/api/employee/")+e.data._id,{headers:{authorization:localStorage.getItem("token")||""}});console.log(t.data),l(t.data)}catch(t){console.error("Error fetching employees:",t)}})()}),[]),Object(s.useEffect)((()=>{(async()=>{try{const t=await d.a.get("".concat(R,"/api/personal-info/")+e.data._id,{headers:{authorization:localStorage.getItem("token")||""}});console.log(t.data.FirstName),a(t.data.FirstName)}catch(t){console.error("Error fetching employees:",t)}})()}),[]),console.log(c),Object(y.jsxs)(Na,{children:[Object(y.jsx)("h1",{className:"text-center text-uppercase my-3",children:"Attendance System"}),Object(y.jsxs)("div",{className:"form-control d-flex  gap-3 p-3 m-3",style:{height:"fit-content"},children:[Object(y.jsx)("input",{value:t,style:{display:"none"}}),Object(y.jsxs)("div",{className:"d-flex gap-3",children:[Object(y.jsx)("button",{className:"btn btn-success",onClick:async()=>{let e=c.filter((e=>e.FirstName===t)),a=e[0].attendanceObjID,s=e[0]._id;try{if(!t)return void m("Please select a user");const e=Tt()().format("HH:mm:ss");await d.a.post("".concat(R,"/api/attendance/").concat(a),{employeeId:s,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),loginTime:[e],status:"login"}),m("Login time recorded successfully")}catch(l){console.error("Error recording login time:",l),m("Error recording login time")}},children:"Mark Attendance"}),Object(y.jsx)("button",{className:"btn btn-danger",onClick:async()=>{let e=c.filter((e=>e.FirstName===t)),a=e[0].attendanceObjID,s=e[0]._id;try{if(!t)return void m("Please select an employee");const e=Tt()().format("HH:mm:ss");await d.a.post("".concat(R,"/api/attendance/").concat(a),{employeeId:s,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),logoutTime:[e],status:"logout"}),m("Logout time recorded successfully")}catch(l){console.error("Error recording logout time:",l),m("Error recording logout time")}},children:"Logout"}),Object(y.jsxs)("div",{className:"d-flex gap-3",children:[Object(y.jsx)("button",{className:"btn btn-warning",onClick:async()=>{let e=c.filter((e=>e.FirstName===t)),a=e[0].attendanceObjID,s=e[0]._id;try{if(!t)return void m("Please select an employee");const e=(new Date).toLocaleTimeString(),c=Math.round((new Date).getTime()/1e3/60);await d.a.post("".concat(R,"/api/attendance/").concat(a),{employeeId:s,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),breakTime:[e],breakTimeMs:[c],status:"break"}),m("Break time recorded successfully")}catch(l){console.error("Error recording break time:",l),m("Error recording break time")}},children:"Break"}),Object(y.jsx)("button",{className:"btn btn-primary",onClick:async()=>{let e=c.filter((e=>e.FirstName===t)),a=e[0].attendanceObjID,s=e[0]._id;try{if(!t)return void m("Please select an employee");const e=(new Date).toLocaleTimeString(),c=Math.round((new Date).getTime()/1e3/60);await d.a.post("".concat(R,"/api/attendance/").concat(a),{employeeId:s,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),ResumeTime:[e],resumeTimeMS:[c],status:"resume"}),m("Resumed time recorded successfully")}catch(l){console.error("Error recording resume time:",l),m("Error recording resume time")}},children:"Resume"})]})]})]}),j&&Object(y.jsx)("p",{children:j})]})};var uc=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(null),[o,n]=Object(s.useState)((new Date).getFullYear()),[r,i]=Object(s.useState)((new Date).getMonth()+1),[j,m]=Object(s.useState)(null),[h,b]=Object(s.useState)(!1),p=localStorage.getItem("_id"),x=()=>{b(!0)},u=()=>{b(!1)};Object(s.useEffect)((()=>{O()}),[]);const O=async()=>{try{const t=await d.a.get("".concat(R,"/api/employee/")+e.data._id,{headers:{authorization:localStorage.getItem("token")||""}});a(t.data)}catch(t){console.error("Error fetching employees:",t)}};Object(s.useEffect)((()=>{(async()=>{try{let e=(await d.a.get("".concat(R,"/api/attendance/").concat(p),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")||"")}})).data.filter((e=>e.employeeObjID&&e.employeeObjID._id===p));l(e.length>0?e[0]:null)}catch(e){console.error("Error fetching attendance data:",e)}})()}),[]);const g=e=>{switch(e){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return""}},f=()=>{if(c&&c.years){const e=(new Date).getFullYear();return c.years.filter((t=>t.year<=e))}return[]},v=e=>{const t=Math.floor(e),a=Math.floor(e/1e3),s=Math.floor(a/60),c=Math.floor(s/60),l=String(c).padStart(2,"0"),o=String(s%60).padStart(2,"0"),n=String(a%60).padStart(2,"0"),r=String(t%60).padStart(2,"0");return"".concat(l,":").concat(o,":").concat(n,":").concat(r)},N=e=>{const t=e&&e.loginTime[0];if(t){const[e,a]=t.split(":").map(Number);if(e>9||9===e&&a>45)return"H";if(e>9||9===e&&a>30)return"L"}return t?"P":"A"};return Object(y.jsxs)("div",{className:"d-flex flex-column p-5 gap-3",children:[c&&Object(y.jsxs)("div",{className:"d-flex gap-3",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"year",children:"Select a year:"}),Object(y.jsx)("select",{className:"form-select shadow",id:"year",value:o,onChange:e=>n(parseInt(e.target.value)),children:f().map((e=>Object(y.jsx)("option",{value:e.year,children:e.year},e.year)))})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"month",children:"Select a month:"}),Object(y.jsx)("select",{className:"form-select shadow",id:"month",value:r,onChange:e=>i(parseInt(e.target.value)),children:(D=o,D===(new Date).getFullYear()?Array.from({length:(new Date).getMonth()+1},((e,t)=>t+1)):Array.from({length:12},((e,t)=>t+1))).map((e=>Object(y.jsx)("option",{value:e,children:g(e)},e)))})]})]}),c&&Object(y.jsx)("div",{style:{overflow:"auto",height:"80vh"},children:Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"shadow-sm",children:[Object(y.jsx)("th",{className:"bg-dark text-white text-center",children:"Date"}),Object(y.jsx)("th",{className:"bg-dark text-white text-center",children:"Status"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Login Time"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Logout Time"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Break"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Total Login"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Status"})]})}),Object(y.jsx)("tbody",{children:f().map((e=>e.months.filter((e=>e.month===r)).map((e=>e.dates.sort(((e,t)=>e.date-t.date)).map((e=>Object(y.jsxs)("tr",{className:"shadow-sm",id:"attendance-row-".concat(e.date),onMouseEnter:()=>(e=>{m(e)})(e.date),onMouseLeave:()=>{m(null)},children:[Object(y.jsx)("td",{className:"text-center",children:Object(y.jsx)("span",{className:"fw-bold bg-info py-1 px-2  shadow-sm text-white",children:e.date})}),Object(y.jsx)("td",{style:{whiteSpace:"pre",textAlign:"center"},children:N(e)}),Object(y.jsx)("td",{className:"text-uppercase",children:e.loginTime[0]}),Object(y.jsx)("td",{className:"text-uppercase",children:e.logoutTime[e.logoutTime.length-1]}),Object(y.jsxs)("td",{className:"position-relative bg-white",children:[Object(y.jsxs)("div",{style:{display:"flex ",justifyContent:"start",alignItems:"center"},className:"fs-6 gap-2 ",onMouseEnter:x,onMouseLeave:u,children:[Object(y.jsx)("span",{style:{scale:"0.7"},className:"bg-warning py-0  text-white  px-2 rounded-5 my-auto",children:e.breakTime.length}),Object(y.jsx)("span",{className:"fw-bold text-dark fs-6",children:v(e.totalBrake)})," ",Object(y.jsx)(w.c,{style:{fontSize:".9rem"},className:"text-info "})]}),Object(y.jsx)("div",{style:{zIndex:"5",right:"0%"},className:"position-absolute",children:h&&j===e.date&&Object(y.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"shadow-sm p-0",children:[Object(y.jsx)("th",{className:"bg-info  py-0 text-white",children:"Break"}),Object(y.jsx)("th",{className:"bg-info  py-0 text-white",children:"Resume"}),Object(y.jsx)("th",{className:"text-end  py-0 bg-info text-white",style:{whiteSpace:"pre"},children:"Total Break"})]})}),Object(y.jsx)("tbody",{children:e.breakTime.map(((t,a)=>Object(y.jsxs)("tr",{className:"shadow-sm",children:[Object(y.jsx)("td",{className:"text-uppercase  py-1 text-center",style:{whiteSpace:"pre"},children:t}),Object(y.jsx)("td",{className:"text-uppercase  py-1 text-center",style:{whiteSpace:"pre"},children:e.ResumeTime[a]}),Object(y.jsx)("td",{className:"text-end py-1 ",style:{whiteSpace:"pre"},children:v(e.BreakData[a])})]},a)))})]})})]}),Object(y.jsx)("td",{children:v(e.totalLogAfterBreak)}),Object(y.jsx)("td",{children:e.status})]},e.date)))))))})]})}),null===c&&Object(y.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"1rem"},children:[Object(y.jsx)("div",{className:"fs-2 fw-bolder",children:Object(y.jsx)(E.b,{className:"spinner-border text-info"})}),Object(y.jsx)("p",{className:"text-muted",children:"User not selected. To view data, please select a user."})]})]});var D},Oc=a.p+"static/media/HappyBirthday.181e9653.svg";var gc=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!0),[l,o]=Object(s.useState)([]),[n,r]=Object(s.useState)(""),[i,j]=Object(s.useState)(!1),[m,h]=Object(s.useState)(!0),[b,p]=Object(s.useState)([]);Object(s.useEffect)((()=>{d.a.get("".concat(R,"/api/employee/")+localStorage.getItem("_id"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{Array.isArray(e.data)?(t(e.data),c(!1),o([]),e.data.forEach((e=>{let t={data:e,Email:e.Email,Password:e.Password,Account:1===e.Account?"Admin":2===e.Account?"HR":3===e.Account?"Employee":"",RoleName:e.role[0]?e.role[0].RoleName:"",FirstName:e.FirstName,MiddleName:e.MiddleName,LastName:e.LastName,DOB:e.DOB.slice(0,10),ContactNo:e.ContactNo,EmployeeCode:e.EmployeeCode,empID:e.empID,DepartmentName:e.department[0]?e.department[0].DepartmentName:"",PositionName:e.position[0]?e.position[0].PositionName:"",DateOfJoining:e.DateOfJoining.slice(0,10)};o((e=>[...e,t]))}))):console.error("Data received is not an array:",e.data)})).catch((e=>{console.log(e)}))}),[]);return Object(s.useEffect)((()=>{(()=>{const e=new Date,t=l.filter((t=>{const a=new Date(t.DOB);a.setFullYear(e.getFullYear());const s=a-e,c=Math.ceil(s/864e5);return c>=0&&c<=7}));p(t)})()}),[l]),Object(y.jsx)("div",{className:"container",children:Object(y.jsxs)("div",{className:"birthday shadow position-relative",children:[Object(y.jsxs)("h5",{style:{position:"sticky",top:"0",backgroundColor:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"fw-bolder pb-3 px-3 pt-3 d-flex justify-content-between gap-0 text-center",children:[Object(y.jsx)(T.b,{})," Upcoming Birthdays"," ",Object(y.jsxs)("span",{className:"text-primary",children:["(",b.length,")"]})]}),Object(y.jsx)("div",{children:b.length>0?Object(y.jsx)("div",{className:"d-flex flex-column gap-3 py-3 px-3",children:b.map((e=>{var t,a,s,c;return Object(y.jsx)("div",{style:{borderBottom:"1px solid #E3F4F4"},className:"",children:Object(y.jsx)("div",{className:"row",style:{verticalAlign:"middle"},children:Object(y.jsxs)("div",{className:"d-flex justify-content-between ",children:[Object(y.jsxs)("div",{className:"d-flex gap-2",children:[Object(y.jsx)("div",{style:{height:"45px",width:"45px"},children:Object(y.jsx)("img",{style:{height:"100%",width:"100%",border:"3px solid gray",borderRadius:"50%",overflow:"hidden",objectFit:"cover"},src:null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&null!==(a=t.profile)&&void 0!==a&&a.image_url?null===e||void 0===e||null===(s=e.data)||void 0===s||null===(c=s.profile)||void 0===c?void 0:c.image_url:"https://a.storyblok.com/f/191576/1200x800/215e59568f/round_profil_picture_after_.webp",alt:""})}),Object(y.jsxs)("div",{className:"d-flex flex-column my-auto",children:[Object(y.jsx)("span",{style:{fontSize:"12px",fontWeight:"bold"},children:e.empID}),Object(y.jsx)("span",{style:{fontSize:"13px",fontWeight:"bold"},className:"text-uppercase fw-bold",children:"".concat(e.FirstName," ").concat(e.LastName)})]})]}),Object(y.jsxs)("div",{style:{fontSize:"13px"},className:"my-auto fw-bolder text-muted",children:["Date ",Object(y.jsx)("br",{}),e.DOB]})]})})},e.empID)}))}):Object(y.jsxs)("div",{className:"d-flex flex-column justify-content-center aline-items-center gap-3",style:{height:"100%",width:"100%"},children:[Object(y.jsx)("img",{style:{height:"60%",width:"60%"},className:"mx-auto",src:Oc,alt:"Happy Birthday"}),Object(y.jsx)("p",{style:{opacity:"60%",fontSize:"13px"},className:"text-center w-75 mx-auto  fw-bold text-muted ",children:"No upcoming birthdays in the next 7 days."})]})})]})})};a(236);var fc=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,n]=Object(s.useState)(null),[r,i]=Object(s.useState)(null),j=localStorage.getItem("_id");Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get("".concat(R,"/api/personal-info/").concat(j),{headers:{authorization:localStorage.getItem("token")||""}});i(e.data.Email)}catch(o){console.error("Error fetching employees:",o)}})()}),[]);const m=e=>{const t=new Date;let a=new Date(e)-t;if(a<0)return a=Math.abs(a),{delay:!0,days:0,hours:0,minutes:0};return{delay:!1,days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.floor(a%36e5/6e4)}},h=async()=>{try{const e=await d.a.get("${BASE_URL}/api/tasks");a(e.data)}catch(o){console.error("Error fetching tasks:",o.message),n("Error fetching tasks. Please try again later.")}finally{l(!1),setTimeout(h,6e4)}};Object(s.useEffect)((()=>(h(),()=>clearTimeout())),[]);const b=t.filter((e=>e.employees.some((e=>e.empemail===r&&"Accepted"===e.emptaskStatus)))).length,p=t.filter((e=>e.employees.some((e=>e.empemail===r&&"Rejected"===e.emptaskStatus)))).length,x=t.filter((e=>"Pending"===e.status&&e.employees.some((e=>"Completed"===e.emptaskStatus)))).length,u=t.filter((e=>e.employees.some((t=>t.empemail===r&&"Pending"===e.status)))).length,O=t.filter((e=>e.employees.some((e=>e.empemail===r&&"Task Assigned"===e.emptaskStatus)))).length,g=t.filter((e=>e.employees.some((t=>t.empemail===r&&"Accepted"===t.emptaskStatus&&m(e.endDate).delay)))).length,f=t.filter((e=>e.employees.some((t=>t.empemail===r&&"Completed"===t.emptaskStatus&&!m(e.endDate).delay)))).length,v=t.filter((e=>e.employees.some((t=>t.empemail===r&&"Accepted"===t.emptaskStatus&&m(e.endDate).delay)))).length,N=(t.filter((e=>e.employees.some((t=>t.empemail===r&&"Completed"===t.emptaskStatus&&m(e.endDate).delay)))).length,{options:{chart:{id:"bar"},fill:{colors:["var(--primaryDashColorDark)"]},xaxis:{categories:["New Task","Pending","Accept","Complete","Reject","Overdue","Ontime C","Late C"],labels:{style:{fontSize:"8px"}}},yaxis:{labels:{style:{fontSize:"14px"}}},dataLabels:{enabled:!1},plotOptions:{bar:{columnWidth:"50%"}}},series:[{name:"Total Task",data:[u,O,b,x,p,g,f,v]}]});return Object(y.jsxs)("div",{style:{height:"fit-content"},className:"ChartCard p-2 pb-0",children:[Object(y.jsx)("div",{className:"ChartHeader",children:Object(y.jsx)("h6",{style:{width:"fit-content",boxShadow:"0 0 10px 1px rgba(0,0,0,.2) inset",color:"var(--primaryDashColorDark)"},className:"fw-bolder d-flex px-3 rounded-5 py-1",children:"Task Progress Report"})}),Object(y.jsx)("div",{className:"chartBody",children:Object(y.jsx)(z.a,{options:N.options,series:N.series,type:"bar",height:"340px"})})]})};var yc=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,n]=Object(s.useState)(null),[r,i]=(localStorage.getItem("_id"),Object(s.useState)({options:{labels:[],plotOptions:{pie:{donut:{labels:{show:!0,total:{show:!0}}}}}},series:[]}));Object(s.useEffect)((()=>{d.a.get("".concat(R,"/api/employee/")+localStorage.getItem("_id"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{Array.isArray(e.data)?a(e.data.map((e=>e.department[0]?e.department[0].DepartmentName:""))):console.error("Data received is not an array:",e.data)})).catch((e=>{console.log(e)}))}),[]);return Object(s.useEffect)((()=>{(()=>{const e={};t.forEach((t=>{e[t]=(e[t]||0)+1}));const a=Object.keys(e),s=a.map((t=>e[t]));i({options:{labels:a,plotOptions:{pie:{donut:{labels:{show:!0,total:{show:!0}}}}}},series:s})})()}),[t]),Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"ChartCard shadow-sm ",children:[Object(y.jsx)("div",{className:"ChartHeader",children:Object(y.jsx)("h5",{className:"fw-bolder d-flex gap-3",children:"Employee By Department"})}),Object(y.jsx)(z.a,{options:r.options,series:r.series,type:"donut",width:"100%",height:"100%"})]})})};var vc,Nc=()=>{const[e,t]=Object(s.useState)([]),{socket:a}=Object(s.useContext)(te),c=localStorage.getItem("_id"),l=()=>{d.a.get("".concat(R,"/api/particularEmployee/").concat(c),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{console.log(e.data.Notice),t(e.data.Notice)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{l()}),[]),Object(s.useEffect)((()=>{console.log("Socket:",null===a||void 0===a?void 0:a.id),a&&(a.on("notice",(e=>{t((t=>[e,...t]))})),a.on("noticeDelete",(e=>{e&&l()})))}),[a]);return Object(y.jsx)("div",{className:"container box-shadow: 0 4px 10px 0 rgb(137 137 137 / 25%); p-0 h-100",children:Object(y.jsxs)("div",{className:"birthday shadow position-relative",children:[Object(y.jsxs)("h5",{style:{position:"sticky",top:"0",backgroundColor:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"fw-bolder pb-3 px-3 pt-3 d-flex justify-content-between gap-0 text-center",children:["Notice Board ",Object(y.jsxs)("span",{className:"text-primary",children:["(",e.length,")"]})]}),Object(y.jsx)("div",{className:"mainbirth",style:{maxWidth:"100%",overflowX:"auto"},children:e.length>0?Object(y.jsxs)("table",{className:"table table-striped mt-3",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{className:"cursor-pointer",style:{width:"80%"},children:"Notice"}),Object(y.jsx)("th",{style:{width:"80%"},children:"Action"})]})}),Object(y.jsx)("tbody",{children:e.filter(((e,t,a)=>a.findIndex((t=>t.noticeId===e.noticeId))===t)).map((e=>Object(y.jsxs)("tr",{style:{cursor:"pointer"},children:[Object(y.jsx)("td",{onClick:()=>(e=>{console.log(e.attachments),window.open("".concat(R,"/").concat(e.attachments),"_blank","noreferrer")})(e.attachments),children:"".concat(e.notice)}),Object(y.jsx)("td",{style:{fontSize:"22px",color:"red",textAlign:"center"},children:Object(y.jsx)(ee.a,{onClick:()=>(e=>{d.a.post("".concat(R,"/api/noticeDelete"),{noticeId:e}).then((e=>{alert("Notice delete")})).catch((e=>{console.log(e)}))})(e.noticeId)})})]},e.noticeId)))})]}):Object(y.jsxs)("div",{className:"d-flex flex-column justify-content-center aline-items-center gap-3",style:{height:"100%",width:"100%"},children:[Object(y.jsx)("img",{style:{height:"70%",width:"60%"},className:"mx-auto",src:ae,alt:"Happy Birthday"}),Object(y.jsx)("p",{style:{opacity:"60%",fontSize:"13px"},className:"text-center w-75 mx-auto  fw-bold text-muted ",children:"Notice Not Assigned"})]})})]})})};Object(V.a)(vc||(vc=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var wc=e=>{const[t,a]=Object(s.useState)(0);return Object(y.jsxs)("div",{className:"row gap-0 mx-0",children:[Object(y.jsx)("div",{className:"col-lg-9 mt-5",children:Object(y.jsxs)("div",{className:"row row_flex ",children:[Object(y.jsxs)("div",{className:"col-lg-12",children:[" ",Object(y.jsx)(fc,{})]}),Object(y.jsx)("div",{className:"col-lg-6",children:" "})]})}),Object(y.jsxs)("div",{className:"col-lg-3",children:[Object(y.jsx)(gc,{}),Object(y.jsx)(Nc,{}),Object(y.jsx)("div",{className:"holiday mt-3",children:Object(y.jsx)(q,{})}),Object(y.jsx)("div",{className:"col-md-9"})]})]})};var Dc=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(null),[o,n]=Object(s.useState)((new Date).getFullYear()),[r,i]=Object(s.useState)((new Date).getMonth()+1),[j,m]=Object(s.useState)(null),[h,b]=Object(s.useState)(!1),p=localStorage.getItem("_id");Object(s.useEffect)((()=>{x()}),[]);const x=async()=>{try{const t=await d.a.get("".concat(R,"/api/employee/")+e.data._id,{headers:{authorization:localStorage.getItem("token")||""}});a(t.data)}catch(t){console.error("Error fetching employees:",t)}};Object(s.useEffect)((()=>{(async()=>{try{let e=(await d.a.get("".concat(R,"/api/attendance/").concat(p),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")||"")}})).data.filter((e=>e.employeeObjID&&e.employeeObjID._id===p));l(e.length>0?e[0]:null)}catch(e){console.error("Error fetching attendance data:",e)}})()}),[o,r]);const u=e=>{switch(e){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return""}},O=()=>{if(c&&c.years){const e=(new Date).getFullYear();return c.years.filter((t=>t.year<=e))}return[]},g=e=>{const t=e&&e.loginTime[0];if(t){const[e,a]=t.split(":").map(Number);if(e>9||9===e&&a>45)return"H";if(e>9||9===e&&a>30)return"L"}return t?"P":"A"},f=(()=>{var e;if(!c)return null;const t=null===(e=c.years.find((e=>e.year===o)))||void 0===e?void 0:e.months.find((e=>e.month===r));if(t){return{totalWorkingHours:t.dates.reduce(((e,t)=>e+t.totalLogAfterBreak),0),totalPresent:t.dates.filter((e=>"P"===g(e))).length,totalAbsent:t.dates.filter((e=>"A"===g(e))).length,totalHalfDays:t.dates.filter((e=>"H"===g(e))).length}}return null})();return Object(y.jsxs)("div",{className:"d-flex flex-column p-5 gap-3",children:[c&&Object(y.jsxs)("div",{className:"d-flex gap-3",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"year",children:"Select a year:"}),Object(y.jsx)("select",{className:"form-select shadow",id:"year",value:o,onChange:e=>n(parseInt(e.target.value)),children:O().map((e=>Object(y.jsx)("option",{value:e.year,children:e.year},e.year)))})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"month",children:"Select a month:"}),Object(y.jsx)("select",{className:"form-select shadow",id:"month",value:r,onChange:e=>i(parseInt(e.target.value)),children:(v=o,v===(new Date).getFullYear()?Array.from({length:(new Date).getMonth()+1},((e,t)=>t+1)):Array.from({length:12},((e,t)=>t+1))).map((e=>Object(y.jsx)("option",{value:e,children:u(e)},e)))})]})]}),c&&f&&Object(y.jsxs)("div",{style:{overflow:"auto",height:"80vh"},children:[Object(y.jsxs)("div",{className:"mt-4",children:[Object(y.jsx)("h5",{children:"Monthly Totals"}),Object(y.jsxs)("p",{children:["Total Working Hours:"," ",(e=>{const t=Math.floor(e),a=Math.floor(e/1e3),s=Math.floor(a/60),c=Math.floor(s/60),l=String(c).padStart(2,"0"),o=String(s%60).padStart(2,"0"),n=String(a%60).padStart(2,"0"),r=String(t%60).padStart(2,"0");return"".concat(l,":").concat(o,":").concat(n,":").concat(r)})(f.totalWorkingHours)]}),Object(y.jsxs)("p",{children:["Total Present: ",f.totalPresent]}),Object(y.jsxs)("p",{children:["Total Absent: ",f.totalAbsent]}),Object(y.jsxs)("p",{children:["Total Half-Days: ",f.totalHalfDays]})]}),Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{className:"shadow-sm"})}),Object(y.jsx)("tbody",{children:O().map((e=>e.months.filter((e=>e.month===r)).map((e=>e.dates.sort(((e,t)=>e.date-t.date)).map((e=>Object(y.jsx)("tr",{className:"shadow-sm",id:"attendance-row-".concat(e.date),onMouseEnter:()=>(e=>{m(e)})(e.date),onMouseLeave:()=>{m(null)}},e.date)))))))})]})]}),null===c&&Object(y.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"1rem"},children:[Object(y.jsx)("div",{className:"fs-2 fw-bolder",children:Object(y.jsx)(E.b,{className:"spinner-border text-info"})}),Object(y.jsx)("p",{className:"text-muted",children:"User not selected. To view data, please select a user."})]})]});var v};a(497);var Sc=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)([]),[l,o]=Object(s.useState)(null),{socket:n}=Object(s.useContext)(te),r=localStorage.getItem("_id"),i=localStorage.getItem("Email"),j=()=>{d.a.get("".concat(R,"/api/particularEmployee/").concat(r),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{o(e.data.Notification)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{j()}),[]),Object(s.useEffect)((()=>{n&&n.on("taskNotificationReceived",(()=>{j()}))}),[n]),Object(s.useEffect)((()=>{t(l&&l.length>0&&a.length===l.length)}),[a,l]);return console.log(l),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("form",{className:"d-flex col-8 flex-column gap-3",children:Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"p-2",children:[" ",Object(y.jsx)("input",{type:"checkbox",name:"",id:"",onChange:()=>{t(!e),c(e?[]:[...l])},checked:e})," ",Object(y.jsx)("span",{children:"Select All"})]}),Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"col",children:"Select"}),Object(y.jsx)("th",{scope:"col",children:"task Name"}),Object(y.jsx)("th",{scope:"col",children:"Sender"}),Object(y.jsx)("th",{scope:"col",children:"Status"}),Object(y.jsx)("th",{scope:"col",children:"Action"})]})}),Object(y.jsx)("tbody",{children:l&&l.map(((e,t)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"row",children:Object(y.jsx)("input",{type:"checkbox",name:"",id:"",onChange:()=>(e=>{const t=a.some((t=>t.taskId===e.taskId));c(t?t=>t.filter((t=>t.taskId!==e.taskId)):[...a,e])})(e),checked:a.some((t=>t.taskId===e.taskId))})}),Object(y.jsx)("td",{children:e.taskName}),Object(y.jsx)("td",{children:e.senderMail}),"unseen"===e.status?Object(y.jsx)("td",{children:"Unread"}):Object(y.jsx)("td",{children:"read"}),Object(y.jsx)("td",{children:Object(y.jsx)(Pa.a,{onClick:()=>(e=>{console.log(e),d.a.post("".concat(R,"/api/notificationDeleteHandler/").concat(e),{email:i},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{o(e.data.result.Notification),c([]),console.log("emittted"),n.emit("notificationPageUpdate",!0)})).catch((e=>{console.log(e)}))})(e.taskId),className:"bin"})})]},t)))})]})]})})}),Object(y.jsx)("button",{className:"Notification_delete",onClick:()=>{if(a.length>0){const t=a.map((e=>e.taskId)),s={employeeMail:i,tasks:t};e?l.length>0&&(console.log("clearALL"),d.a.post("".concat(R,"/api/selectedNotificationDelete"),{email:i},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{console.log(e),o(e.data.result.Notification),n.emit("notificationPageUpdate",!0)})).catch((e=>{console.log(e)}))):d.a.post("".concat(R,"/api/multiSelectedNotificationDelete"),s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{o(e.data.result.Notification),c([]),console.log("emittted"),n.emit("notificationPageUpdate",!0)})).catch((e=>{console.log(e)}))}},children:"Delete"})]})};var kc=e=>{let{data:t}=e;return Object(y.jsxs)("div",{style:{height:"100%",width:"100%",overflow:"auto"},className:"empSidebar d-flex flex-column",children:[Object(y.jsx)(r.Route,{path:"/employee/dashboard",exact:!0,component:wc}),Object(y.jsx)(r.Route,{exact:!0,path:"/employee/:id/personal-info",render:e=>Object(y.jsx)(ws,{data:t,back:!1})}),Object(y.jsx)(r.Route,{exact:!0,path:"/employee/:id/education",render:e=>Object(y.jsx)(os,{data:t,back:!1})}),Object(y.jsx)(r.Route,{exact:!0,path:"/employee/:id/family-info",render:e=>Object(y.jsx)(gs,{data:t,back:!1})}),Object(y.jsx)(r.Route,{exact:!0,path:"/employee/:id/work-experience",render:e=>Object(y.jsx)(hs,{data:t,back:!1})}),Object(y.jsx)(r.Route,{exact:!0,path:"/employee/:id/leave-application-emp",render:e=>Object(y.jsx)(jc,{data:t})}),Object(y.jsx)(r.Route,{exact:!0,path:"/employee/leaveApplication",render:e=>Object(y.jsx)(jc,{data:t})}),Object(y.jsx)(r.Route,{exact:!0,path:"/employee/:id/leave-application-emp",render:e=>Object(y.jsx)(jc,{data:t})}),Object(y.jsx)(r.Route,{exact:!0,path:"/employee/:id/attenDance",render:e=>Object(y.jsx)(xc,{data:t})}),Object(y.jsx)(r.Route,{exact:!0,path:"/employee/:id/attendanceList",render:e=>Object(y.jsx)(uc,{data:t})}),Object(y.jsx)(r.Route,{exact:!0,path:"/employee/:id/departmentchart",render:e=>Object(y.jsx)(yc,{data:t})}),Object(y.jsx)(r.Route,{path:"/employee/newTask",exact:!0,component:mc}),Object(y.jsx)(r.Route,{path:"/employee/activeTask",exact:!0,component:hc}),Object(y.jsx)(r.Route,{path:"/employee/taskcomplete",exact:!0,component:bc}),Object(y.jsx)(r.Route,{path:"/employee/taskreject",exact:!0,component:pc}),Object(y.jsx)(r.Route,{path:"/employee/:id/selfAtteend",exact:!0,component:Dc}),Object(y.jsx)(r.Route,{path:"/employee/:id/birthDay",exact:!0,component:gc}),Object(y.jsx)(r.Route,{path:"/employee/notification",exact:!0,component:Sc})]})};var Cc=e=>{const[t,a]=Object(s.useState)(!0),c=[{icon:Object(y.jsx)(W.a,{icon:J.i,className:"sidebar-icon"}),name:"Dashboard",navLinks:[{to:"/employee/dashboard",label:"Dashboard"}]},{icon:Object(y.jsx)(f.k,{}),name:"Profile",navLinks:[{to:"/employee/"+e.data._id+"/personal-info",label:"Profile"}]},{icon:Object(y.jsx)(W.a,{icon:J.h,className:"sidebar-icon"}),name:"Dependents",navLinks:[{to:"/employee/"+e.data._id+"/family-info",label:"Dependents"}]},{icon:Object(y.jsx)(W.a,{icon:J.d,className:"sidebar-icon"}),name:"Education",navLinks:[{to:"/employee/"+e.data._id+"/education",label:"Education"},{to:"/employee/"+e.data._id+"/departmentchart",label:"dep chsrt"},{to:"/employee/"+e.data._id+"/birthDay",label:"birth"}]},{icon:Object(y.jsx)(W.a,{icon:J.a,className:"sidebar-icon"}),name:"Work Exp",navLinks:[{to:"/employee/"+e.data._id+"/work-experience",label:"WorkExp"}]},{icon:Object(y.jsx)(w.a,{}),name:"Attendance",navLinks:[{to:"/employee/"+e.data._id+"/attendance",label:"Create Attendance"},{to:"/employee/"+e.data._id+"/attendanceList",label:"View Attendance"},{to:"/employee/"+e.data._id+"/selfAtteend",label:"self Attendance"}]},{icon:Object(y.jsx)(C.a,{}),name:"Leave",navLinks:[{to:"/employee/leaveApplication",label:"Apply Leave"}]},{icon:Object(y.jsx)(D.k,{}),name:"Task",navLinks:[{to:"/employee/newTask",label:" New Task"},{to:"/employee/activeTask",label:"Active Task"},{to:"/employee/taskcomplete",label:"Completed Task"},{to:"/employee/taskreject",label:"Rejected Task"}]},{icon:Object(y.jsx)(S.a,{}),name:"Access",navLinks:[{to:"/hr/departmentchart",label:"Role"},{to:"/hr/position",label:"Position"},{to:"/hr/department",label:"Department"}]}];return Object(y.jsx)(Ya,{children:Object(y.jsxs)(n.a,{children:[Object(y.jsx)(qa,{loginInfo:e.data,checked:t,handleChange:()=>{console.log("switch"),t?document.getElementById("sidebar").setAttribute("class","display-none"):document.getElementById("sidebar").setAttribute("class","display-block"),a(!t)},onLogout:e.onLogout}),Object(y.jsxs)("div",{className:"d-flex",style:{maxHeight:"100vh"},id:"main-non-nav",children:[Object(y.jsx)(lc,{navigation:c}),Object(y.jsx)("div",{className:"HrDashBG w-100",id:"main-area",children:Object(y.jsx)(kc,{data:e.data})})]})]})})};a(498);const Ec={outline:"none",border:"none",height:"3rem"},Lc={width:"250px",zIndex:"5",borderLeft:"5px solid white"};var Ic,Ac=()=>{const[e,t]=Object(s.useState)(null),[a,c]=Object(s.useState)(!0),l=[{icon:Object(y.jsx)(D.c,{}),name:"Dashboard",navLinks:[{to:"/manager/dashboard",label:"Dashboard"}]},{icon:Object(y.jsx)(f.k,{}),name:"Employee",navLinks:[{to:"/manager/employee",label:"Employee List"},{to:"/manager/salary",label:"Salary"}]},{icon:Object(y.jsx)(w.a,{}),name:"Attendance",navLinks:[{to:"/manager/attenDance",label:"Create Attendance"},{to:"/manager/todaysAttendance",label:"TodaysAttendance"},{to:"/manager/viewAttenDance",label:"View Attendance"},{to:"/manager/leave-application-manager",label:"View Leave "}]},{icon:Object(y.jsx)(C.a,{}),name:"Leave",navLinks:[{to:"/manager/createLeave",label:"Apply Leave"},{to:"/manager/leaveApplication",label:"Pending "},{to:"/manager/leaveAccepted",label:"Accepted "},{to:"/manager/leaveRejected",label:"Rejected "}]},{icon:Object(y.jsx)(D.k,{}),name:"Task",navLinks:[{to:"/manager/newTask",label:"Assign New Task"},{to:"/manager/ActiveTask",label:"Active Task"},{to:"/manager/taskcancle",label:"Cancelled Task"},{to:"/manager/taskcomplete",label:"Completed Task"},{to:"/manager/rejectTask",label:"Rejected Task"}]},{icon:Object(y.jsx)(S.a,{}),name:"Administration",navLinks:[{to:"/manager/role",label:"Role"},{to:"/manager/position",label:"Position"},{to:"/manager/department",label:"Department"}]},{icon:Object(y.jsx)(N.a,{}),name:"Company",navLinks:[{to:"/manager/company",label:"Company List"}]},{icon:Object(y.jsx)(f.a,{}),name:"Address",navLinks:[{to:"/manager/country",label:"Country"},{to:"/manager/state",label:"State"},{to:"/manager/city",label:"City"}]},{icon:Object(y.jsx)(D.f,{}),name:"Holiday",navLinks:[{to:"/manager/holiday",label:"Leave Calendar"}]}];return Object(y.jsxs)("div",{style:{minHeight:"100%",maxHeight:"100%",overflowY:"auto",overflow:"inherit",width:"fit-content",backgroundColor:"var(--primaryDashColorDark)"},className:"d-flex  flex-column gap-2 p-3",children:[Object(y.jsxs)("h3",{style:{borderBottom:"3px solid green"},className:"fw-bolder text-success justify-content-between py-2 d-flex gap-2",children:[Object(y.jsx)("p",{style:{display:a?"block":"none"},className:"my-auto",children:"MANAGER"})," ",Object(y.jsx)("span",{onClick:()=>{c(!a)},style:{border:"none",outline:"none",cursor:"pointer",transform:"rotate(".concat(a?"0deg":"180deg",")")},className:"my-auto p-0 fs-2 text-white",children:Object(y.jsx)(D.g,{})})]}),l.map((s=>{let{icon:c,name:l,navLinks:o}=s;return Object(y.jsxs)("div",{onMouseEnter:()=>t(l),onMouseLeave:()=>t(null),className:"position-relative",children:[Object(y.jsxs)("button",{style:Ec,className:"btn p-0 text-white text-start fw-bold gap-2 justify-between w-100 d-flex justify-content-between",children:[Object(y.jsxs)("div",{style:{width:"fit-content"},className:"d-flex my-auto gap-2",children:[Object(y.jsx)("p",{style:{height:"30px",width:"30px",alignItems:"center",color:e===l?"#FF9209":"white"},className:"m-auto d-flex rounded-5  justify-content-center fs-3",children:c}),Object(y.jsx)("p",{style:{display:a?"block":"none"},className:"my-auto",children:l})]}),Object(y.jsx)("span",{style:{transform:"rotate(".concat(e===l?"135deg":"0deg",")"),transition:"1s ease",display:a?"block":"none"},className:"my-auto fs-4",children:"+"})]}),Object(y.jsx)("div",{style:{...Lc,display:e===l?"flex":"none",backgroundColor:"var(--primaryDashColorDark)",width:"fit-content"},className:"flex-column position-absolute top-0 start-100 py-2 px-2 gap-2 mt-2  ",children:o.map((e=>Object(y.jsx)(n.b,{className:"text-decoration-none",to:e.to,children:Object(y.jsxs)("div",{className:"text-decoration-none flex-nowrap text-start fw-bolder gap-3 text-white d-flex justify-content-between ",children:[Object(y.jsxs)("div",{style:{borderBottom:"1px solid white"},className:"d-flex gap-1 flex-nowrap",children:[Object(y.jsx)("p",{className:"m-0",children:e.icon}),Object(y.jsx)("p",{style:{whiteSpace:"pre"},className:"m-auto",children:e.label})]}),Object(y.jsx)("span",{style:{},className:"my-auto ",children:"\u203a"})]})},e.to)))})]},l)}))]})};a(499);const Tc=Object(V.a)(Ic||(Ic=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var Fc=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,n]=Object(s.useState)(""),[r,i]=Object(s.useState)(0),[j,m]=Object(s.useState)(null),[h,b]=Object(s.useState)("asc"),[p,x]=Object(s.useState)([]),u=localStorage.getItem("Email");let O=[],g=[];const f=()=>{d.a.get("".concat(R,"/api/leave-application-hr/"),{headers:{authorization:localStorage.getItem("token")||""}}).then((t=>{O=t.data,console.log("response",t.data),a(t.data),l(!1),g=[],O.map((e=>{let t={data:e,empID:e.employee&&e.employee[0]&&e.employee[0].empID,Name:e.employee&&e.employee[0]&&e.employee[0].FirstName+" "+e.employee[0].LastName,Leavetype:e.Leavetype,FromDate:e.FromDate.slice(0,10),ToDate:e.ToDate.slice(0,10),Reasonforleave:e.Reasonforleave,hrEmail:e.hrEmail,Status:w(e.Status)};g.push(t)})),x(g),i(t.data.length),e.updateTotalLeaves(t.data.length)})).catch((e=>{console.log(e)}))},v=(e,t)=>{console.log(e,t),1==window.confirm("Are you sure to delete this record? ")&&d.a.delete("".concat(R,"/api/leave-application-hr/")+e+"/"+t,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{f()})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{f()}),[]);const w=e=>1==e?"Pending":2==e?"Approved":3==e?"Rejected":void 0,D=e=>j===e?"asc"===h?"\u25b4":"\u25be":null,S=e=>{const{rowData:t,sortColumn:a,sortDirection:s}=(void 0).state;let c="asc";a===e&&"asc"===s&&(c="desc");const l=[...t];l.sort(((t,a)=>{const c=t[e],l=a[e];let o=0;return c>l?o=1:c<l&&(o=-1),"desc"===s?-1*o:o})),x(l),m(e),b(c)},k=p.filter((e=>"Pending"===e.Status)).length;return Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsxs)("div",{className:"d-flex justify-between",children:[Object(y.jsxs)("h3",{className:"fw-bold text-muted",children:["Leave Request (",k,")"]}),Object(y.jsxs)("button",{className:"btn px-3 d-flex justify-center  aline-center gap-2",onClick:()=>{window.confirm("Are you sure to download Leave record? ");const{rowData:e}=(void 0).state,t=new K.default({orientation:"landscape",unit:"mm",format:[297,210]});t.setFontSize(18),t.text("Employee Leave Details",148.5,15,"center");const a=e.map((e=>[e.empID,e.Leavetype,e.FromDate,e.ToDate,e.Reasonforleave,e.Status,""]));t.setFontSize(12),t.autoTable({head:[["Emp Id","Leave Type","Start Date","End Date","Remarks","Status"]],body:a,startY:25}),t.save("leaveApplication_data.pdf")},children:[Object(y.jsx)(N.c,{className:"text-danger fs-4"}),Object(y.jsx)("p",{className:"my-auto fs-5 fw-bold",children:"PDF"})]})]}),Object(y.jsx)("div",{id:"clear-both"}),c?Object(y.jsx)("div",{id:"loading-bar",children:Object(y.jsx)(ne.a,{css:Tc,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(y.jsx)("div",{className:"mt-3",style:{overflow:"auto",height:"85vh",width:"100%",scrollbarWidth:"thin"},children:Object(y.jsxs)("table",{className:"table table-striped",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsxs)("th",{style:{cursor:"pointer",background:"linear-gradient(#1D267D, #2F58CD)",color:"white"},onClick:()=>S("empID"),children:["Employee ID ",D("empID")]}),Object(y.jsxs)("th",{style:{cursor:"pointer",background:"linear-gradient(#1D267D, #2F58CD)",color:"white"},onClick:()=>S("Name"),children:["Emp Name ",D("Name")]}),Object(y.jsxs)("th",{style:{cursor:"pointer",background:"linear-gradient(#1D267D, #2F58CD)",color:"white"},onClick:()=>S("Leavetype"),children:["Leave Type ",D("Leavetype")]}),Object(y.jsxs)("th",{s:!0,style:{cursor:"pointer",background:"linear-gradient(#1D267D, #2F58CD)",color:"white"},onClick:()=>S("FromDate"),children:["Start Date ",D("FromDate")]}),Object(y.jsxs)("th",{style:{cursor:"pointer",background:"linear-gradient(#1D267D, #2F58CD)",color:"white"},onClick:()=>S("ToDate"),children:["End Date ",D("ToDate")]}),Object(y.jsxs)("th",{style:{cursor:"pointer",background:"linear-gradient(#1D267D, #2F58CD)",color:"white"},onClick:()=>S("Status"),children:["Status ",D("Status")]}),Object(y.jsxs)("th",{style:{cursor:"pointer",background:"linear-gradient(#1D267D, #2F58CD)",color:"white"},onClick:()=>S("Reasonforleave"),children:["Remarks ",D("Reasonforleave")]}),Object(y.jsx)("th",{style:{background:"linear-gradient(#1D267D, #2F58CD)",color:"white",textAlign:"center"},children:"Actions"})]})}),Object(y.jsx)("tbody",{children:p.filter((e=>"Pending"==e.Status&&e.hrEmail===u)).map(((t,a)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"text-uppercase py-1",children:t.empID}),Object(y.jsx)("td",{className:"py-1",children:t.Name}),Object(y.jsx)("td",{className:"py-1",children:t.Leavetype}),Object(y.jsx)("td",{className:"py-1",children:t.FromDate}),Object(y.jsx)("td",{className:"py-1",children:t.ToDate}),Object(y.jsx)("td",{className:"py-1",children:t.Status}),Object(y.jsx)("td",{className:"py-1",children:t.Reasonforleave}),Object(y.jsx)("td",{className:"py-1",children:Object(y.jsxs)("div",{className:"d-flex gap-3 py-2",style:{cursor:"pointer"},children:[Object(y.jsx)("p",{title:"Update",className:"m-auto text-primary",children:Object(y.jsx)(W.a,{className:"m-auto",icon:J.b,onClick:()=>e.onEditLeaveApplicationHR(t.data)})}),Object(y.jsx)("p",{title:"Delete",className:"m-auto text-danger",children:Object(y.jsx)(W.a,{className:"m-auto",icon:J.g,onClick:()=>v(t.data.employee[0]._id,t.data._id)})})]})})]},a)))})]})})]})};var Rc=e=>{const[t,a]=Object(s.useState)(e.editData.FromDate.slice(0,10)),[c,l]=Object(s.useState)(e.editData.ToDate.slice(0,10)),[o,n]=Object(s.useState)(e.editData.Reasonforleave);return Object(y.jsxs)("div",{className:"registration-page py-4",children:[Object(y.jsxs)("h2",{id:"role-form-title",className:"text-center text-black text-uppercase fw-bold my-4",children:["Edit Leave Application Of ",e.editData.employee[0].FirstName," ",e.editData.employee[0].LastName]}),Object(y.jsx)("div",{id:"role-form-outer-div",children:Object(y.jsx)(me.a,{id:"form",onSubmit:t=>{t.preventDefault(),e.onLeaveApplicationHREditUpdate(e.editData,t)},children:Object(y.jsx)("div",{className:"d-flex  flex-column gap-2 rounded ",children:Object(y.jsxs)("div",{style:{padding:"70px"},className:"row ",children:[Object(y.jsx)("div",{className:"form-group col-12 col-md-6",children:Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Leave Type"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",required:!0,children:[Object(y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),Object(y.jsx)("option",{value:"Sick Leave",selected:"Sick Leave"==e.editData.Leavetype,disabled:!0,children:"Sick Leave"}),Object(y.jsx)("option",{value:"Casual Leave",selected:"Casual Leave"==e.editData.Leavetype,disabled:!0,children:"Casual Leave"}),Object(y.jsx)("option",{value:"Privilege Leave",selected:"Privilege Leave"==e.editData.Leavetype,disabled:!0,children:"Privilege Leave"})]})})]})}),Object(y.jsx)("div",{className:"form-group col-12 col-md-6",children:Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"FromDate"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"date",required:!0,disabled:!0,value:t})})]})}),Object(y.jsx)("div",{className:"form-group col-12 col-md-6",children:Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"ToDate"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsx)(me.a.Control,{type:"date",required:!0,disabled:!0,value:c})})]})}),Object(y.jsx)("div",{className:"form-group col-12 col-md-6",children:Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Leave Status"}),Object(y.jsx)(be.a,{sm:10,className:"form-input",children:Object(y.jsxs)(me.a.Control,{as:"select",required:!0,children:[Object(y.jsx)("option",{value:"Pending",selected:!0,disabled:!0,children:"Pending"}),Object(y.jsx)("option",{value:"2",selected:2==e.editData.Status,children:"Approve"}),Object(y.jsx)("option",{value:"3",selected:3==e.editData.Status,children:"Reject"})]})})]})}),Object(y.jsx)("div",{className:"form-group col-12",children:Object(y.jsxs)(me.a.Group,{as:he.a,children:[Object(y.jsx)(me.a.Label,{column:!0,sm:6,children:"Reason for leave"}),Object(y.jsx)(be.a,{sm:11,className:"form-input",children:Object(y.jsx)(me.a.Control,{as:"textarea",rows:3,placeholder:"Reason for leave",required:!0,disabled:!0,value:o})})]})}),Object(y.jsxs)("div",{className:"form-group col-12 d-flex  gap-5",id:"form-submit-button",children:[Object(y.jsx)(re.a,{className:"mx-3",type:"submit",children:"Submit"}),Object(y.jsx)(re.a,{className:"mx-3",type:"reset",onClick:e.onFormClose,children:"cancel"})]}),Object(y.jsx)("div",{className:"form-group col-12 col-md-6",id:"form-cancel-button"})]})})})})]})};a(500);var Pc=e=>{const[t,a]=Object(s.useState)(!0),[l,o]=Object(s.useState)(!1),[n,r]=Object(s.useState)({}),{socket:i}=Object(s.useContext)(te),j=localStorage.getItem("Email");return Object(y.jsx)(c.a.Fragment,{children:t?l?Object(y.jsx)(Rc,{onLeaveApplicationHREditUpdate:(e,t)=>{t.preventDefault(),console.log("zero data",t.target[0].value);let s={Status:t.target[3].value};console.log("update",e),"Pending"!==s.Status&&d.a.put("".concat(R,"/api/leave-application-hr/")+e._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((t=>{a(!1),a(!0);const c=Object(vt.a)();let l="";"2"===s.Status?l="Approved":"3"===s.Status&&(l="Rejected");const o={taskId:c,employeeEmail:e.employee[0].Email,hrEmail:e.hrEmail,message:"".concat(e.employee[0].Email," Leave request ").concat(l," by ").concat(j),status:"unseen",path:"leaveApplication"};console.log(o),i.emit("leaveManagerStatusNotification",o)})).catch((e=>{console.log(e)})),o(!1)},onFormEditClose:()=>{console.log("clicked5"),o(!1)},editData:n}):Object(y.jsx)(Fc,{onAddLeaveApplicationHR:()=>{console.log("clicked1"),a(!1)},onEditLeaveApplicationHR:e=>{console.log(e),console.log("clicked6"),o(!0),r(e)},data:e.data}):Object(y.jsx)("div",{})})};var Mc,zc=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)([]),[l,o]=Object(s.useState)(!0),[n,r]=Object(s.useState)(null),i=localStorage.getItem("Email");Object(s.useEffect)((()=>{d.a.get("".concat(R,"/api/employee"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{Array.isArray(e.data)?t(e.data.map((e=>{var t;return(null===(t=e.department[0])||void 0===t?void 0:t.DepartmentName)||""}))):console.error("Data received is not an array:",e.data)})).catch((e=>{console.log(e)})),(async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"));c(e.data),r(null)}catch(n){console.error("Error fetching tasks:",n.message),r("Error fetching tasks. Please try again later.")}finally{o(!1)}})()}),[]);const j=e=>{const t=new Date;let a=new Date(e)-t;if(a<0)return a=Math.abs(a),{delay:!0,days:0,hours:0,minutes:0};return{delay:!1,days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.floor(a%36e5/6e4)}},m={};e.forEach((e=>{m[e]=(m[e]||0)+1}));const h={Total:a.filter((e=>e.managerEmail===i)).length,newTasks:a.filter((e=>"Assigned"===e.status&&e.managerEmail===i)).length,Completed:a.filter((e=>"Completed"===e.status&&e.managerEmail===i)).length,Rejected:a.filter((e=>"Rejected"===e.status&&e.managerEmail===i)).length,canceled:a.filter((e=>"Cancelled"===e.status&&e.managerEmail===i)).length,Active:a.filter((e=>"Pending"===e.status&&e.managerEmail===i)).length,Overdue:a.filter((e=>"Pending"===e.status&&e.managerEmail===i&&j(e.endDate).delay)).length,Ontime:a.filter((e=>"Pending"===e.status&&e.managerEmail===i&&!j(e.endDate).delay)).length},b={options:{chart:{id:"task-status-chart",type:"bar"},fill:{opacity:1,colors:["var(--primaryDashColorDark)"]},xaxis:{categories:Object.keys(h),title:{text:"Task Status"}},yaxis:{title:{text:"Number of Tasks"}}},series:[{name:"Task Status",data:Object.values(h)}]};return Object(y.jsxs)("div",{style:{height:"fit-content"},className:"ChartCard p-2 pb-0",children:[Object(y.jsx)("div",{className:"ChartHeader",children:Object(y.jsx)("h6",{style:{width:"fit-content",boxShadow:"0 0 10px 1px rgba(0,0,0,.2) inset",color:"var(--primaryDashColorDark)"},className:"fw-bolder d-flex px-3 rounded-5 py-1",children:"Task Progress Report"})}),Object(y.jsx)("div",{className:"chartBody",children:Object(y.jsx)(z.a,{options:b.options,series:b.series,type:"bar",height:"340px"})})]})};Object(V.a)(Mc||(Mc=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var Bc,_c=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,r]=Object(s.useState)(""),[i,j]=Object(s.useState)(0),[m,h]=Object(s.useState)(null),[b,p]=Object(s.useState)("asc"),[x,u]=Object(s.useState)([]);let O=[],g=[];const f=()=>{d.a.get("".concat(R,"/api/leave-application-hr/"),{headers:{authorization:localStorage.getItem("token")||""}}).then((t=>{O=t.data,console.log("response",t.data),a(t.data),l(!1),g=[],O.map((e=>{let t={data:e,empID:e.employee&&e.employee[0]&&e.employee[0].empID,Name:e.employee&&e.employee[0]&&e.employee[0].FirstName+" "+e.employee[0].LastName,Leavetype:e.Leavetype,FromDate:e.FromDate.slice(0,10),ToDate:e.ToDate.slice(0,10),Reasonforleave:e.Reasonforleave,Status:v(e.Status)};g.push(t)})),u(g),j(t.data.length),e.updateTotalLeaves(t.data.length)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{f()}),[]);const v=e=>1==e?"Pending":2==e?"Approved":3==e?"Rejected":"Unknown",N=x.filter((e=>"Pending"===e.Status)).length,w=x.filter((e=>"Approved"===e.Status)).length,D=x.filter((e=>"Rejected"===e.Status)).length;return Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:"container-fluid  mt-4",children:Object(y.jsxs)("div",{className:"row row-gap-4",children:[Object(y.jsx)("div",{className:"col-md-4",children:Object(y.jsx)("div",{style:{backgroundColor:"#FED2AA"},className:" DashboardCard position-relative",children:Object(y.jsxs)("div",{className:" d-flex flex-column gap-3",children:[Object(y.jsxs)("p",{className:"fw-bold pt-2 text-muted",children:["On Pending Leaves",Object(y.jsx)("span",{className:"fw-bolder text-info position-absolute",style:{fontSize:"35px",right:"10%",top:"4%"},children:N})]}),Object(y.jsxs)(n.b,{className:"text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-2  aline-items-center fw-bold text-info  aline-center",to:"/manager/leave-application-hr",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})}),Object(y.jsx)("div",{className:"col-md-4",children:Object(y.jsx)("div",{style:{backgroundColor:"#DFFFD8"},className:"DashboardCard position-relative",children:Object(y.jsxs)("div",{className:"d-flex flex-column gap-3",children:[Object(y.jsxs)("p",{className:"fw-bold pt-2 text-muted",children:["On Approved Leaves"," ",Object(y.jsx)("span",{className:"fw-bolder text-info position-absolute",style:{fontSize:"35px",right:"10%",top:"4%"},children:w})]}),Object(y.jsxs)(n.b,{className:"text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-2  aline-items-center fw-bold text-info  aline-center",to:"/manager/leaveAccepted",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})}),Object(y.jsx)("div",{className:"col-md-4",children:Object(y.jsx)("div",{style:{backgroundColor:"#FEBBCC"},className:"DashboardCard position-relative",children:Object(y.jsxs)("div",{className:"d-flex flex-column gap-3",children:[Object(y.jsxs)("p",{className:"fw-bold pt-2 text-muted",children:["On Rejected Leaves",Object(y.jsx)("span",{className:"fw-bolder text-info position-absolute",style:{fontSize:"35px",right:"10%",top:"4%"},children:D})]}),Object(y.jsxs)(n.b,{className:"text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-2  aline-items-center fw-bold text-info  aline-center",to:"/manager/leaveRejected",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})})]})})})};Object(V.a)(Bc||(Bc=Object(Y.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 45px;\n  border-color: red;\n"])));var Gc=e=>{const[t,a]=Object(s.useState)([]),[c,l]=Object(s.useState)(!0),[o,r]=Object(s.useState)([]),[i,j]=Object(s.useState)(""),[m,h]=Object(s.useState)(!1),[b,p]=Object(s.useState)(!0),[x,u]=Object(s.useState)([]),[O,g]=Object(s.useState)(""),f=()=>{d.a.get("".concat(R,"/api/employee"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{Array.isArray(e.data)?(a(e.data),l(!1),r([]),e.data.forEach((e=>{let t={data:e,Email:e.Email,Password:e.Password,Account:1===e.Account?"Admin":2===e.Account?"HR":3===e.Account?"Employee":4===e.Account?"Manager":"",RoleName:e.role[0]?e.role[0].RoleName:"",FirstName:e.FirstName,MiddleName:e.MiddleName,LastName:e.LastName,DOB:e.DOB.slice(0,10),ContactNo:e.ContactNo,empID:e.empID,DepartmentName:e.department[0]?e.department[0].DepartmentName:"",PositionName:e.position[0]?e.position[0].PositionName:"",DateOfJoining:e.DateOfJoining.slice(0,10)};r((e=>[...e,t]))}))):console.error("Data received is not an array:",e.data)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{f()}),[]);Object(s.useEffect)((()=>{(()=>{const e=new Date,t=o.filter((t=>{const a=new Date(t.DOB);a.setFullYear(e.getFullYear());const s=a-e,c=Math.ceil(s/864e5);return c>=0&&c<=7}));u(t)})()}),[o]);let v=o.filter((e=>{const t=!m||e.empID.toLowerCase()===i.toLowerCase(),a=e.FirstName.toLowerCase().includes(i.toLowerCase());return t&&a}));v=v.sort(((e,t)=>{const a=e.empID.toLowerCase(),s=t.empID.toLowerCase();return b?a.localeCompare(s):s.localeCompare(a)}));const N=v.filter((e=>"Admin"===e.Account)).length,w=v.filter((e=>"HR"===e.Account)).length,D=v.filter((e=>"Manager"===e.Account)).length,S=v.filter((e=>"Employee"===e.Account)).length;return Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:"container-fluid  mt-4",children:Object(y.jsxs)("div",{className:"row row-gap-4",children:[Object(y.jsx)("div",{className:"col-md-3",children:Object(y.jsx)("div",{style:{backgroundColor:"#FED2AA"},className:" DashboardCard position-relative",children:Object(y.jsxs)("div",{className:" d-flex flex-column gap-3",children:[Object(y.jsxs)("p",{className:"fw-bold pt-2 text-muted",children:["Total Admins",Object(y.jsx)("span",{className:"fw-bolder text-info position-absolute",style:{fontSize:"35px",right:"10%",top:"4%"},children:N})]}),Object(y.jsxs)(n.b,{className:"text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-2  aline-items-center fw-bold text-info  aline-center",to:"/hr/employee",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})}),Object(y.jsx)("div",{className:"col-md-3",children:Object(y.jsx)("div",{style:{backgroundColor:"#DFFFD8"},className:"DashboardCard position-relative",children:Object(y.jsxs)("div",{className:"d-flex flex-column gap-3",children:[Object(y.jsxs)("p",{className:"fw-bold pt-2 text-muted",children:["Total HR"," ",Object(y.jsx)("span",{className:"fw-bolder text-info position-absolute",style:{fontSize:"35px",right:"10%",top:"4%"},children:w})]}),Object(y.jsxs)(n.b,{className:"text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-2  aline-items-center fw-bold text-info  aline-center",to:"/hr/leave-application-hr",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})}),Object(y.jsx)("div",{className:"col-md-3",children:Object(y.jsx)("div",{style:{backgroundColor:"#FEBBCC"},className:"DashboardCard position-relative",children:Object(y.jsxs)("div",{className:"d-flex flex-column gap-3",children:[Object(y.jsxs)("p",{className:"fw-bold pt-2 text-muted",children:["Total Manager",Object(y.jsx)("span",{className:"fw-bolder text-info position-absolute",style:{fontSize:"35px",right:"10%",top:"4%"},children:D})]}),Object(y.jsxs)(n.b,{className:"text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-2  aline-items-center fw-bold text-info  aline-center",to:"/hr/employee",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})}),Object(y.jsx)("div",{className:"col-md-3",children:Object(y.jsx)("div",{style:{backgroundColor:"#BCCEF8"},className:"DashboardCard position-relative",children:Object(y.jsxs)("div",{className:"d-flex flex-column gap-3",children:[Object(y.jsxs)("p",{className:"fw-bold pt-2 text-muted",children:["Total Employee",Object(y.jsx)("span",{className:"fw-bolder text-info position-absolute",style:{fontSize:"35px",right:"10%",top:"4%"},children:S})]}),Object(y.jsxs)(n.b,{className:"text-decoration-none bg-white px-4  rounded-5 d-flex justify-between py-2  aline-items-center fw-bold text-info  aline-center",to:"/hr/employee",children:[Object(y.jsx)("p",{className:"my-auto",children:"More Info"})," ",Object(y.jsx)("p",{className:"my-auto fs-4 d-flex",children:Object(y.jsx)(X.a,{})})]})]})})}),Object(y.jsx)("div",{className:"col-md-9"})]})})})};var Hc=()=>{const[e,t]=Object(s.useState)([]),{socket:a}=Object(s.useContext)(te),c=localStorage.getItem("_id"),l=()=>{d.a.get("".concat(R,"/api/particularEmployee/").concat(c),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{console.log(e.data.Notice),t(e.data.Notice)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{l()}),[]),Object(s.useEffect)((()=>{console.log("Socket:",null===a||void 0===a?void 0:a.id),a&&(a.on("notice",(e=>{t((t=>[e,...t]))})),a.on("noticeDelete",(e=>{e&&l()})))}),[a]);return Object(y.jsx)("div",{className:"container box-shadow: 0 4px 10px 0 rgb(137 137 137 / 25%); mt-4 ",children:Object(y.jsxs)("div",{className:"birthday",children:[Object(y.jsxs)("h4",{className:"fw-bolder d-flex text-muted gap-0 text-center",children:["Notice Board"," ",Object(y.jsxs)("span",{className:"text-primary mx-2",children:["(",e.filter(((e,t,a)=>a.findIndex((t=>t.noticeId===e.noticeId))===t)).length,")"]})]}),Object(y.jsx)("div",{className:"mainbirth",style:{maxWidth:"100%",overflowX:"auto"},children:e.filter(((e,t,a)=>a.findIndex((t=>t.noticeId===e.noticeId))===t)).length>0?Object(y.jsxs)("table",{className:"table table-striped mt-3",children:[Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{children:Object(y.jsx)("th",{className:"cursor-pointer",style:{width:"100%"},children:"Notice"})})}),Object(y.jsx)("tbody",{children:e.filter(((e,t,a)=>a.findIndex((t=>t.noticeId===e.noticeId))===t)).map((e=>Object(y.jsx)("tr",{style:{cursor:"pointer"},children:Object(y.jsx)("td",{onClick:()=>(e=>{console.log(e),window.open("".concat(R,"/").concat(e.attachments),"_blank","noreferrer")})(e),children:"".concat(e.notice)})},e.noticeId)))})]}):Object(y.jsx)("p",{children:"No Notice"})})]})})};var Uc=()=>Object(y.jsx)(Na,{children:Object(y.jsxs)("div",{className:"row gap-0 mx-0",children:[Object(y.jsxs)("div",{className:"col-lg-9",children:[Object(y.jsx)(Gc,{}),Object(y.jsx)(_c,{}),Object(y.jsxs)("div",{className:"row row_flex mt-5",children:[Object(y.jsx)("div",{className:"col-lg-6",children:Object(y.jsx)(ce,{})}),Object(y.jsx)("div",{className:"col-lg-6",children:Object(y.jsx)(_,{})})]}),Object(y.jsx)("div",{className:"row row_flex",children:Object(y.jsx)("div",{className:"col-lg-8",children:Object(y.jsx)(zc,{})})})]}),Object(y.jsxs)("div",{className:"col-lg-3",children:[Object(y.jsx)(P,{}),Object(y.jsx)(Hc,{}),Object(y.jsx)("div",{className:"holiday mt-3",children:Object(y.jsx)(q,{})}),Object(y.jsx)("div",{className:"col-md-9"})]})]})});var qc=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!0),[l,o]=Object(s.useState)(null),[,n]=Object(s.useState)(!1),[,r]=Object(s.useState)(!1),{socket:i}=Object(s.useContext)(te),j=localStorage.getItem("Email"),m=e=>{const t=new Date;let a=new Date(e)-t;if(a<0)return a=Math.abs(a),{delay:!0,days:0,hours:0,minutes:0};return{delay:!1,days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.floor(a%36e5/6e4)}},h=async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"));console.log(e.data),t(e.data)}catch(l){console.error("Error fetching tasks:",l.message),o("Error fetching tasks. Please try again later.")}finally{c(!1)}};Object(s.useEffect)((()=>(h(),()=>clearTimeout())),[]);const b=e.filter((e=>"Assigned"===e.status&&e.managerEmail===j)).length;return Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsxs)("h1",{className:"fs-2 text-muted fw-bolder text-uppercase",children:["\u2b50 New Task (",b,")"]}),Object(y.jsx)("p",{className:"text-muted",children:"You can view all New task here!"})," ",Object(y.jsx)("h1",{className:"fs-3 fw-bolder text-uppercase "}),a&&Object(y.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(y.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(y.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),Object(y.jsx)("div",{style:{overflowY:"scroll",height:"80vh",scrollbarWidth:"thin",scrollbarGutter:"stable",scrollMargin:"1rem"},children:e.filter((e=>"Assigned"===e.status&&e.managerEmail===j)).map(((e,t)=>Object(y.jsxs)("details",{style:{boxShadow:"-1px 1px 10px gray"},className:"p-1 position-relative mt-3 fs-4 rounded mx-3",children:[Object(y.jsxs)("summary",{style:{height:"fit-content",background:"linear-gradient(165deg,#11009E, #700B97, 90%, #C84B31)"},className:"d-flex justify-content-between aline-center form-control text-white ",children:[Object(y.jsxs)("div",{className:"fw-bold fs-5 d-flex justify-content-center flex-column",children:["# Task ",t+1," : ",e.Taskname]}),Object(y.jsx)("div",{style:{position:"absolute",top:"-10px",left:"20px"},className:"fw-bold bg-white rounded-5 px-3 text-primary fs-6 d-flex justify-content-center aline-center flex-column",children:e.department}),Object(y.jsxs)("div",{className:"d-flex gap-2 RemainingTimeHandel justify-content-between ",children:[m(e.endDate).delay?Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control  fw-bold p-0",children:[m(e.endDate).days," "]})," ",Object(y.jsx)("div",{children:"Day"})]}),Object(y.jsx)("h5",{className:"btn btn-danger p-1 px-3 fw-bold",children:"Late"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[m(e.endDate).days," "]})," ",Object(y.jsx)("div",{children:"Day"})]}),m(e.endDate).delay?Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control  fw-bold p-0",children:[m(e.endDate).hours," "]})," ",Object(y.jsx)("div",{children:"Min"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[m(e.endDate).hours," "]})," ",Object(y.jsx)("div",{children:"Hrs"})]}),m(e.endDate).delay?Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control fw-bold p-0",children:[m(e.endDate).minutes," "]})," ",Object(y.jsx)("div",{children:"Min"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[m(e.endDate).minutes," "]})," ",Object(y.jsx)("div",{children:"Min"})]})]})]}),Object(y.jsx)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:Object(y.jsxs)("div",{style:{height:"fit-content"},className:"form-control",children:[Object(y.jsxs)("p",{style:{height:"fit-content"},className:"text-start fs-6 form-control",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Task Discription"})," ",e.description]}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Task Durations ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[e.duration," days"]})," "]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Created By ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:e.managerEmail})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Start Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.startDate).toLocaleDateString()})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["End Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.endDate).toLocaleDateString()})]}),Object(y.jsx)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:Object(y.jsxs)("span",{children:["Task Status ",Object(y.jsx)("br",{})," ",e.status]})})]}),Object(y.jsx)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{className:"fw-bold",children:"Remarks : "})," ",e.comment]})}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("button",{className:"btn btn-info col-2 d-flex justify-center aline-center gap-2",onClick:()=>(async(e,t,a)=>{try{n(!0);const s=prompt("Enter remarks for Accept Task:");if(null===s)return void n(!1);await d.a.put("".concat(R,"/api/tasks/").concat(e),{status:"Pending",comment:s}),x.a.success("Task Accepteed successfully!");const c={taskId:Object(vt.a)(),status:"unseen",path:"taskstatus",senderMail:j,taskName:t,message:"Task Accepted by ".concat(j),adminMail:a,Account:1,taskStatus:"Accepted"};i.emit("adminTaskNotification",c),console.log(c),h()}catch(l){console.error("Error canceling task:",l.message),x.a.error("Failed to cancel task. Please try again.")}finally{n(!1)}})(e._id,e.Taskname,e.adminMail),children:[Object(y.jsx)(es.c,{}),"Accept"]}),Object(y.jsxs)("button",{className:"btn btn-primary col-2 d-flex justify-center aline-center gap-2",children:[Object(y.jsx)(N.b,{}),"View Docs"]}),Object(y.jsxs)("button",{className:"btn btn-primary col-2 d-flex justify-center aline-center gap-2",onClick:()=>(async(e,t,a)=>{try{r(!0);const s=prompt("Enter remarks for Reject Task:");if(null===s)return void r(!1);await d.a.put("".concat(R,"/api/tasks/").concat(e),{status:"Rejected",comment:s}),x.a.success("Task Rejected");const c={taskId:Object(vt.a)(),status:"unseen",path:"taskstatus",senderMail:j,taskName:t,message:"Task Rejected by ".concat(j),adminMail:a,Account:1,taskStatus:"Rejected"};i.emit("adminTaskNotification",c),h()}catch(l){console.error("Error Rejecting task:",l.message),x.a.error("Failed to Reject task. Please try again.")}finally{r(!1)}})(e._id),children:[Object(y.jsx)(D.a,{}),"Reject"]})]})]})})]},e.id)))})]})};var Yc=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!0),[l,o]=Object(s.useState)(null);return Object(s.useEffect)((()=>{(async()=>{await(async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"),{params:{status:"Cancelled"}});t(e.data)}catch(l){console.error("Error fetching cancelled tasks:",l.message),o("Error fetching cancelled tasks. Please try again later.")}finally{c(!1)}})()})()}),[]),Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsx)("h1",{className:"fs-2 text-muted fw-bolder text-uppercase",children:"\u274c Cancelled Task"}),Object(y.jsx)("p",{className:"text-muted",children:"You can view all Cancelled task here!"})," ",a&&Object(y.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(y.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(y.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),Object(y.jsx)("div",{style:{overflowY:"scroll",height:"80vh",scrollbarWidth:"thin",scrollbarGutter:"stable",scrollMargin:"1rem"},children:e.filter((e=>"Cancelled"===e.status)).map(((e,t)=>Object(y.jsxs)("details",{style:{boxShadow:"-1px 1px 10px gray"},className:"p-1 position-relative mt-3 fs-4 rounded mx-3",children:[Object(y.jsxs)("summary",{style:{height:"fit-content",background:"linear-gradient(165deg,#11009E, #700B97, 90%, #C84B31)"},className:"d-flex justify-content-between aline-center form-control text-white",children:[Object(y.jsxs)("div",{className:"fw-bold fs-5 d-flex justify-content-center flex-column",children:["# Task ",t+1," : ",e.Taskname]}),Object(y.jsx)("div",{style:{position:"absolute",top:"-10px",left:"20px"},className:"fw-bold bg-white rounded-5 px-3 text-danger fs-6 d-flex justify-content-center aline-center flex-column",children:e.department}),Object(y.jsx)("div",{className:"",children:Object(y.jsx)("p",{className:"btn btn-danger m-auto fw-bold",children:"Cancelled"})})]}),Object(y.jsxs)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:[Object(y.jsx)("div",{style:{width:"99.4%",height:"100%",zIndex:"5",backgroundColor:"rgba(128, 128, 128, 0.422)",textShadow:"-5px 5px 5px rgba(128, 128, 128, 0.422)"},className:"watermark form-control position-absolute d-flex justify-content-center aline-center",children:Object(y.jsx)("h1",{className:"text-uppercase text-light fw-bolder",children:"c a n c e l l e d"})}),Object(y.jsx)("div",{style:{height:"fit-content"},className:"form-control",children:Object(y.jsxs)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:[Object(y.jsx)("div",{style:{width:"99.4%",height:"100%",zIndex:"5",backgroundColor:"rgba(128, 128, 128, 0.422)",textShadow:"-5px 5px 5px rgba(128, 128, 128, 0.422)"},className:"watermark form-control   position-absolute d-flex justify-content-center aline-center",children:Object(y.jsx)("h1",{className:"text-uppercase text-light fw-bolder",children:"c a n c e l l e d"})}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"form-control",children:[Object(y.jsxs)("p",{style:{height:"fit-content"},className:"text-start fs-6 form-control",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Task Discription"})," ",e.description]}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Task Durations ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[e.duration," days"]})," "]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Created By ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[" ",e.managerEmail]})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Start Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.startDate).toLocaleDateString()})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["End Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.endDate).toLocaleDateString()})]}),Object(y.jsx)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:Object(y.jsxs)("span",{children:["Task Status ",Object(y.jsx)("br",{})," ",e.status]})})]}),Object(y.jsx)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{className:"fw-bold",children:"Remarks : "})," ",e.comment]})})]})]})})]})]},e.id)))})]})};var Wc=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!0),[l,o]=Object(s.useState)(null),n=localStorage.getItem("Email");return Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"),{params:{status:"Completed"}});t(e.data)}catch(l){console.error("Error fetching completed tasks:",l.message),o("Error fetching completed tasks. Please try again later.")}finally{c(!1)}})()}),[]),Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsxs)("h1",{className:"fs-2 text-muted fw-bolder text-uppercase",children:["\u2705 Completed Tasks (",e.filter((e=>"Completed"===e.status)).length,")"]}),Object(y.jsx)("p",{className:"text-muted",children:"You can view all Completed task here!"})," ",a&&Object(y.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(y.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(y.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),Object(y.jsx)("div",{style:{overflowY:"scroll",height:"80vh",scrollbarWidth:"thin",scrollbarGutter:"stable",scrollMargin:"1rem"},className:"d-flex flex-column gap-3",children:e.filter((e=>"Completed"===e.status&&e.managerEmail===n)).map(((e,t)=>Object(y.jsxs)("details",{style:{boxShadow:"-1px 1px 10px gray"},className:"p-1 position-relative mt-3 fs-4 rounded mx-3",children:[Object(y.jsxs)("summary",{style:{height:"fit-content",background:"linear-gradient(165deg,#11009E, #700B97, 90%, #C84B31)"},className:"d-flex justify-content-between aline-center form-control text-white",children:[Object(y.jsxs)("div",{className:"fw-bold fs-5 d-flex justify-content-center flex-column",children:["# Task ",t+1," : ",e.Taskname]}),Object(y.jsx)("div",{style:{position:"absolute",top:"-10px",left:"20px"},className:"fw-bold bg-white rounded-5 px-3 text-success fs-6 d-flex justify-content-center aline-center flex-column",children:e.department}),Object(y.jsx)("div",{className:"",children:Object(y.jsx)("p",{className:"btn btn-success m-auto fw-bold",children:"Completed"})})]}),Object(y.jsxs)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:[Object(y.jsx)("div",{style:{width:"99.4%",height:"100%",zIndex:"5",backgroundColor:"rgba(0, 128, 0, 0.384)",textShadow:"-5px 5px 5px rgba(128, 128, 128, 0.422)"},className:"watermark form-control   position-absolute d-flex justify-content-center aline-center",children:Object(y.jsx)("h1",{className:"text-uppercase text-light fw-bolder",children:"C O M P L E T E D"})}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"form-control",children:[Object(y.jsxs)("p",{style:{height:"fit-content"},className:"text-start fs-6 form-control",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Task Discription"})," ",e.description]}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Task Durations ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[e.duration," days"]})," "]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Created By ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[" ",e.managerEmail]})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Start Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.startDate).toLocaleDateString()})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["End Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.endDate).toLocaleDateString()})]}),Object(y.jsx)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:Object(y.jsxs)("span",{children:["Task Status ",Object(y.jsx)("br",{})," ",e.status]})})]}),Object(y.jsx)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{className:"fw-bold",children:"Remarks : "})," ",e.comment]})})]})]})]},e.id)))})]})};var Jc=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!0),[l,o]=Object(s.useState)(null);localStorage.getItem("Email");return Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"),{params:{status:"Completed"}});t(e.data)}catch(l){console.error("Error fetching completed tasks:",l.message),o("Error fetching completed tasks. Please try again later.")}finally{c(!1)}})()}),[]),Object(y.jsxs)("div",{className:"p-4",children:[Object(y.jsx)("h1",{className:"fs-2 text-muted fw-bolder text-uppercase",children:"\ud83d\udd34 Rejected Tasks"}),Object(y.jsx)("p",{className:"text-muted",children:"You can view all rejected task here!"})," ",a&&Object(y.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(y.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(y.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),Object(y.jsx)("div",{style:{overflowY:"scroll",height:"80vh",scrollbarWidth:"thin",scrollbarGutter:"stable",scrollMargin:"1rem"},className:"d-flex flex-column gap-3",children:e.filter((e=>"Rejected"===e.status)).map(((e,t)=>Object(y.jsxs)("details",{style:{boxShadow:"-1px 1px 10px gray"},className:"p-1 position-relative mt-3 fs-4 rounded mx-3",children:[Object(y.jsxs)("summary",{style:{height:"fit-content"},className:"d-flex justify-content-between aline-center form-control bg-black text-white",children:[Object(y.jsxs)("div",{className:"fw-bold fs-5 d-flex justify-content-center flex-column",children:["# Task ",t+1," : ",e.Taskname]}),Object(y.jsx)("div",{style:{position:"absolute",top:"-10px",left:"20px"},className:"fw-bold bg-white rounded-5 px-3 text-success fs-6 d-flex justify-content-center aline-center flex-column",children:e.department}),Object(y.jsx)("div",{children:Object(y.jsx)("p",{className:"btn btn-light m-auto py-1 px-3 fw-bold",children:"Rejected"})})]}),Object(y.jsxs)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:[Object(y.jsx)("div",{style:{width:"99.4%",height:"100%",zIndex:"5",backgroundColor:"rgba(5, 128, 8, 0.384)",textShadow:"-5px 5px 5px rgba(128, 128, 128, 0.422)"},className:"watermark form-control   position-absolute d-flex justify-content-center aline-center",children:Object(y.jsx)("h1",{className:"text-uppercase text-light fw-bolder",children:"R E J E C T E D"})}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"form-control",children:[Object(y.jsxs)("p",{style:{height:"fit-content"},className:"text-start fs-6 form-control",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Task Discription"})," ",e.description]}),Object(y.jsxs)("div",{className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Task Durations ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[e.duration," days"]})," "]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Created By ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[" ",e.managerEmail]})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Start Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.startDate).toLocaleDateString()})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["End Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.endDate).toLocaleDateString()})]}),Object(y.jsx)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:Object(y.jsxs)("span",{children:["Task Status ",Object(y.jsx)("br",{})," ",e.status]})})]}),Object(y.jsx)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{className:"fw-bold",children:"Remarks : "})," ",e.comment]})})]})]})]},e.id)))})]})};var Vc=()=>{const[e,t]=c.a.useState(!1),[a,l]=Object(s.useState)([]),[o,n]=Object(s.useState)(!0),[r,i]=Object(s.useState)(null),[,j]=Object(s.useState)(!1),[m,h]=Object(s.useState)([]),[b,x]=Object(s.useState)([]),[u,O]=Object(s.useState)(""),[g,f]=Object(s.useState)([]),[v,S]=Object(s.useState)(null),[k,C]=Object(s.useState)(!1),[E,L]=Object(s.useState)(!0),I=localStorage.getItem("Email"),[A,T]=Object(s.useState)([]),[F,P]=Object(s.useState)(""),[M,z]=Object(s.useState)([]),[B,_]=Object(s.useState)(null),[G,H]=Object(s.useState)(!1),[U,q]=Object(s.useState)(""),{socket:Y}=Object(s.useContext)(te),[W,J]=Object(s.useState)("");Object(s.useEffect)((()=>{d.a.get("".concat(R,"/api/employee"),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;console.log("response",e.data),T(t),n(!1);const a=t.map((e=>({data:e,Email:e.Email,department:e.department[0].DepartmentName,FirstName:e.FirstName+""+e.LastName,ContactNo:e.ContactNo,PositionName:e.position[0]?e.position[0].PositionName:""})));console.log(a),z(a)})).catch((e=>{console.log(e)}))}),[]);const V=e=>{const t=new Date;let a=new Date(e)-t;if(a<0)return a=Math.abs(a),{delay:!0,days:0,hours:0,minutes:0};return{delay:!1,days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.floor(a%36e5/6e4)}},X=async()=>{try{const e=await d.a.get("".concat(R,"/api/tasks"));l(e.data),i(null)}catch(r){console.error("Error fetching tasks:",r.message),i("Error fetching tasks. Please try again later.")}finally{n(!1)}};Object(s.useEffect)((()=>{X()}),[]),Object(s.useEffect)((()=>{console.log("getEmployee:",m)}),[m]);const K=e=>{const t=e.employees.length-e.employees.filter((e=>"Rejected"===e.emptaskStatus)).length;return e.employees.filter((e=>"Completed"===e.emptaskStatus)).length/t*100};return Object(y.jsxs)("div",{className:"py-2",children:[Object(y.jsxs)("h1",{className:"fs-3 fw-bolder text-uppercase mb-4",children:["All Active Tasks (",a.filter((e=>"Pending"===e.status&&e.managerEmail===I)).length,")"]}),o&&Object(y.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(y.jsx)("div",{className:"spinner-grow text-primary",role:"status"}),Object(y.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),r&&Object(y.jsx)("p",{className:"text-danger",children:r}),Object(y.jsx)("div",{className:"overflow-auto",style:{maxHeight:"80vh"},children:a.filter((e=>"Pending"===e.status&&e.managerEmail===I)).map(((e,a)=>Object(y.jsxs)("details",{style:{boxShadow:"-1px 1px 10px gray"},className:"p-1 position-relative mt-3 fs-4 rounded mx-3",children:[Object(y.jsxs)("summary",{style:{height:"fit-content"},className:"d-flex justify-content-between aline-center form-control bg-dark  text-white",children:[Object(y.jsxs)("div",{className:"fw-bold fs-5 d-flex justify-content-center flex-column",children:["# Task ",a+1," : ",e.Taskname]}),Object(y.jsx)("div",{style:{position:"absolute",top:"-10px",left:"20px"},className:"fw-bold bg-white rounded-5 px-3 text-primary fs-6 d-flex justify-content-center aline-center flex-column",children:e.department}),Object(y.jsxs)("div",{className:"d-flex gap-2 RemainingTimeHandel justify-content-between ",children:[V(e.endDate).delay?Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control  fw-bold p-0",children:[V(e.endDate).days," "]})," ",Object(y.jsx)("div",{children:"Day"})]}),Object(y.jsx)("h5",{className:"btn btn-danger p-1 px-3 fw-bold",children:"Late"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[V(e.endDate).days," "]})," ",Object(y.jsx)("div",{children:"Day"})]}),V(e.endDate).delay?Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control  fw-bold p-0",children:[V(e.endDate).hours," "]})," ",Object(y.jsx)("div",{children:"Min"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[V(e.endDate).hours," "]})," ",Object(y.jsx)("div",{children:"Hrs"})]}),V(e.endDate).delay?Object(y.jsxs)("div",{className:"text-center d-none",children:[Object(y.jsxs)("div",{className:"form-control fw-bold p-0",children:[V(e.endDate).minutes," "]})," ",Object(y.jsx)("div",{children:"Min"})]}):Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 5px 2px gray inset"},className:"form-control fw-bold px-1 py-0",children:[V(e.endDate).minutes," "]})," ",Object(y.jsx)("div",{children:"Min"})]})]})]}),Object(y.jsx)("div",{style:{position:"relative"},className:"row p-1 my-2 mx-0 bg-light text-dark rounded",children:Object(y.jsxs)("div",{style:{height:"fit-content"},className:"form-control",children:[Object(y.jsxs)("div",{style:{height:"fit-content"},className:"text-start fs-6 form-control",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Task Discription"}),Object(y.jsxs)("div",{className:"row justify-between",children:[Object(y.jsx)("div",{className:"col-10",children:e.description}),Object(y.jsx)("div",{className:"col-2 d-flex",style:{width:"6rem",borderRadius:"50%"},children:Object(y.jsx)(_s.a,{className:"fw-bold",value:K(e),text:"".concat(K(e).toFixed(2),"%"),styles:Object(_s.b)({pathColor:"#28a745",textColor:"#28a745"})})})]})]}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Task Durations ",Object(y.jsx)("br",{})," ",Object(y.jsxs)("span",{children:[e.duration," days"]})," "]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Created By ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:e.managerEmail})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["Start Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.startDate).toLocaleDateString()})]}),Object(y.jsxs)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:["End Date ",Object(y.jsx)("br",{})," ",Object(y.jsx)("span",{children:new Date(e.endDate).toLocaleDateString()})]}),Object(y.jsx)("p",{style:{fontSize:"1rem"},className:"col-6 col-sm-6 col-md-2",children:Object(y.jsxs)("span",{children:["Task Status ",Object(y.jsx)("br",{})," ",e.status]})})]}),Object(y.jsx)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{className:"fw-bold",children:"Remarks : "})," ",e.comment]})}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsx)("h6",{className:"fw-bold",children:"Forwarded Members Status"}),Object(y.jsxs)(ve.a,{striped:!0,bordered:!0,hover:!0,children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"S. No"}),Object(y.jsx)("th",{children:"Name"}),Object(y.jsx)("th",{children:"Email"}),Object(y.jsx)("th",{children:"Designation"}),Object(y.jsx)("th",{children:"Task Status"}),Object(y.jsx)("th",{children:"Remarks"})]})}),Object(y.jsx)("tbody",{children:e.employees.map(((e,t)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{style:{backgroundColor:"Completed"===e.emptaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.emptaskStatus?"rgba(214, 92, 44, 0.636)":"inherit"},children:t+1}),Object(y.jsx)("td",{style:{backgroundColor:"Completed"===e.emptaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.emptaskStatus?"rgba(214, 92, 44, 0.636)":"inherit"},children:e.empname}),Object(y.jsx)("td",{style:{backgroundColor:"Completed"===e.emptaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.emptaskStatus?"rgba(214, 92, 44, 0.636)":"inherit"},children:e.empemail}),Object(y.jsx)("td",{style:{backgroundColor:"Completed"===e.emptaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.emptaskStatus?"rgba(214, 92, 44, 0.636)":"inherit"},children:e.empdesignation}),Object(y.jsx)("td",{style:{backgroundColor:"Completed"===e.emptaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.emptaskStatus?"rgba(214, 92, 44, 0.636)":"inherit"},children:e.emptaskStatus}),Object(y.jsx)("td",{style:{backgroundColor:"Completed"===e.emptaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.emptaskStatus?"rgba(214, 92, 44, 0.636)":"inherit"},children:e.empTaskComment})]},t)))})]})]}),Object(y.jsxs)("div",{style:{height:"fit-content"},className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:[Object(y.jsxs)("button",{className:"btn btn-primary col-2 d-flex justify-center aline-center gap-2",onClick:()=>(async(e,a,s)=>{J(s);let c=M.filter((e=>e.department===a));z(c),q(a),S(e),t(!0)})(e._id,e.department,e.Taskname),children:[Object(y.jsx)(es.c,{})," Forward Task"]}),Object(y.jsxs)("button",{className:"btn btn-warning col-2 d-flex justify-center aline-center gap-2",onClick:()=>(async e=>{})(e._id),children:[Object(y.jsx)(N.b,{})," View Docs"]}),Object(y.jsxs)("button",{className:"btn btn-success col-2 d-flex justify-center aline-center gap-2",onClick:()=>(async(e,t,a)=>{try{j(!0);const s=prompt("Enter remarks to Complete Task:");if(null===s)return void j(!1);await d.a.put("".concat(R,"/api/tasks/").concat(e),{status:"Completed",comment:s}),p.toast.success("Task completed successfully!");const c={taskId:e,status:"unseen",path:"taskstatus",senderMail:I,taskName:t,message:"Task Completed by ".concat(I),adminMail:a,Account:1,taskStatus:"completed"};Y.emit("adminTaskNotification",c),X()}catch(r){console.error("Error completing task:",r.message),p.toast.error("Failed to complete task. Please try again.")}finally{j(!1)}})(e._id,e.adminMail,e.Taskname),disabled:100!==K(e),children:[Object(y.jsx)(w.b,{}),"Complete Task"]})]})]})})]},e.id)))}),Object(y.jsxs)(wt.a,{fullscreen:!0,show:e,onHide:()=>t(!1),children:[Object(y.jsx)(wt.a.Header,{closeButton:!0,children:Object(y.jsx)(wt.a.Title,{children:"Forward Task to Employees"})}),Object(y.jsx)(wt.a.Body,{children:Object(y.jsxs)("div",{className:"row",children:[Object(y.jsxs)("form",{className:"d-flex col-8 flex-column gap-3",children:[Object(y.jsx)("input",{className:"w-100 py-1 px-2 rounded-5 border",type:"search",name:"",placeholder:"Search...",id:"",value:u,onChange:e=>{(e=>{O(e.target.value)})(e),(e=>{const t=e.target.value.toLowerCase();if(""===t)h(g);else{const e=g.filter((e=>e.name.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.designation.toLowerCase().includes(t)));h(e)}})(e)}}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:" p-2",children:[" ",Object(y.jsx)("input",{type:"checkbox",name:"",id:"",onChange:()=>{C(!k),x(k?[]:[...M])},checked:k})," ",Object(y.jsx)("span",{children:"Select All"})]}),Object(y.jsxs)("table",{class:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"col",children:"Select"}),Object(y.jsx)("th",{scope:"col",children:"Name"}),Object(y.jsx)("th",{scope:"col",children:"Email"}),Object(y.jsx)("th",{scope:"col",children:"Contact"}),Object(y.jsx)("th",{scope:"col",children:"Designation"})]})}),Object(y.jsx)("tbody",{children:M.map(((e,t)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"row",children:Object(y.jsx)("input",{type:"checkbox",name:"",id:"",onChange:()=>(e=>{const t=b.some((t=>t.Email===e.Email));x(t?t=>t.filter((t=>t.Email!==e.Email)):[...b,e]),b.length<0?L(!0):L(!1),O("")})(e),checked:b.some((t=>t.Email===e.Email))})}),Object(y.jsx)("td",{children:e.FirstName}),Object(y.jsx)("td",{children:e.Email}),Object(y.jsx)("td",{children:e.ContactNo}),Object(y.jsx)("td",{children:e.PositionName})]},t)))})]})]})]}),Object(y.jsxs)("div",{className:"d-flex flex-column col-4 gap-2",children:[Object(y.jsx)("div",{className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",children:Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:"fw-bold",children:"Selected Employees:"}),b.map(((e,t)=>Object(y.jsx)("div",{className:"d-flex",children:Object(y.jsxs)("span",{style:{boxShadow:"-3px 3px 5px rgba(204, 201, 201, 0.767)",width:"fit-content"},className:"selected-employee-email d-flex btn gap-2 aline-center  btn-light py-1 px-2 m-1",onClick:()=>(e=>{x(b.filter((t=>t.email!==e)))})(e.Email),children:[e.FirstName," - ",e.PositionName,Object(y.jsx)("span",{className:"text-danger d-none",children:Object(y.jsx)(D.d,{})})]})},t)))]})}),Object(y.jsx)("button",{className:"btn  btn-primary",onClick:()=>(async e=>{try{const a=[];for(const t of b)try{a.push(t.Email);const s={empname:t.FirstName,empemail:t.Email,empdesignation:t.PositionName,emptaskStatus:"Task Assigned"};await d.a.post("".concat(R,"/api/tasks/").concat(e,"/employees"),{employees:[s]})}catch(r){console.error("Error forwarding task to ".concat(t.FirstName,":"),r.message)}const s=Object(vt.a)(),c={senderMail:I,employeesEmail:a,taskId:s,status:"unseen",message:"Task Assigned by ".concat(I),taskName:W,Account:2,path:"newTask"};Y.emit("employeeTaskNotification",c),X(),x([]),t(!1)}catch(r){console.error("Error forwarding task:",r.message),p.toast.error("Failed to forward task. Please try again.")}})(v),disabled:E,children:"Forward Task to Employees"}),Object(y.jsx)("button",{className:"btn btn-secondary",onClick:()=>t(!1),children:"Cancel"})]})]})})]})]})};const Xc=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(null),[l,o]=Object(s.useState)((new Date).getFullYear()),[n,r]=Object(s.useState)((new Date).getMonth()+1),[i,j]=Object(s.useState)(!1),[m,h]=Object(s.useState)(null),[b,p]=Object(s.useState)(!1),x=localStorage.getItem("Email"),u=localStorage.getItem("_id"),O=()=>{p(!0)},g=()=>{p(!1)};Object(s.useEffect)((()=>{(async()=>{try{let e=(await d.a.get("".concat(R,"/api/attendance/").concat(u),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")||"")}})).data.filter((e=>e.employeeObjID&&e.employeeObjID.Email===x));c((()=>e.length>0?e[0]:null))}catch(e){console.error("Error fetching attendance data:",e)}})()}),[u,x]);const f=e=>{switch(e){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return""}},v=()=>{if(a&&a.years){const e=(new Date).getFullYear();return a.years.filter((t=>t.year<=e))}return[]},N=e=>{const t=Math.floor(e),a=Math.floor(e/1e3),s=Math.floor(a/60),c=Math.floor(s/60),l=String(c).padStart(2,"0"),o=String(s%60).padStart(2,"0"),n=String(a%60).padStart(2,"0"),r=String(t%60).padStart(2,"0");return"".concat(l,":").concat(o,":").concat(n,":").concat(r)},D=e=>{const t=e&&e.loginTime[0];if(t){const[e,a]=t.split(":").map(Number);if(e>9||9===e&&a>45)return"H";if(e>9||9===e&&a>30)return"L"}return t?"P":"A"};return Object(y.jsxs)("div",{className:"d-flex flex-column p-5 gap-3",children:[Object(y.jsx)("div",{className:"d-flex gap-3 justify-content-between"}),a&&Object(y.jsxs)("div",{className:"d-flex gap-3",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"year",children:"Select a year:"}),Object(y.jsx)("select",{className:"form-select shadow",id:"year",value:l,onChange:e=>o(parseInt(e.target.value)),children:v().map((e=>Object(y.jsx)("option",{value:e.year,children:e.year},e.year)))})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"month",children:"Select a month:"}),Object(y.jsx)("select",{className:"form-select shadow",id:"month",value:n,onChange:e=>r(parseInt(e.target.value)),children:(S=l,S===(new Date).getFullYear()?Array.from({length:(new Date).getMonth()+1},((e,t)=>t+1)):Array.from({length:12},((e,t)=>t+1))).map((e=>Object(y.jsx)("option",{value:e,children:f(e)},e)))})]})]}),a&&Object(y.jsx)("div",{style:{overflow:"auto",height:"80vh"},children:Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"shadow-sm",children:[Object(y.jsx)("th",{className:"bg-dark text-white text-center",children:"Date"}),Object(y.jsx)("th",{className:"bg-dark text-white text-center",children:"Status"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Login Time"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Logout Time"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Break"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Total Login"}),Object(y.jsx)("th",{className:"bg-dark text-white",children:"Status"})]})}),Object(y.jsx)("tbody",{children:v().map((e=>e.months.filter((e=>e.month===n)).map((e=>e.dates.sort(((e,t)=>e.date-t.date)).map((e=>Object(y.jsxs)("tr",{className:"shadow-sm",id:"attendance-row-".concat(e.date),onMouseEnter:()=>(e=>{h(e)})(e.date),onMouseLeave:()=>{h(null)},children:[Object(y.jsx)("td",{className:"text-center",children:Object(y.jsx)("span",{className:"fw-bold bg-info py-1 px-2  shadow-sm text-white",children:e.date})}),Object(y.jsx)("td",{style:{whiteSpace:"pre",textAlign:"center"},children:D(e)}),Object(y.jsx)("td",{className:"text-uppercase",children:e.loginTime[0]}),Object(y.jsx)("td",{className:"text-uppercase",children:e.logoutTime[e.logoutTime.length-1]}),Object(y.jsxs)("td",{className:"position-relative bg-white",children:[Object(y.jsxs)("div",{style:{display:"flex ",justifyContent:"start",alignItems:"center"},className:"fs-6 gap-2 ",onMouseEnter:O,onMouseLeave:g,children:[Object(y.jsx)("span",{style:{scale:"0.7"},className:"bg-warning py-0  text-white  px-2 rounded-5 my-auto",children:e.breakTime.length}),Object(y.jsx)("span",{className:"fw-bold text-dark fs-6",children:N(e.totalBrake)})," ",Object(y.jsx)(w.c,{style:{fontSize:".9rem"},className:"text-info "})]}),Object(y.jsx)("div",{style:{zIndex:"5",right:"0%"},className:"position-absolute",children:b&&m===e.date&&Object(y.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"shadow-sm p-0",children:[Object(y.jsx)("th",{className:"bg-info  py-0 text-white",children:"Break"}),Object(y.jsx)("th",{className:"bg-info  py-0 text-white",children:"Resume"}),Object(y.jsx)("th",{className:"text-end  py-0 bg-info text-white",style:{whiteSpace:"pre"},children:"Total Break"})]})}),Object(y.jsx)("tbody",{children:e.breakTime.map(((t,a)=>Object(y.jsxs)("tr",{className:"shadow-sm",children:[Object(y.jsx)("td",{className:"text-uppercase  py-1 text-center",style:{whiteSpace:"pre"},children:t}),Object(y.jsx)("td",{className:"text-uppercase  py-1 text-center",style:{whiteSpace:"pre"},children:e.ResumeTime[a]}),Object(y.jsx)("td",{className:"text-end py-1 ",style:{whiteSpace:"pre"},children:N(e.BreakData[a])})]},a)))})]})})]}),Object(y.jsx)("td",{children:N(e.totalLogAfterBreak)}),Object(y.jsx)("td",{children:e.status})]},e.date)))))))})]})}),null===a&&Object(y.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"1rem"},children:[Object(y.jsx)("div",{className:"fs-2 fw-bolder",children:Object(y.jsx)(E.b,{className:"spinner-border text-info"})}),Object(y.jsx)("p",{className:"text-muted",children:"User not selected. To view data, please select a user."})]})]});var S};var Kc=Object(s.memo)(Xc);var $c=function(e){const[t,a]=Object(s.useState)(null),{employees:c,setEmployees:l,selectedEmployee:o,setSelectedEmployee:n,attencenceID:r,setAttencenceID:i,message:j,setMessage:m}=Object(s.useContext)(te);return Object(s.useEffect)((()=>{(async e=>{await d.a.get("http://localhost:4000/api/employee",{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{let t=e.data.filter((e=>2===e.Account));l(t)})).catch((e=>{console.log(e)}))})()}),[]),Object(s.useEffect)((()=>{(async()=>{try{const t=await d.a.get("http://localhost:4000/api/personal-info/"+e.data._id,{headers:{authorization:localStorage.getItem("token")||""}});console.log(t.data.FirstName),a(t.data.FirstName)}catch(t){console.error("Error fetching employees:",t)}})()}),[]),console.log(c),Object(y.jsxs)("div",{className:"App row",children:[Object(y.jsx)("h1",{className:"text-center text-uppercase my-3",children:"Attendance System"}),Object(y.jsxs)("div",{className:"form-control d-flex  gap-3 p-3 m-3",style:{height:"fit-content"},children:[Object(y.jsx)("input",{value:t,style:{display:"none"}}),Object(y.jsxs)("div",{className:"d-flex gap-3",children:[Object(y.jsx)("button",{className:"btn btn-success",onClick:async()=>{let e=c.filter((e=>e.FirstName===t));console.log(e);let a=e[0].attendanceObjID,s=e[0]._id;try{if(!t)return void m("Please select a user");const e=Tt()().filter("HH:mm:ss");await d.a.post("http://localhost:4000/api/attendance/".concat(a),{employeeId:s,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),loginTime:[e],status:"login"}),m("Login time recorded successfully")}catch(l){console.error("Error recording login time:",l),m("Error recording login time")}},children:"Mark Attendance"}),Object(y.jsx)("button",{className:"btn btn-danger",onClick:async()=>{let e=c.filter((e=>e.FirstName===t)),a=e[0].attendanceObjID,s=e[0]._id;try{if(!t)return void m("Please select an employee");const e=Tt()().filter("HH:mm:ss");await d.a.post("http://localhost:4000/api/attendance/".concat(a),{employeeId:s,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),logoutTime:[e],status:"logout"}),m("Logout time recorded successfully")}catch(l){console.error("Error recording logout time:",l),m("Error recording logout time")}},children:"Logout"}),Object(y.jsxs)("div",{className:"d-flex gap-3",children:[Object(y.jsx)("button",{className:"btn btn-warning",onClick:async()=>{let e=localStorage.getItem("Email");if(c){let a=c.filter((t=>t.Email===e));console.log(e);let s=a[0].attendanceObjID,l=a[0]._id;try{if(!a)return void m("Please select an employee");const e=Tt()().filter("HH:mm:ss"),t=Math.round((new Date).getTime()/1e3/60);await d.a.post("http://localhost:4000/api/attendance/".concat(s),{employeeId:l,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),breakTime:[e],breakTimeMs:[t],status:"break"}),m("Break time recorded successfully")}catch(t){console.error("Error recording break time:",t),m("Error recording break time")}}},children:"Break"}),Object(y.jsx)("button",{className:"btn btn-primary",onClick:async()=>{let e=localStorage.getItem("Email");if(c){let a=c.filter((t=>t.Email===e)),s=a[0].attendanceObjID,l=a[0]._id;try{if(!a)return void m("Please select an employee");const e=Tt()().filter("HH:mm:ss"),t=Math.round((new Date).getTime()/1e3/60);await d.a.post("http://localhost:4000/api/attendance/".concat(s),{employeeId:l,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),ResumeTime:[e],resumeTimeMS:[t],status:"resume"}),m("Resumed time recorded successfully")}catch(t){console.error("Error recording resume time:",t),m("Error recording resume time")}}},children:"Resume"})]})]})]}),j&&Object(y.jsx)("p",{children:j}),Object(y.jsx)("div",{className:"view",children:Object(y.jsx)(Kc,{})})]})};a(501);var Zc=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)([]),[l,o]=Object(s.useState)(null),{socket:n}=Object(s.useContext)(te),r=localStorage.getItem("_id"),i=localStorage.getItem("Email"),j=()=>{d.a.get("".concat(R,"/api/particularEmployee/").concat(r),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{o(e.data.Notification)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{j()}),[]),Object(s.useEffect)((()=>{n&&n.on("taskNotificationReceived",(()=>{j()}))}),[n]),Object(s.useEffect)((()=>{t(l&&a.length===l.length)}),[a,l]);return console.log(l),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("form",{className:"d-flex col-8 flex-column gap-3",children:Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"p-2",children:[" ",Object(y.jsx)("input",{type:"checkbox",name:"",id:"",onChange:()=>{t(!e),c(e?[]:[...l])},checked:e})," ",Object(y.jsx)("span",{children:"Select All"})]}),Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"col",children:"Select"}),Object(y.jsx)("th",{scope:"col",children:"task Name"}),Object(y.jsx)("th",{scope:"col",children:"Sender"}),Object(y.jsx)("th",{scope:"col",children:"Status"}),Object(y.jsx)("th",{scope:"col",children:"Action"})]})}),Object(y.jsx)("tbody",{children:l&&l.map(((e,t)=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"row",children:Object(y.jsx)("input",{type:"checkbox",name:"",id:"",onChange:()=>(e=>{const t=a.some((t=>t.taskId===e.taskId));c(t?t=>t.filter((t=>t.taskId!==e.taskId)):[...a,e])})(e),checked:a.some((t=>t.taskId===e.taskId))})}),Object(y.jsx)("td",{children:e.taskName}),Object(y.jsx)("td",{children:e.senderMail}),"unseen"===e.status?Object(y.jsx)("td",{children:"Unread"}):Object(y.jsx)("td",{children:"read"}),Object(y.jsx)("td",{children:Object(y.jsx)(Pa.a,{onClick:()=>(e=>{console.log(e),d.a.post("".concat(R,"/api/notificationDeleteHandler/").concat(e),{email:i},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{o(e.data.result.Notification),c([]),console.log("emittted"),n.emit("notificationPageUpdate",!0)})).catch((e=>{console.log(e)}))})(e.taskId),className:"bin"})})]},t)))})]})]})})}),Object(y.jsx)("button",{className:"Notification_delete",onClick:()=>{if(a.length>0){const t=a.map((e=>e.taskId)),s={employeeMail:i,tasks:t};e?l.length>0&&(console.log("clearALL"),d.a.post("".concat(R,"/api/selectedNotificationDelete"),{email:i},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{console.log(e),o(e.data.result.Notification),n.emit("notificationPageUpdate",!0)})).catch((e=>{console.log(e)}))):d.a.post("".concat(R,"/api/multiSelectedNotificationDelete"),s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{o(e.data.result.Notification),c([]),console.log("emittted"),n.emit("notificationPageUpdate",!0)})).catch((e=>{console.log(e)}))}},children:"Delete"})]})};var Qc=()=>Object(y.jsx)(Na,{children:Object(y.jsxs)("div",{id:"main-area",children:[Object(y.jsx)("div",{id:"sidebar-top-content"}),Object(y.jsxs)(r.Switch,{children:[Object(y.jsx)(r.Route,{path:"/manager/employee",component:Ds}),Object(y.jsx)(r.Route,{path:"/manager/salary",exact:!0,component:jt}),Object(y.jsx)(r.Route,{path:"/manager/company",exact:!0,component:ya}),Object(y.jsx)(r.Route,{path:"/manager/role",component:ye}),Object(y.jsx)(r.Route,{path:"/manager/position",exact:!0,component:Le}),Object(y.jsx)(r.Route,{path:"/manager/department",exact:!0,component:Me}),Object(y.jsx)(r.Route,{path:"/manager/country",exact:!0,component:Xt}),Object(y.jsx)(r.Route,{path:"/manager/state",exact:!0,component:ca}),Object(y.jsx)(r.Route,{path:"/manager/city",exact:!0,component:ha}),Object(y.jsx)(r.Route,{path:"/manager/leaveApplication",exact:!0,component:Pc}),Object(y.jsx)(r.Route,{path:"/manager/hrLeave",exact:!0,component:La}),Object(y.jsx)(r.Route,{path:"/manager/leaveAccepted",exact:!0,component:Ta}),Object(y.jsx)(r.Route,{path:"/manager/leaveRejected",exact:!0,component:Ra}),Object(y.jsx)(r.Route,{path:"/manager/city",exact:!0,component:ha}),Object(y.jsx)(r.Route,{path:"/manager/dashboard",exact:!0,component:Uc}),Object(y.jsx)(r.Route,{path:"/manager/newTask",exact:!0,component:qc}),Object(y.jsx)(r.Route,{path:"/manager/activeTask",exact:!0,component:Vc}),Object(y.jsx)(r.Route,{path:"/manager/taskcancle",exact:!0,component:Yc}),Object(y.jsx)(r.Route,{path:"/manager/taskcomplete",exact:!0,component:Wc}),Object(y.jsx)(r.Route,{path:"/manager/rejectTask",exact:!0,component:Jc}),Object(y.jsx)(r.Route,{path:"/manager/attenDance",exact:!0,component:$c}),Object(y.jsx)(r.Route,{path:"/manager/viewAttenDance",exact:!0,component:Rs}),Object(y.jsx)(r.Route,{path:"/manager/holiday",exact:!0,component:Bt}),Object(y.jsx)(r.Route,{path:"/manager/todaysAttendance",exact:!0,component:Js}),Object(y.jsx)(r.Route,{path:"/manager/notification",exact:!0,component:Zc}),Object(y.jsx)(r.Route,{path:"/manager/createLeave",exact:!0,component:La}),Object(y.jsx)(r.Route,{render:()=>Object(y.jsx)(yt,{})})]})]})});var el=e=>{const[t,a]=Object(s.useState)(!0);return Object(y.jsx)(Ya,{children:Object(y.jsx)(n.a,{children:Object(y.jsxs)("div",{id:"outer-main-div",children:[Object(y.jsx)("div",{id:"outer-nav",children:Object(y.jsx)(qa,{loginInfo:e.data,checked:t,handleChange:()=>{console.log("switch"),t?document.getElementById("sidebar").setAttribute("class","display-none"):document.getElementById("sidebar").setAttribute("class","display-block"),a(!t)},onLogout:e.onLogout})}),Object(y.jsxs)("div",{className:"d-flex",children:[Object(y.jsx)(Ac,{}),Object(y.jsx)("div",{className:"p-0 w-100",children:Object(y.jsx)(Qc,{})})]})]})})})},tl=(a(502),a(247));var al=()=>{const e=Object(r.useHistory)(),[t,a]=Object(s.useState)(1),[c,l]=Object(s.useState)({email:"",otp:"",pass:"",confirm_pass:""}),[o,n]=Object(s.useState)({password:"",confirmPassword:""});Object(s.useEffect)((()=>{n({password:"",confirmPassword:""})}),[t]);const[i,j]=Object(s.useState)({password:"",confirmPassword:""}),[m,h]=Object(s.useState)(0),[b,p]=Object(s.useState)("");Object(s.useEffect)((()=>{const e=setInterval((()=>{if(m>0){if(1===m&&2===t)return clearInterval(e),void p("");h(m-1)}}),1e3);return()=>clearInterval(e)}),[m]);const x=async()=>{const e=localStorage.getItem("id");await d.a.post("".concat(R,"/api/send_otp/").concat(e),c).then((e=>{let t=(new Date).getSeconds();h(e.data.time-t+1)})).catch((e=>{}))};return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"login-container",children:Object(y.jsxs)("div",{className:"main",children:[Object(y.jsxs)("div",{className:"stage-indicator",children:[Object(y.jsx)("div",{className:"logo",children:Object(y.jsx)("img",{src:Ga,alt:""})}),Object(y.jsx)("div",{className:"progress-container",children:Object(y.jsx)("div",{className:"progress-bar step-".concat(t)})}),Object(y.jsxs)("span",{className:"stage-text",children:["Stage ",t," of 3"]})]}),1===t&&Object(y.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),(async()=>{await d.a.post("".concat(R,"/api/verfy_email"),c).then((e=>{localStorage.setItem("id",e.data.user._id),x(),a(2)})).catch((e=>{"Enter valid email id"===e.response.data.message&&alert(e.response.data.message)}))})()},className:"login-form",children:[Object(y.jsx)("input",{type:"email",placeholder:"Enter your email",value:c.email,onChange:e=>l((t=>({...t,email:e.target.value}))),className:"login-input",required:!0}),Object(y.jsx)("button",{type:"submit",className:"login-button",children:"Next"})]}),2===t&&m>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await d.a.post("".concat(R,"/api/verfy_otp"),c)}catch(t){if(console.log(t.response.data.message),"your requist is faild"===t.response.data.message)return void alert("invalid otp")}a(3)},className:"login-form mb-3",children:[Object(y.jsxs)("p",{className:"count-Down",children:["Time Left: ",m," sec"]}),Object(y.jsx)("input",{type:"number",placeholder:"Enter OTP",value:c.otp,onChange:e=>l((t=>({...t,otp:e.target.value}))),className:"login-input",required:!0}),Object(y.jsx)("button",{type:"submit",className:"login-button",children:"Next"})]}),Object(y.jsx)("div",{className:"box",children:Object(y.jsx)("button",{className:"bg-none mt-2 fw-semibold mx-auto text-primary",onClick:x,style:{background:"none",border:"none",fontSize:"14px"},children:"Resend Otp"})})]}):Object(y.jsx)("p",{children:b}),3===t&&Object(y.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),""===c.pass)n({password:"Password should not be empty"});else{const t=localStorage.getItem("id");await d.a.post("".concat(R,"/api/forgot_pass/").concat(t),c).then((t=>{console.log(t),localStorage.removeItem("id"),e.push("/login#/login"),alert("Your Password is Updated")})).catch((e=>{console.log(e)}))}a(3)},className:"login-form mb-3",children:[Object(y.jsx)("p",{className:"label",children:"Password"}),Object(y.jsx)("input",{value:c.pass,onChange:e=>l((t=>({...t,pass:e.target.value}))),name:"password",type:"password",className:"login-input",placeholder:"Password",required:!0}),Object(y.jsx)("p",{className:"error-message",children:o.password}),Object(y.jsx)("input",{type:"submit",className:"login-button",value:"Submit",onClick:()=>{i.password&&i.confirmPassword===i.password&&alert("successfully changed")}})]}),Object(y.jsx)("div",{className:"box text-center",children:Object(y.jsx)(tl.Link,{to:"login#/login",className:"fw-semibold",style:{fontSize:"14px"},children:"Do You Login Hear"})})]})})})};var sl=()=>{const[e,t]=Object(s.useState)({}),[a,c]=Object(s.useState)(!1),[l,o]=Object(s.useState)(!0),[i,j]=Object(s.useState)(!1),[h,p]=Object(s.useState)(!0),[u,O]=Object(s.useState)(null);Object(s.useEffect)((()=>{t({_id:localStorage.getItem("_id")||"",Account:localStorage.getItem("Account")||"",Name:localStorage.getItem("Name")||"",Email:localStorage.getItem("Email")||""}),j("true"===localStorage.getItem("isLogin")),h&&!i&&p(!1)}),[h,i]);const g=(e,t)=>{console.log(e,t,localStorage.getItem("token")),d.a.get("".concat(R,"/api/employee"),{headers:{authorization:localStorage.getItem("token")||""}}).then((a=>{let s=a.data.filter((e=>e.Account===t));console.log(s),O(s),w(s,e)})).catch((e=>{console.log(e)}))},f=e=>{e.preventDefault(),o(!0),c(!0),D(e.target[0].value,e.target[1].value),e.target.reset()},N=()=>{console.log("logout"),(async()=>{let e=localStorage.getItem("Email");if(console.log(u,e),u){let a=u.filter((t=>t.Email===e));console.log(a);let s=a[0].attendanceObjID,c=a[0]._id;try{if(!e)return void alert("Please select an employee");const t=Tt()().format("HH:mm:ss"),a=Math.round((new Date).getTime()/1e3/60);await d.a.post("".concat(R,"/api/attendance/").concat(s),{employeeId:c,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),logoutTime:[t],logoutTimeMs:[a],status:"logout"}),x.a.success("Logout time recorded successfully")}catch(t){console.error("Error recording logout time:",t),x.a.error("Error recording logout time")}}})(),localStorage.clear(),t({}),j(!1)},w=async(e,t)=>{if(console.log(e),e&&t){let s=e.filter((e=>e.Email===t));console.log(s[0].attendanceObjID,s[0]._id);let c=s[0].attendanceObjID,l=s[0]._id;try{if(!e||!t)return void alert("Please select a user");const a=Tt()().format("HH:mm:ss"),s=Math.round((new Date).getTime()/1e3/60);await d.a.post("".concat(R,"/api/attendance/").concat(c),{employeeId:l,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),loginTime:[a],loginTimeMs:[s],status:"login"}),x.a.success("Login time recorded successfully")}catch(a){console.error("Error recording login time:",a),x.a.error("Error recording login time")}}},D=(e,t)=>{const a={email:e,password:t};d.a.post("".concat(R,"/api/login"),a).then((e=>{const t=m.a.decode(e.data);localStorage.setItem("token",e.data),1===t.Account?(o(!0),c(!1),j(!0),localStorage.setItem("isLogin",!0),localStorage.setItem("Account",1),localStorage.setItem("_id",t._id),localStorage.setItem("Name","".concat(t.FirstName," ").concat(t.LastName)),localStorage.setItem("Email",a.email),g(a.email,t.Account),b.push("#/admin/dashboard")):2===t.Account?(o(!0),c(!1),j(!0),localStorage.setItem("isLogin",!0),localStorage.setItem("Account",2),localStorage.setItem("_id",t._id),localStorage.setItem("Name","".concat(t.FirstName," ").concat(t.LastName)),localStorage.setItem("Email",a.email),g(a.email,t.Account),b.push("#/hr/dashboard")):4===t.Account?(o(!0),c(!1),j(!0),localStorage.setItem("isLogin",!0),localStorage.setItem("Account",4),localStorage.setItem("_id",t._id),localStorage.setItem("Name","".concat(t.FirstName," ").concat(t.LastName)),localStorage.setItem("Email",a.email),g(a.email,t.Account),b.push("#/manager/dashboard")):3===t.Account&&(o(!0),c(!1),j(!0),localStorage.setItem("isLogin",!0),localStorage.setItem("Account",3),localStorage.setItem("_id",t._id),localStorage.setItem("Name","".concat(t.FirstName," ").concat(t.LastName)),localStorage.setItem("Email",a.email),(async(e,t)=>{console.log(e,t);try{const a=await d.a.get("".concat(R,"/api/employee/")+e,{headers:{authorization:localStorage.getItem("token")||""}});console.log(a.data),O(a.data),w(a.data,t)}catch(a){console.error("Error fetching employees:",a)}})(t._id,a.email))})).catch((e=>{console.log(e),o(!1),c(!1)}))};return Object(y.jsxs)(n.a,{children:[Object(y.jsx)(r.Route,{exact:!0,path:"/login",render:()=>1==e.Account?Object(y.jsx)(r.Redirect,{to:"/admin/dashboard"}):2==e.Account?Object(y.jsx)(r.Redirect,{to:"/hr/dashboard"}):3==e.Account?Object(y.jsx)(r.Redirect,{to:"/employee/dashboard"}):4==e.Account?Object(y.jsx)(r.Redirect,{to:"/manager/dashboard"}):Object(y.jsx)(v,{onSubmit:f,loading:a,pass:l})}),Object(y.jsx)(r.Route,{path:"/admin",render:()=>1==e.Account?Object(y.jsx)(Wa,{data:e,onLogout:N}):Object(y.jsx)(r.Redirect,{to:"/login"})}),Object(y.jsx)(r.Route,{path:"/hr",render:()=>2==e.Account?Object(y.jsx)(tc,{data:e,onLogout:N}):Object(y.jsx)(r.Redirect,{to:"/login"})}),Object(y.jsx)(r.Route,{path:"/employee/",render:()=>3==e.Account?Object(y.jsx)(Cc,{data:e,onLogout:N}):Object(y.jsx)(r.Redirect,{to:"/login"})}),Object(y.jsx)(r.Route,{path:"/manager/",render:()=>4==e.Account?Object(y.jsx)(el,{data:e,onLogout:N}):Object(y.jsx)(r.Redirect,{to:"/login"})}),Object(y.jsx)(r.Route,{path:"/forgetPassword",exact:!0,component:al}),Object(y.jsx)(r.Route,{path:"/",render:()=>Object(y.jsx)(r.Redirect,{to:"/login"})}),Object(y.jsx)(r.Route,{render:()=>Object(y.jsx)(r.Redirect,{to:"/login"})})]})};a(503);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var cl=a(249);var ll=e=>{let{children:t}=e;const a=Object(s.useMemo)((()=>Object(cl.a)("".concat(R))),[]),[c,l]=Object(s.useState)([]),[o,n]=Object(s.useState)(""),[r,i]=Object(s.useState)(""),[d,j]=Object(s.useState)(""),[m,h]=Object(s.useState)("");return Object(y.jsx)(te.Provider,{value:{socket:a,emailInput:m,setEmailInput:h,employees:c,setEmployees:l,selectedEmployee:o,setSelectedEmployee:n,attencenceID:r,setAttencenceID:i,message:d,setMessage:j},children:t})};o.a.createRoot(document.getElementById("root")).render(Object(y.jsxs)(c.a.StrictMode,{children:[Object(y.jsx)(Qs,{children:Object(y.jsx)(ll,{children:Object(y.jsx)(sl,{})})}),Object(y.jsx)(p.Toaster,{position:"top-center",reverseOrder:!1,gutter:8,containerClassName:"",containerStyle:{},toastOptions:{className:"",duration:5e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,theme:{primary:"green",secondary:"black"}}}})," "]})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}))}},[[504,1,2]]]);
//# sourceMappingURL=main.acb1edbc.chunk.js.map